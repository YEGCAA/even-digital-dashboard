var U$=Object.defineProperty;var $$=(e,t,n)=>t in e?U$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wg=(e,t,n)=>$$(e,typeof t!="symbol"?t+"":t,n);function z$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function $r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B$(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Xg={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function q$(){if(OT)return pu;OT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return pu.Fragment=t,pu.jsx=n,pu.jsxs=n,pu}var IT;function G$(){return IT||(IT=1,Xg.exports=q$()),Xg.exports}var x=G$(),Zg={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function H$(){if(PT)return Re;PT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C(j,ee,de){this.props=j,this.context=ee,this.refs=T,this.updater=de||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=C.prototype;function R(j,ee,de){this.props=j,this.context=ee,this.refs=T,this.updater=de||S}var I=R.prototype=new P;I.constructor=R,E(I,C.prototype),I.isPureReactComponent=!0;var O=Array.isArray;function M(){}var k={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function z(j,ee,de){var fe=de.ref;return{$$typeof:e,type:j,key:ee,ref:fe!==void 0?fe:null,props:de}}function ie(j,ee){return z(j.type,ee,j.props)}function B(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function L(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(de){return ee[de]})}var G=/\/+/g;function J(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):ee.toString(36)}function ne(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(M,M):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,ee,de,fe,_e){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var ce=!1;if(j===null)ce=!0;else switch(pe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(j.$$typeof){case e:case t:ce=!0;break;case h:return ce=j._init,$(ce(j._payload),ee,de,fe,_e)}}if(ce)return _e=_e(j),ce=fe===""?"."+J(j,0):fe,O(_e)?(de="",ce!=null&&(de=ce.replace(G,"$&/")+"/"),$(_e,ee,de,"",function(Ce){return Ce})):_e!=null&&(B(_e)&&(_e=ie(_e,de+(_e.key==null||j&&j.key===_e.key?"":(""+_e.key).replace(G,"$&/")+"/")+ce)),ee.push(_e)),1;ce=0;var tt=fe===""?".":fe+":";if(O(j))for(var te=0;te<j.length;te++)fe=j[te],pe=tt+J(fe,te),ce+=$(fe,ee,de,pe,_e);else if(te=_(j),typeof te=="function")for(j=te.call(j),te=0;!(fe=j.next()).done;)fe=fe.value,pe=tt+J(fe,te++),ce+=$(fe,ee,de,pe,_e);else if(pe==="object"){if(typeof j.then=="function")return $(ne(j),ee,de,fe,_e);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Z(j,ee,de){if(j==null)return j;var fe=[],_e=0;return $(j,fe,"","",function(pe){return ee.call(de,pe,_e++)}),fe}function F(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(de){(j._status===0||j._status===-1)&&(j._status=1,j._result=de)},function(de){(j._status===0||j._status===-1)&&(j._status=2,j._result=de)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},he={map:Z,forEach:function(j,ee,de){Z(j,function(){ee.apply(this,arguments)},de)},count:function(j){var ee=0;return Z(j,function(){ee++}),ee},toArray:function(j){return Z(j,function(ee){return ee})||[]},only:function(j){if(!B(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=m,Re.Children=he,Re.Component=C,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=R,Re.StrictMode=r,Re.Suspense=d,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return k.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,ee,de){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var fe=E({},j.props),_e=j.key;if(ee!=null)for(pe in ee.key!==void 0&&(_e=""+ee.key),ee)!H.call(ee,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ee.ref===void 0||(fe[pe]=ee[pe]);var pe=arguments.length-2;if(pe===1)fe.children=de;else if(1<pe){for(var ce=Array(pe),tt=0;tt<pe;tt++)ce[tt]=arguments[tt+2];fe.children=ce}return z(j.type,_e,fe)},Re.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},Re.createElement=function(j,ee,de){var fe,_e={},pe=null;if(ee!=null)for(fe in ee.key!==void 0&&(pe=""+ee.key),ee)H.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(_e[fe]=ee[fe]);var ce=arguments.length-2;if(ce===1)_e.children=de;else if(1<ce){for(var tt=Array(ce),te=0;te<ce;te++)tt[te]=arguments[te+2];_e.children=tt}if(j&&j.defaultProps)for(fe in ce=j.defaultProps,ce)_e[fe]===void 0&&(_e[fe]=ce[fe]);return z(j,pe,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:u,render:j}},Re.isValidElement=B,Re.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:F}},Re.memo=function(j,ee){return{$$typeof:f,type:j,compare:ee===void 0?null:ee}},Re.startTransition=function(j){var ee=k.T,de={};k.T=de;try{var fe=j(),_e=k.S;_e!==null&&_e(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(M,le)}catch(pe){le(pe)}finally{ee!==null&&de.types!==null&&(ee.types=de.types),k.T=ee}},Re.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Re.use=function(j){return k.H.use(j)},Re.useActionState=function(j,ee,de){return k.H.useActionState(j,ee,de)},Re.useCallback=function(j,ee){return k.H.useCallback(j,ee)},Re.useContext=function(j){return k.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,ee){return k.H.useDeferredValue(j,ee)},Re.useEffect=function(j,ee){return k.H.useEffect(j,ee)},Re.useEffectEvent=function(j){return k.H.useEffectEvent(j)},Re.useId=function(){return k.H.useId()},Re.useImperativeHandle=function(j,ee,de){return k.H.useImperativeHandle(j,ee,de)},Re.useInsertionEffect=function(j,ee){return k.H.useInsertionEffect(j,ee)},Re.useLayoutEffect=function(j,ee){return k.H.useLayoutEffect(j,ee)},Re.useMemo=function(j,ee){return k.H.useMemo(j,ee)},Re.useOptimistic=function(j,ee){return k.H.useOptimistic(j,ee)},Re.useReducer=function(j,ee,de){return k.H.useReducer(j,ee,de)},Re.useRef=function(j){return k.H.useRef(j)},Re.useState=function(j){return k.H.useState(j)},Re.useSyncExternalStore=function(j,ee,de){return k.H.useSyncExternalStore(j,ee,de)},Re.useTransition=function(){return k.H.useTransition()},Re.version="19.2.4",Re}var RT;function sl(){return RT||(RT=1,Zg.exports=H$()),Zg.exports}var A=sl();const Uu=$r(A),F$=z$({__proto__:null,default:Uu},[A]);var Qg={exports:{}},mu={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function V$(){return MT||(MT=1,(function(e){function t($,Z){var F=$.length;$.push(Z);e:for(;0<F;){var le=F-1>>>1,he=$[le];if(0<i(he,Z))$[le]=Z,$[F]=he,F=le;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],F=$.pop();if(F!==Z){$[0]=F;e:for(var le=0,he=$.length,j=he>>>1;le<j;){var ee=2*(le+1)-1,de=$[ee],fe=ee+1,_e=$[fe];if(0>i(de,F))fe<he&&0>i(_e,de)?($[le]=_e,$[fe]=F,le=fe):($[le]=de,$[ee]=F,le=ee);else if(fe<he&&0>i(_e,F))$[le]=_e,$[fe]=F,le=fe;else break e}}return Z}function i($,Z){var F=$.sortIndex-Z.sortIndex;return F!==0?F:$.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,v=3,_=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I($){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=$)r(f),Z.sortIndex=Z.expirationTime,t(d,Z);else break;Z=n(f)}}function O($){if(E=!1,I($),!S)if(n(d)!==null)S=!0,M||(M=!0,L());else{var Z=n(f);Z!==null&&ne(O,Z.startTime-$)}}var M=!1,k=-1,H=5,z=-1;function ie(){return T?!0:!(e.unstable_now()-z<H)}function B(){if(T=!1,M){var $=e.unstable_now();z=$;var Z=!0;try{e:{S=!1,E&&(E=!1,P(k),k=-1),_=!0;var F=v;try{t:{for(I($),m=n(d);m!==null&&!(m.expirationTime>$&&ie());){var le=m.callback;if(typeof le=="function"){m.callback=null,v=m.priorityLevel;var he=le(m.expirationTime<=$);if($=e.unstable_now(),typeof he=="function"){m.callback=he,I($),Z=!0;break t}m===n(d)&&r(d),I($)}else r(d);m=n(d)}if(m!==null)Z=!0;else{var j=n(f);j!==null&&ne(O,j.startTime-$),Z=!1}}break e}finally{m=null,v=F,_=!1}Z=void 0}}finally{Z?L():M=!1}}}var L;if(typeof R=="function")L=function(){R(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=B,L=function(){J.postMessage(null)}}else L=function(){C(B,0)};function ne($,Z){k=C(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var F=v;v=Z;try{return $()}finally{v=F}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var F=v;v=$;try{return Z()}finally{v=F}},e.unstable_scheduleCallback=function($,Z,F){var le=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?le+F:le):F=le,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=F+he,$={id:h++,callback:Z,priorityLevel:$,startTime:F,expirationTime:he,sortIndex:-1},F>le?($.sortIndex=F,t(f,$),n(d)===null&&$===n(f)&&(E?(P(k),k=-1):E=!0,ne(O,F-le))):($.sortIndex=he,t(d,$),S||_||(S=!0,M||(M=!0,L()))),$},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function($){var Z=v;return function(){var F=v;v=Z;try{return $.apply(this,arguments)}finally{v=F}}}})(tv)),tv}var DT;function K$(){return DT||(DT=1,ev.exports=V$()),ev.exports}var nv={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function Y$(){if(kT)return xn;kT=1;var e=sl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,h)},xn.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},xn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},xn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},xn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},xn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},xn.requestFormReset=function(d){r.d.r(d)},xn.unstable_batchedUpdates=function(d,f){return d(f)},xn.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},xn.version="19.2.4",xn}var jT;function XP(){if(jT)return nv.exports;jT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nv.exports=Y$(),nv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function J$(){if(LT)return mu;LT=1;var e=K$(),t=sl(),n=XP();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,p=s;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return d(b),o;if(w===p)return d(b),s;w=w.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=w;else{for(var N=!1,D=b.child;D;){if(D===c){N=!0,c=b,p=w;break}if(D===p){N=!0,p=b,c=w;break}D=D.sibling}if(!N){for(D=w.child;D;){if(D===c){N=!0,c=w,p=b;break}if(D===p){N=!0,p=w,c=b;break}D=D.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function L(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var G=Symbol.for("react.client.reference");function J(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===G?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case R:return o.displayName||"Context";case P:return(o._context.displayName||"Context")+".Consumer";case I:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return s=o.displayName||null,s!==null?s:J(o.type)||"Memo";case H:s=o._payload,o=o._init;try{return J(o(s))}catch{}}return null}var ne=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},le=[],he=-1;function j(o){return{current:o}}function ee(o){0>he||(o.current=le[he],le[he]=null,he--)}function de(o,s){he++,le[he]=o.current,o.current=s}var fe=j(null),_e=j(null),pe=j(null),ce=j(null);function tt(o,s){switch(de(pe,s),de(_e,o),de(fe,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?ZE(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=ZE(s),o=QE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(fe),de(fe,o)}function te(){ee(fe),ee(_e),ee(pe)}function Ce(o){o.memoizedState!==null&&de(ce,o);var s=fe.current,c=QE(s,o.type);s!==c&&(de(_e,o),de(fe,c))}function Le(o){_e.current===o&&(ee(fe),ee(_e)),ce.current===o&&(ee(ce),cu._currentValue=F)}var ue,Ye;function Me(o){if(ue===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ue=s&&s[1]||"",Ye=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+o+Ye}var ht=!1;function Mt(o,s){if(!o||ht)return"";ht=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(re){var Q=re}Reflect.construct(o,[],se)}else{try{se.call()}catch(re){Q=re}o.call(se.prototype)}}else{try{throw Error()}catch(re){Q=re}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(re){if(re&&Q&&typeof re.stack=="string")return[re.stack,Q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),N=w[0],D=w[1];if(N&&D){var U=N.split(`
`),W=D.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<W.length&&!W[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===W.length)for(p=U.length-1,b=W.length-1;1<=p&&0<=b&&U[p]!==W[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==W[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==W[b]){var ae=`
`+U[p].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=p&&0<=b);break}}}finally{ht=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?Me(c):""}function ar(o,s){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==s&&s!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Mt(o.type,!1);case 11:return Mt(o.type.render,!1);case 1:return Mt(o.type,!0);case 31:return Me("Activity");default:return""}}function Ki(o){try{var s="",c=null;do s+=ar(o,c),c=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ro=Object.prototype.hasOwnProperty,Mo=e.unstable_scheduleCallback,Do=e.unstable_cancelCallback,Ac=e.unstable_shouldYield,Cc=e.unstable_requestPaint,bn=e.unstable_now,K=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,Se=e.unstable_NormalPriority,Ue=e.unstable_LowPriority,at=e.unstable_IdlePriority,$e=e.log,ze=e.unstable_setDisableYieldValue,Dt=null,kt=null;function Gr(o){if(typeof $e=="function"&&ze(o),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Dt,o)}catch{}}var Gn=Math.clz32?Math.clz32:EL,wL=Math.log,SL=Math.LN2;function EL(o){return o>>>=0,o===0?32:31-(wL(o)/SL|0)|0}var Nc=256,Oc=262144,Ic=4194304;function ka(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Pc(o,s,c){var p=o.pendingLanes;if(p===0)return 0;var b=0,w=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var D=p&134217727;return D!==0?(p=D&~w,p!==0?b=ka(p):(N&=D,N!==0?b=ka(N):c||(c=D&~o,c!==0&&(b=ka(c))))):(D=p&~w,D!==0?b=ka(D):N!==0?b=ka(N):c||(c=p&~o,c!==0&&(b=ka(c)))),b===0?0:s!==0&&s!==b&&(s&w)===0&&(w=b&-b,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:b}function Sl(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function TL(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M_(){var o=Ic;return Ic<<=1,(Ic&62914560)===0&&(Ic=4194304),o}function Up(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function El(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function AL(o,s,c,p,b,w){var N=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var D=o.entanglements,U=o.expirationTimes,W=o.hiddenUpdates;for(c=N&~c;0<c;){var ae=31-Gn(c),se=1<<ae;D[ae]=0,U[ae]=-1;var Q=W[ae];if(Q!==null)for(W[ae]=null,ae=0;ae<Q.length;ae++){var re=Q[ae];re!==null&&(re.lane&=-536870913)}c&=~se}p!==0&&D_(o,p,0),w!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=w&~(N&~s))}function D_(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-Gn(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|c&261930}function k_(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var p=31-Gn(c),b=1<<p;b&s|o[p]&s&&(o[p]|=s),c&=~b}}function j_(o,s){var c=s&-s;return c=(c&42)!==0?1:$p(c),(c&(o.suspendedLanes|s))!==0?0:c}function $p(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function L_(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:wT(o.type))}function U_(o,s){var c=Z.p;try{return Z.p=o,s()}finally{Z.p=c}}var Yi=Math.random().toString(36).slice(2),on="__reactFiber$"+Yi,Rn="__reactProps$"+Yi,ko="__reactContainer$"+Yi,Bp="__reactEvents$"+Yi,CL="__reactListeners$"+Yi,NL="__reactHandles$"+Yi,$_="__reactResources$"+Yi,Tl="__reactMarker$"+Yi;function qp(o){delete o[on],delete o[Rn],delete o[Bp],delete o[CL],delete o[NL]}function jo(o){var s=o[on];if(s)return s;for(var c=o.parentNode;c;){if(s=c[ko]||c[on]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=oT(o);o!==null;){if(c=o[on])return c;o=oT(o)}return s}o=c,c=o.parentNode}return null}function Lo(o){if(o=o[on]||o[ko]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Al(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Uo(o){var s=o[$_];return s||(s=o[$_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(o){o[Tl]=!0}var z_=new Set,B_={};function ja(o,s){$o(o,s),$o(o+"Capture",s)}function $o(o,s){for(B_[o]=s,o=0;o<s.length;o++)z_.add(s[o])}var OL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),q_={},G_={};function IL(o){return Ro.call(G_,o)?!0:Ro.call(q_,o)?!1:OL.test(o)?G_[o]=!0:(q_[o]=!0,!1)}function Rc(o,s,c){if(IL(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function Mc(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function ai(o,s,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+p)}}function or(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function H_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function PL(o,s,c){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(N){c=""+N,w.call(this,N)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Gp(o){if(!o._valueTracker){var s=H_(o)?"checked":"value";o._valueTracker=PL(o,s,""+o[s])}}function F_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return o&&(p=H_(o)?o.checked?"true":"false":o.value),o=p,o!==c?(s.setValue(o),!0):!1}function Dc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var RL=/[\n"\\]/g;function sr(o){return o.replace(RL,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hp(o,s,c,p,b,w,N,D){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),s!=null?N==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+or(s)):o.value!==""+or(s)&&(o.value=""+or(s)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),s!=null?Fp(o,N,or(s)):c!=null?Fp(o,N,or(c)):p!=null&&o.removeAttribute("value"),b==null&&w!=null&&(o.defaultChecked=!!w),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+or(D):o.removeAttribute("name")}function V_(o,s,c,p,b,w,N,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){Gp(o);return}c=c!=null?""+or(c):"",s=s!=null?""+or(s):c,D||s===o.value||(o.value=s),o.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=D?o.checked:!!p,o.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),Gp(o)}function Fp(o,s,c){s==="number"&&Dc(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function zo(o,s,c,p){if(o=o.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<o.length;c++)b=s.hasOwnProperty("$"+o[c].value),o[c].selected!==b&&(o[c].selected=b),b&&p&&(o[c].defaultSelected=!0)}else{for(c=""+or(c),s=null,b=0;b<o.length;b++){if(o[b].value===c){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function K_(o,s,c){if(s!=null&&(s=""+or(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+or(c):""}function Y_(o,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(ne(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=or(s),o.defaultValue=c,p=o.textContent,p===c&&p!==""&&p!==null&&(o.value=p),Gp(o)}function Bo(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var ML=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function J_(o,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,c):typeof c!="number"||c===0||ML.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function W_(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&J_(o,b,p)}else for(var w in s)s.hasOwnProperty(w)&&J_(o,w,s[w])}function Vp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kc(o){return kL.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function oi(){}var Kp=null;function Yp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qo=null,Go=null;function X_(o){var s=Lo(o);if(s&&(o=s.stateNode)){var c=o[Rn]||null;e:switch(o=s.stateNode,s.type){case"input":if(Hp(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+sr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==o&&p.form===o.form){var b=p[Rn]||null;if(!b)throw Error(r(90));Hp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===o.form&&F_(p)}break e;case"textarea":K_(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&zo(o,!!c.multiple,s,!1)}}}var Jp=!1;function Z_(o,s,c){if(Jp)return o(s,c);Jp=!0;try{var p=o(s);return p}finally{if(Jp=!1,(qo!==null||Go!==null)&&(wd(),qo&&(s=qo,o=Go,Go=qo=null,X_(s),o)))for(s=0;s<o.length;s++)X_(o[s])}}function Cl(o,s){var c=o.stateNode;if(c===null)return null;var p=c[Rn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=!1;if(si)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Wp=!1}var Ji=null,Xp=null,jc=null;function Q_(){if(jc)return jc;var o,s=Xp,c=s.length,p,b="value"in Ji?Ji.value:Ji.textContent,w=b.length;for(o=0;o<c&&s[o]===b[o];o++);var N=c-o;for(p=1;p<=N&&s[c-p]===b[w-p];p++);return jc=b.slice(o,1<p?1-p:void 0)}function Lc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Uc(){return!0}function ew(){return!1}function Mn(o){function s(c,p,b,w,N){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(c=o[D],this[D]=c?c(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Uc:ew,this.isPropagationStopped=ew,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),s}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Mn(La),Ol=m({},La,{view:0,detail:0}),jL=Mn(Ol),Zp,Qp,Il,zc=m({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Il&&(Il&&o.type==="mousemove"?(Zp=o.screenX-Il.screenX,Qp=o.screenY-Il.screenY):Qp=Zp=0,Il=o),Zp)},movementY:function(o){return"movementY"in o?o.movementY:Qp}}),tw=Mn(zc),LL=m({},zc,{dataTransfer:0}),UL=Mn(LL),$L=m({},Ol,{relatedTarget:0}),em=Mn($L),zL=m({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),BL=Mn(zL),qL=m({},La,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),GL=Mn(qL),HL=m({},La,{data:0}),nw=Mn(HL),FL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YL(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=KL[o])?!!s[o]:!1}function tm(){return YL}var JL=m({},Ol,{key:function(o){if(o.key){var s=FL[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Lc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?VL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tm,charCode:function(o){return o.type==="keypress"?Lc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Lc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),WL=Mn(JL),XL=m({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rw=Mn(XL),ZL=m({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tm}),QL=Mn(ZL),eU=m({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),tU=Mn(eU),nU=m({},zc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),rU=Mn(nU),iU=m({},La,{newState:0,oldState:0}),aU=Mn(iU),oU=[9,13,27,32],nm=si&&"CompositionEvent"in window,Pl=null;si&&"documentMode"in document&&(Pl=document.documentMode);var sU=si&&"TextEvent"in window&&!Pl,iw=si&&(!nm||Pl&&8<Pl&&11>=Pl),aw=" ",ow=!1;function sw(o,s){switch(o){case"keyup":return oU.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ho=!1;function lU(o,s){switch(o){case"compositionend":return lw(s);case"keypress":return s.which!==32?null:(ow=!0,aw);case"textInput":return o=s.data,o===aw&&ow?null:o;default:return null}}function uU(o,s){if(Ho)return o==="compositionend"||!nm&&sw(o,s)?(o=Q_(),jc=Xp=Ji=null,Ho=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return iw&&s.locale!=="ko"?null:s.data;default:return null}}var cU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uw(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!cU[o.type]:s==="textarea"}function cw(o,s,c,p){qo?Go?Go.push(p):Go=[p]:qo=p,s=Od(s,"onChange"),0<s.length&&(c=new $c("onChange","change",null,c,p),o.push({event:c,listeners:s}))}var Rl=null,Ml=null;function dU(o){VE(o,0)}function Bc(o){var s=Al(o);if(F_(s))return o}function dw(o,s){if(o==="change")return s}var fw=!1;if(si){var rm;if(si){var im="oninput"in document;if(!im){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),im=typeof hw.oninput=="function"}rm=im}else rm=!1;fw=rm&&(!document.documentMode||9<document.documentMode)}function pw(){Rl&&(Rl.detachEvent("onpropertychange",mw),Ml=Rl=null)}function mw(o){if(o.propertyName==="value"&&Bc(Ml)){var s=[];cw(s,Ml,o,Yp(o)),Z_(dU,s)}}function fU(o,s,c){o==="focusin"?(pw(),Rl=s,Ml=c,Rl.attachEvent("onpropertychange",mw)):o==="focusout"&&pw()}function hU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bc(Ml)}function pU(o,s){if(o==="click")return Bc(s)}function mU(o,s){if(o==="input"||o==="change")return Bc(s)}function gU(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Hn=typeof Object.is=="function"?Object.is:gU;function Dl(o,s){if(Hn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!Ro.call(s,b)||!Hn(o[b],s[b]))return!1}return!0}function gw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function vw(o,s){var c=gw(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=s&&p>=s)return{node:c,offset:s-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=gw(c)}}function yw(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?yw(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function bw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Dc(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Dc(o.document)}return s}function am(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var vU=si&&"documentMode"in document&&11>=document.documentMode,Fo=null,om=null,kl=null,sm=!1;function xw(o,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;sm||Fo==null||Fo!==Dc(p)||(p=Fo,"selectionStart"in p&&am(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),kl&&Dl(kl,p)||(kl=p,p=Od(om,"onSelect"),0<p.length&&(s=new $c("onSelect","select",null,s,c),o.push({event:s,listeners:p}),s.target=Fo)))}function Ua(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var Vo={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},lm={},_w={};si&&(_w=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function $a(o){if(lm[o])return lm[o];if(!Vo[o])return o;var s=Vo[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in _w)return lm[o]=s[c];return o}var ww=$a("animationend"),Sw=$a("animationiteration"),Ew=$a("animationstart"),yU=$a("transitionrun"),bU=$a("transitionstart"),xU=$a("transitioncancel"),Tw=$a("transitionend"),Aw=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function Ar(o,s){Aw.set(o,s),ja(s,[o])}var qc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},lr=[],Ko=0,cm=0;function Gc(){for(var o=Ko,s=cm=Ko=0;s<o;){var c=lr[s];lr[s++]=null;var p=lr[s];lr[s++]=null;var b=lr[s];lr[s++]=null;var w=lr[s];if(lr[s++]=null,p!==null&&b!==null){var N=p.pending;N===null?b.next=b:(b.next=N.next,N.next=b),p.pending=b}w!==0&&Cw(c,b,w)}}function Hc(o,s,c,p){lr[Ko++]=o,lr[Ko++]=s,lr[Ko++]=c,lr[Ko++]=p,cm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function dm(o,s,c,p){return Hc(o,s,c,p),Fc(o)}function za(o,s){return Hc(o,null,null,s),Fc(o)}function Cw(o,s,c){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c);for(var b=!1,w=o.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(b=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,b&&s!==null&&(b=31-Gn(c),o=w.hiddenUpdates,p=o[b],p===null?o[b]=[s]:p.push(s),s.lane=c|536870912),w):null}function Fc(o){if(50<ru)throw ru=0,xg=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Yo={};function _U(o,s,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(o,s,c,p){return new _U(o,s,c,p)}function fm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function li(o,s){var c=o.alternate;return c===null?(c=Fn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function Nw(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function Vc(o,s,c,p,b,w){var N=0;if(p=o,typeof o=="function")fm(o)&&(N=1);else if(typeof o=="string")N=A$(o,c,fe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=Fn(31,c,s,b),o.elementType=z,o.lanes=w,o;case E:return Ba(c.children,b,w,s);case T:N=8,b|=24;break;case C:return o=Fn(12,c,s,b|2),o.elementType=C,o.lanes=w,o;case O:return o=Fn(13,c,s,b),o.elementType=O,o.lanes=w,o;case M:return o=Fn(19,c,s,b),o.elementType=M,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:N=10;break e;case P:N=9;break e;case I:N=11;break e;case k:N=14;break e;case H:N=16,p=null;break e}N=29,c=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=Fn(N,c,s,b),s.elementType=o,s.type=p,s.lanes=w,s}function Ba(o,s,c,p){return o=Fn(7,o,p,s),o.lanes=c,o}function hm(o,s,c){return o=Fn(6,o,null,s),o.lanes=c,o}function Ow(o){var s=Fn(18,null,null,0);return s.stateNode=o,s}function pm(o,s,c){return s=Fn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Iw=new WeakMap;function ur(o,s){if(typeof o=="object"&&o!==null){var c=Iw.get(o);return c!==void 0?c:(s={value:o,source:s,stack:Ki(s)},Iw.set(o,s),s)}return{value:o,source:s,stack:Ki(s)}}var Jo=[],Wo=0,Kc=null,jl=0,cr=[],dr=0,Wi=null,Hr=1,Fr="";function ui(o,s){Jo[Wo++]=jl,Jo[Wo++]=Kc,Kc=o,jl=s}function Pw(o,s,c){cr[dr++]=Hr,cr[dr++]=Fr,cr[dr++]=Wi,Wi=o;var p=Hr;o=Fr;var b=32-Gn(p)-1;p&=~(1<<b),c+=1;var w=32-Gn(s)+b;if(30<w){var N=b-b%5;w=(p&(1<<N)-1).toString(32),p>>=N,b-=N,Hr=1<<32-Gn(s)+b|c<<b|p,Fr=w+o}else Hr=1<<w|c<<b|p,Fr=o}function mm(o){o.return!==null&&(ui(o,1),Pw(o,1,0))}function gm(o){for(;o===Kc;)Kc=Jo[--Wo],Jo[Wo]=null,jl=Jo[--Wo],Jo[Wo]=null;for(;o===Wi;)Wi=cr[--dr],cr[dr]=null,Fr=cr[--dr],cr[dr]=null,Hr=cr[--dr],cr[dr]=null}function Rw(o,s){cr[dr++]=Hr,cr[dr++]=Fr,cr[dr++]=Wi,Hr=s.id,Fr=s.overflow,Wi=o}var sn=null,vt=null,Ke=!1,Xi=null,fr=!1,vm=Error(r(519));function Zi(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(ur(s,o)),vm}function Mw(o){var s=o.stateNode,c=o.type,p=o.memoizedProps;switch(s[on]=o,s[Rn]=p,c){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(c=0;c<au.length;c++)qe(au[c],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),V_(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),Y_(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||WE(s.textContent,c)?(p.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),p.onScroll!=null&&qe("scroll",s),p.onScrollEnd!=null&&qe("scrollend",s),p.onClick!=null&&(s.onclick=oi),s=!0):s=!1,s||Zi(o,!0)}function Dw(o){for(sn=o.return;sn;)switch(sn.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:sn=sn.return}}function Xo(o){if(o!==sn)return!1;if(!Ke)return Dw(o),Ke=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||kg(o.type,o.memoizedProps)),c=!c),c&&vt&&Zi(o),Dw(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));vt=aT(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));vt=aT(o)}else s===27?(s=vt,fa(o.type)?(o=zg,zg=null,vt=o):vt=s):vt=sn?pr(o.stateNode.nextSibling):null;return!0}function qa(){vt=sn=null,Ke=!1}function ym(){var o=Xi;return o!==null&&(Ln===null?Ln=o:Ln.push.apply(Ln,o),Xi=null),o}function Ll(o){Xi===null?Xi=[o]:Xi.push(o)}var bm=j(null),Ga=null,ci=null;function Qi(o,s,c){de(bm,s._currentValue),s._currentValue=c}function di(o){o._currentValue=bm.current,ee(bm)}function xm(o,s,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===c)break;o=o.return}}function _m(o,s,c,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var w=b.dependencies;if(w!==null){var N=b.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=b;for(var U=0;U<s.length;U++)if(D.context===s[U]){w.lanes|=c,D=w.alternate,D!==null&&(D.lanes|=c),xm(w.return,c,o),p||(N=null);break e}w=D.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=c,w=N.alternate,w!==null&&(w.lanes|=c),xm(N,c,o),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===o){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Zo(o,s,c,p){o=null;for(var b=s,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var D=b.type;Hn(b.pendingProps.value,N.value)||(o!==null?o.push(D):o=[D])}}else if(b===ce.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(cu):o=[cu])}b=b.return}o!==null&&_m(s,o,c,p),s.flags|=262144}function Yc(o){for(o=o.firstContext;o!==null;){if(!Hn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ha(o){Ga=o,ci=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ln(o){return kw(Ga,o)}function Jc(o,s){return Ga===null&&Ha(o),kw(o,s)}function kw(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ci===null){if(o===null)throw Error(r(308));ci=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else ci=ci.next=s;return c}var wU=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},SU=e.unstable_scheduleCallback,EU=e.unstable_NormalPriority,jt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wm(){return{controller:new wU,data:new Map,refCount:0}}function Ul(o){o.refCount--,o.refCount===0&&SU(EU,function(){o.controller.abort()})}var $l=null,Sm=0,Qo=0,es=null;function TU(o,s){if($l===null){var c=$l=[];Sm=0,Qo=Ag(),es={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Sm++,s.then(jw,jw),s}function jw(){if(--Sm===0&&$l!==null){es!==null&&(es.status="fulfilled");var o=$l;$l=null,Qo=0,es=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function AU(o,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var Lw=$.S;$.S=function(o,s){xE=bn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&TU(o,s),Lw!==null&&Lw(o,s)};var Fa=j(null);function Em(){var o=Fa.current;return o!==null?o:ct.pooledCache}function Wc(o,s){s===null?de(Fa,Fa.current):de(Fa,s.pool)}function Uw(){var o=Em();return o===null?null:{parent:jt._currentValue,pool:o}}var ts=Error(r(460)),Tm=Error(r(474)),Xc=Error(r(542)),Zc={then:function(){}};function $w(o){return o=o.status,o==="fulfilled"||o==="rejected"}function zw(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(oi,oi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,qw(o),o;default:if(typeof s.status=="string")s.then(oi,oi);else{if(o=ct,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,qw(o),o}throw Ka=s,ts}}function Va(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ka=c,ts):c}}var Ka=null;function Bw(){if(Ka===null)throw Error(r(459));var o=Ka;return Ka=null,o}function qw(o){if(o===ts||o===Xc)throw Error(r(483))}var ns=null,zl=0;function Qc(o){var s=zl;return zl+=1,ns===null&&(ns=[]),zw(ns,o,s)}function Bl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function ed(o,s){throw s.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Gw(o){function s(V,q){if(o){var Y=V.deletions;Y===null?(V.deletions=[q],V.flags|=16):Y.push(q)}}function c(V,q){if(!o)return null;for(;q!==null;)s(V,q),q=q.sibling;return null}function p(V){for(var q=new Map;V!==null;)V.key!==null?q.set(V.key,V):q.set(V.index,V),V=V.sibling;return q}function b(V,q){return V=li(V,q),V.index=0,V.sibling=null,V}function w(V,q,Y){return V.index=Y,o?(Y=V.alternate,Y!==null?(Y=Y.index,Y<q?(V.flags|=67108866,q):Y):(V.flags|=67108866,q)):(V.flags|=1048576,q)}function N(V){return o&&V.alternate===null&&(V.flags|=67108866),V}function D(V,q,Y,oe){return q===null||q.tag!==6?(q=hm(Y,V.mode,oe),q.return=V,q):(q=b(q,Y),q.return=V,q)}function U(V,q,Y,oe){var Ae=Y.type;return Ae===E?ae(V,q,Y.props.children,oe,Y.key):q!==null&&(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===H&&Va(Ae)===q.type)?(q=b(q,Y.props),Bl(q,Y),q.return=V,q):(q=Vc(Y.type,Y.key,Y.props,null,V.mode,oe),Bl(q,Y),q.return=V,q)}function W(V,q,Y,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=pm(Y,V.mode,oe),q.return=V,q):(q=b(q,Y.children||[]),q.return=V,q)}function ae(V,q,Y,oe,Ae){return q===null||q.tag!==7?(q=Ba(Y,V.mode,oe,Ae),q.return=V,q):(q=b(q,Y),q.return=V,q)}function se(V,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=hm(""+q,V.mode,Y),q.return=V,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return Y=Vc(q.type,q.key,q.props,null,V.mode,Y),Bl(Y,q),Y.return=V,Y;case S:return q=pm(q,V.mode,Y),q.return=V,q;case H:return q=Va(q),se(V,q,Y)}if(ne(q)||L(q))return q=Ba(q,V.mode,Y,null),q.return=V,q;if(typeof q.then=="function")return se(V,Qc(q),Y);if(q.$$typeof===R)return se(V,Jc(V,q),Y);ed(V,q)}return null}function Q(V,q,Y,oe){var Ae=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:D(V,q,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Y.key===Ae?U(V,q,Y,oe):null;case S:return Y.key===Ae?W(V,q,Y,oe):null;case H:return Y=Va(Y),Q(V,q,Y,oe)}if(ne(Y)||L(Y))return Ae!==null?null:ae(V,q,Y,oe,null);if(typeof Y.then=="function")return Q(V,q,Qc(Y),oe);if(Y.$$typeof===R)return Q(V,q,Jc(V,Y),oe);ed(V,Y)}return null}function re(V,q,Y,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return V=V.get(Y)||null,D(q,V,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return V=V.get(oe.key===null?Y:oe.key)||null,U(q,V,oe,Ae);case S:return V=V.get(oe.key===null?Y:oe.key)||null,W(q,V,oe,Ae);case H:return oe=Va(oe),re(V,q,Y,oe,Ae)}if(ne(oe)||L(oe))return V=V.get(Y)||null,ae(q,V,oe,Ae,null);if(typeof oe.then=="function")return re(V,q,Y,Qc(oe),Ae);if(oe.$$typeof===R)return re(V,q,Y,Jc(q,oe),Ae);ed(q,oe)}return null}function be(V,q,Y,oe){for(var Ae=null,Je=null,we=q,je=q=0,Fe=null;we!==null&&je<Y.length;je++){we.index>je?(Fe=we,we=null):Fe=we.sibling;var We=Q(V,we,Y[je],oe);if(We===null){we===null&&(we=Fe);break}o&&we&&We.alternate===null&&s(V,we),q=w(We,q,je),Je===null?Ae=We:Je.sibling=We,Je=We,we=Fe}if(je===Y.length)return c(V,we),Ke&&ui(V,je),Ae;if(we===null){for(;je<Y.length;je++)we=se(V,Y[je],oe),we!==null&&(q=w(we,q,je),Je===null?Ae=we:Je.sibling=we,Je=we);return Ke&&ui(V,je),Ae}for(we=p(we);je<Y.length;je++)Fe=re(we,V,je,Y[je],oe),Fe!==null&&(o&&Fe.alternate!==null&&we.delete(Fe.key===null?je:Fe.key),q=w(Fe,q,je),Je===null?Ae=Fe:Je.sibling=Fe,Je=Fe);return o&&we.forEach(function(va){return s(V,va)}),Ke&&ui(V,je),Ae}function Ne(V,q,Y,oe){if(Y==null)throw Error(r(151));for(var Ae=null,Je=null,we=q,je=q=0,Fe=null,We=Y.next();we!==null&&!We.done;je++,We=Y.next()){we.index>je?(Fe=we,we=null):Fe=we.sibling;var va=Q(V,we,We.value,oe);if(va===null){we===null&&(we=Fe);break}o&&we&&va.alternate===null&&s(V,we),q=w(va,q,je),Je===null?Ae=va:Je.sibling=va,Je=va,we=Fe}if(We.done)return c(V,we),Ke&&ui(V,je),Ae;if(we===null){for(;!We.done;je++,We=Y.next())We=se(V,We.value,oe),We!==null&&(q=w(We,q,je),Je===null?Ae=We:Je.sibling=We,Je=We);return Ke&&ui(V,je),Ae}for(we=p(we);!We.done;je++,We=Y.next())We=re(we,V,je,We.value,oe),We!==null&&(o&&We.alternate!==null&&we.delete(We.key===null?je:We.key),q=w(We,q,je),Je===null?Ae=We:Je.sibling=We,Je=We);return o&&we.forEach(function(L$){return s(V,L$)}),Ke&&ui(V,je),Ae}function lt(V,q,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:e:{for(var Ae=Y.key;q!==null;){if(q.key===Ae){if(Ae=Y.type,Ae===E){if(q.tag===7){c(V,q.sibling),oe=b(q,Y.props.children),oe.return=V,V=oe;break e}}else if(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===H&&Va(Ae)===q.type){c(V,q.sibling),oe=b(q,Y.props),Bl(oe,Y),oe.return=V,V=oe;break e}c(V,q);break}else s(V,q);q=q.sibling}Y.type===E?(oe=Ba(Y.props.children,V.mode,oe,Y.key),oe.return=V,V=oe):(oe=Vc(Y.type,Y.key,Y.props,null,V.mode,oe),Bl(oe,Y),oe.return=V,V=oe)}return N(V);case S:e:{for(Ae=Y.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){c(V,q.sibling),oe=b(q,Y.children||[]),oe.return=V,V=oe;break e}else{c(V,q);break}else s(V,q);q=q.sibling}oe=pm(Y,V.mode,oe),oe.return=V,V=oe}return N(V);case H:return Y=Va(Y),lt(V,q,Y,oe)}if(ne(Y))return be(V,q,Y,oe);if(L(Y)){if(Ae=L(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Ne(V,q,Y,oe)}if(typeof Y.then=="function")return lt(V,q,Qc(Y),oe);if(Y.$$typeof===R)return lt(V,q,Jc(V,Y),oe);ed(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(c(V,q.sibling),oe=b(q,Y),oe.return=V,V=oe):(c(V,q),oe=hm(Y,V.mode,oe),oe.return=V,V=oe),N(V)):c(V,q)}return function(V,q,Y,oe){try{zl=0;var Ae=lt(V,q,Y,oe);return ns=null,Ae}catch(we){if(we===ts||we===Xc)throw we;var Je=Fn(29,we,null,V.mode);return Je.lanes=oe,Je.return=V,Je}finally{}}}var Ya=Gw(!0),Hw=Gw(!1),ea=!1;function Am(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ta(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function na(o,s,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Qe&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Fc(o),Cw(o,null,c),s}return Hc(o,p,s,c),Fc(o)}function ql(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,k_(o,c)}}function Nm(o,s){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=N:w=w.next=N,c=c.next}while(c!==null);w===null?b=w=s:w=w.next=s}else b=w=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var Om=!1;function Gl(){if(Om){var o=es;if(o!==null)throw o}}function Hl(o,s,c,p){Om=!1;var b=o.updateQueue;ea=!1;var w=b.firstBaseUpdate,N=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var U=D,W=U.next;U.next=null,N===null?w=W:N.next=W,N=U;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==N&&(D===null?ae.firstBaseUpdate=W:D.next=W,ae.lastBaseUpdate=U))}if(w!==null){var se=b.baseState;N=0,ae=W=U=null,D=w;do{var Q=D.lane&-536870913,re=Q!==D.lane;if(re?(He&Q)===Q:(p&Q)===Q){Q!==0&&Q===Qo&&(Om=!0),ae!==null&&(ae=ae.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var be=o,Ne=D;Q=s;var lt=c;switch(Ne.tag){case 1:if(be=Ne.payload,typeof be=="function"){se=be.call(lt,se,Q);break e}se=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ne.payload,Q=typeof be=="function"?be.call(lt,se,Q):be,Q==null)break e;se=m({},se,Q);break e;case 2:ea=!0}}Q=D.callback,Q!==null&&(o.flags|=64,re&&(o.flags|=8192),re=b.callbacks,re===null?b.callbacks=[Q]:re.push(Q))}else re={lane:Q,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(W=ae=re,U=se):ae=ae.next=re,N|=Q;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;re=D,D=re.next,re.next=null,b.lastBaseUpdate=re,b.shared.pending=null}}while(!0);ae===null&&(U=se),b.baseState=U,b.firstBaseUpdate=W,b.lastBaseUpdate=ae,w===null&&(b.shared.lanes=0),sa|=N,o.lanes=N,o.memoizedState=se}}function Fw(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function Vw(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)Fw(c[o],s)}var rs=j(null),td=j(0);function Kw(o,s){o=xi,de(td,o),de(rs,s),xi=o|s.baseLanes}function Im(){de(td,xi),de(rs,rs.current)}function Pm(){xi=td.current,ee(rs),ee(td)}var Vn=j(null),hr=null;function ra(o){var s=o.alternate;de(Pt,Pt.current&1),de(Vn,o),hr===null&&(s===null||rs.current!==null||s.memoizedState!==null)&&(hr=o)}function Rm(o){de(Pt,Pt.current),de(Vn,o),hr===null&&(hr=o)}function Yw(o){o.tag===22?(de(Pt,Pt.current),de(Vn,o),hr===null&&(hr=o)):ia()}function ia(){de(Pt,Pt.current),de(Vn,Vn.current)}function Kn(o){ee(Vn),hr===o&&(hr=null),ee(Pt)}var Pt=j(0);function nd(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ug(c)||$g(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,De=null,ot=null,Lt=null,rd=!1,is=!1,Ja=!1,id=0,Fl=0,as=null,CU=0;function Tt(){throw Error(r(321))}function Mm(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!Hn(o[c],s[c]))return!1;return!0}function Dm(o,s,c,p,b,w){return fi=w,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=o===null||o.memoizedState===null?PS:Jm,Ja=!1,w=c(p,b),Ja=!1,is&&(w=Ww(s,c,p,b)),Jw(o),w}function Jw(o){$.H=Yl;var s=ot!==null&&ot.next!==null;if(fi=0,Lt=ot=De=null,rd=!1,Fl=0,as=null,s)throw Error(r(300));o===null||Ut||(o=o.dependencies,o!==null&&Yc(o)&&(Ut=!0))}function Ww(o,s,c,p){De=o;var b=0;do{if(is&&(as=null),Fl=0,is=!1,25<=b)throw Error(r(301));if(b+=1,Lt=ot=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=RS,w=s(c,p)}while(is);return w}function NU(){var o=$.H,s=o.useState()[0];return s=typeof s.then=="function"?Vl(s):s,o=o.useState()[0],(ot!==null?ot.memoizedState:null)!==o&&(De.flags|=1024),s}function km(){var o=id!==0;return id=0,o}function jm(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function Lm(o){if(rd){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}rd=!1}fi=0,Lt=ot=De=null,is=!1,Fl=id=0,as=null}function An(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?De.memoizedState=Lt=o:Lt=Lt.next=o,Lt}function Rt(){if(ot===null){var o=De.alternate;o=o!==null?o.memoizedState:null}else o=ot.next;var s=Lt===null?De.memoizedState:Lt.next;if(s!==null)Lt=s,ot=o;else{if(o===null)throw De.alternate===null?Error(r(467)):Error(r(310));ot=o,o={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Lt===null?De.memoizedState=Lt=o:Lt=Lt.next=o}return Lt}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(o){var s=Fl;return Fl+=1,as===null&&(as=[]),o=zw(as,o,s),s=De,(Lt===null?s.memoizedState:Lt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?PS:Jm),o}function od(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Vl(o);if(o.$$typeof===R)return ln(o)}throw Error(r(438,String(o)))}function Um(o){var s=null,c=De.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=De.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=ad(),De.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),p=0;p<o;p++)c[p]=ie;return s.index++,c}function hi(o,s){return typeof s=="function"?s(o):s}function sd(o){var s=Rt();return $m(s,ot,o)}function $m(o,s,c){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=o.baseQueue,w=p.pending;if(w!==null){if(b!==null){var N=b.next;b.next=w.next,w.next=N}s.baseQueue=b=w,p.pending=null}if(w=o.baseState,b===null)o.memoizedState=w;else{s=b.next;var D=N=null,U=null,W=s,ae=!1;do{var se=W.lane&-536870913;if(se!==W.lane?(He&se)===se:(fi&se)===se){var Q=W.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),se===Qo&&(ae=!0);else if((fi&Q)===Q){W=W.next,Q===Qo&&(ae=!0);continue}else se={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(D=U=se,N=w):U=U.next=se,De.lanes|=Q,sa|=Q;se=W.action,Ja&&c(w,se),w=W.hasEagerState?W.eagerState:c(w,se)}else Q={lane:se,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(D=U=Q,N=w):U=U.next=Q,De.lanes|=se,sa|=se;W=W.next}while(W!==null&&W!==s);if(U===null?N=w:U.next=D,!Hn(w,o.memoizedState)&&(Ut=!0,ae&&(c=es,c!==null)))throw c;o.memoizedState=w,o.baseState=N,o.baseQueue=U,p.lastRenderedState=w}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function zm(o){var s=Rt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=c.dispatch,b=c.pending,w=s.memoizedState;if(b!==null){c.pending=null;var N=b=b.next;do w=o(w,N.action),N=N.next;while(N!==b);Hn(w,s.memoizedState)||(Ut=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,p]}function Xw(o,s,c){var p=De,b=Rt(),w=Ke;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!Hn((ot||b).memoizedState,c);if(N&&(b.memoizedState=c,Ut=!0),b=b.queue,Gm(eS.bind(null,p,b,o),[o]),b.getSnapshot!==s||N||Lt!==null&&Lt.memoizedState.tag&1){if(p.flags|=2048,os(9,{destroy:void 0},Qw.bind(null,p,b,c,s),null),ct===null)throw Error(r(349));w||(fi&127)!==0||Zw(p,s,c)}return c}function Zw(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=De.updateQueue,s===null?(s=ad(),De.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function Qw(o,s,c,p){s.value=c,s.getSnapshot=p,tS(s)&&nS(o)}function eS(o,s,c){return c(function(){tS(s)&&nS(o)})}function tS(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!Hn(o,c)}catch{return!0}}function nS(o){var s=za(o,2);s!==null&&Un(s,o,2)}function Bm(o){var s=An();if(typeof o=="function"){var c=o;if(o=c(),Ja){Gr(!0);try{c()}finally{Gr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},s}function rS(o,s,c,p){return o.baseState=c,$m(o,ot,typeof p=="function"?p:hi)}function OU(o,s,c,p,b){if(cd(o))throw Error(r(485));if(o=s.action,o!==null){var w={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};$.T!==null?c(!0):w.isTransition=!1,p(w),c=s.pending,c===null?(w.next=s.pending=w,iS(s,w)):(w.next=c.next,s.pending=c.next=w)}}function iS(o,s){var c=s.action,p=s.payload,b=o.state;if(s.isTransition){var w=$.T,N={};$.T=N;try{var D=c(b,p),U=$.S;U!==null&&U(N,D),aS(o,s,D)}catch(W){qm(o,s,W)}finally{w!==null&&N.types!==null&&(w.types=N.types),$.T=w}}else try{w=c(b,p),aS(o,s,w)}catch(W){qm(o,s,W)}}function aS(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){oS(o,s,p)},function(p){return qm(o,s,p)}):oS(o,s,c)}function oS(o,s,c){s.status="fulfilled",s.value=c,sS(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,iS(o,c)))}function qm(o,s,c){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,sS(s),s=s.next;while(s!==p)}o.action=null}function sS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function lS(o,s){return s}function uS(o,s){if(Ke){var c=ct.formState;if(c!==null){e:{var p=De;if(Ke){if(vt){t:{for(var b=vt,w=fr;b.nodeType!==8;){if(!w){b=null;break t}if(b=pr(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){vt=pr(b.nextSibling),p=b.data==="F!";break e}}Zi(p)}p=!1}p&&(s=c[0])}}return c=An(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lS,lastRenderedState:s},c.queue=p,c=NS.bind(null,De,p),p.dispatch=c,p=Bm(!1),w=Ym.bind(null,De,!1,p.queue),p=An(),b={state:s,dispatch:null,action:o,pending:null},p.queue=b,c=OU.bind(null,De,b,w,c),b.dispatch=c,p.memoizedState=o,[s,c,!1]}function cS(o){var s=Rt();return dS(s,ot,o)}function dS(o,s,c){if(s=$m(o,s,lS)[0],o=sd(hi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Vl(s)}catch(N){throw N===ts?Xc:N}else p=s;s=Rt();var b=s.queue,w=b.dispatch;return c!==s.memoizedState&&(De.flags|=2048,os(9,{destroy:void 0},IU.bind(null,b,c),null)),[p,w,o]}function IU(o,s){o.action=s}function fS(o){var s=Rt(),c=ot;if(c!==null)return dS(s,c,o);Rt(),s=s.memoizedState,c=Rt();var p=c.queue.dispatch;return c.memoizedState=o,[s,p,!1]}function os(o,s,c,p){return o={tag:o,create:c,deps:p,inst:s,next:null},s=De.updateQueue,s===null&&(s=ad(),De.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,s.lastEffect=o),o}function hS(){return Rt().memoizedState}function ld(o,s,c,p){var b=An();De.flags|=o,b.memoizedState=os(1|s,{destroy:void 0},c,p===void 0?null:p)}function ud(o,s,c,p){var b=Rt();p=p===void 0?null:p;var w=b.memoizedState.inst;ot!==null&&p!==null&&Mm(p,ot.memoizedState.deps)?b.memoizedState=os(s,w,c,p):(De.flags|=o,b.memoizedState=os(1|s,w,c,p))}function pS(o,s){ld(8390656,8,o,s)}function Gm(o,s){ud(2048,8,o,s)}function PU(o){De.flags|=4;var s=De.updateQueue;if(s===null)s=ad(),De.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function mS(o){var s=Rt().memoizedState;return PU({ref:s,nextImpl:o}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function gS(o,s){return ud(4,2,o,s)}function vS(o,s){return ud(4,4,o,s)}function yS(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function bS(o,s,c){c=c!=null?c.concat([o]):null,ud(4,4,yS.bind(null,s,o),c)}function Hm(){}function xS(o,s){var c=Rt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Mm(s,p[1])?p[0]:(c.memoizedState=[o,s],o)}function _S(o,s){var c=Rt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Mm(s,p[1]))return p[0];if(p=o(),Ja){Gr(!0);try{o()}finally{Gr(!1)}}return c.memoizedState=[p,s],p}function Fm(o,s,c){return c===void 0||(fi&1073741824)!==0&&(He&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=wE(),De.lanes|=o,sa|=o,c)}function wS(o,s,c,p){return Hn(c,s)?c:rs.current!==null?(o=Fm(o,c,p),Hn(o,s)||(Ut=!0),o):(fi&42)===0||(fi&1073741824)!==0&&(He&261930)===0?(Ut=!0,o.memoizedState=c):(o=wE(),De.lanes|=o,sa|=o,s)}function SS(o,s,c,p,b){var w=Z.p;Z.p=w!==0&&8>w?w:8;var N=$.T,D={};$.T=D,Ym(o,!1,s,c);try{var U=b(),W=$.S;if(W!==null&&W(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=AU(U,p);Kl(o,s,ae,Wn(o))}else Kl(o,s,p,Wn(o))}catch(se){Kl(o,s,{then:function(){},status:"rejected",reason:se},Wn())}finally{Z.p=w,N!==null&&D.types!==null&&(N.types=D.types),$.T=N}}function RU(){}function Vm(o,s,c,p){if(o.tag!==5)throw Error(r(476));var b=ES(o).queue;SS(o,b,s,F,c===null?RU:function(){return TS(o),c(p)})}function ES(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:F},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function TS(o){var s=ES(o);s.next===null&&(s=o.alternate.memoizedState),Kl(o,s.next.queue,{},Wn())}function Km(){return ln(cu)}function AS(){return Rt().memoizedState}function CS(){return Rt().memoizedState}function MU(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=Wn();o=ta(c);var p=na(s,o,c);p!==null&&(Un(p,s,c),ql(p,s,c)),s={cache:wm()},o.payload=s;return}s=s.return}}function DU(o,s,c){var p=Wn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},cd(o)?OS(s,c):(c=dm(o,s,c,p),c!==null&&(Un(c,o,p),IS(c,s,p)))}function NS(o,s,c){var p=Wn();Kl(o,s,c,p)}function Kl(o,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(cd(o))OS(s,b);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var N=s.lastRenderedState,D=w(N,c);if(b.hasEagerState=!0,b.eagerState=D,Hn(D,N))return Hc(o,s,b,0),ct===null&&Gc(),!1}catch{}finally{}if(c=dm(o,s,b,p),c!==null)return Un(c,o,p),IS(c,s,p),!0}return!1}function Ym(o,s,c,p){if(p={lane:2,revertLane:Ag(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},cd(o)){if(s)throw Error(r(479))}else s=dm(o,c,p,2),s!==null&&Un(s,o,2)}function cd(o){var s=o.alternate;return o===De||s!==null&&s===De}function OS(o,s){is=rd=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function IS(o,s,c){if((c&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,k_(o,c)}}var Yl={readContext:ln,use:od,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Yl.useEffectEvent=Tt;var PS={readContext:ln,use:od,useCallback:function(o,s){return An().memoizedState=[o,s===void 0?null:s],o},useContext:ln,useEffect:pS,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,ld(4194308,4,yS.bind(null,s,o),c)},useLayoutEffect:function(o,s){return ld(4194308,4,o,s)},useInsertionEffect:function(o,s){ld(4,2,o,s)},useMemo:function(o,s){var c=An();s=s===void 0?null:s;var p=o();if(Ja){Gr(!0);try{o()}finally{Gr(!1)}}return c.memoizedState=[p,s],p},useReducer:function(o,s,c){var p=An();if(c!==void 0){var b=c(s);if(Ja){Gr(!0);try{c(s)}finally{Gr(!1)}}}else b=s;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=DU.bind(null,De,o),[p.memoizedState,o]},useRef:function(o){var s=An();return o={current:o},s.memoizedState=o},useState:function(o){o=Bm(o);var s=o.queue,c=NS.bind(null,De,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:Hm,useDeferredValue:function(o,s){var c=An();return Fm(c,o,s)},useTransition:function(){var o=Bm(!1);return o=SS.bind(null,De,o.queue,!0,!1),An().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var p=De,b=An();if(Ke){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),ct===null)throw Error(r(349));(He&127)!==0||Zw(p,s,c)}b.memoizedState=c;var w={value:c,getSnapshot:s};return b.queue=w,pS(eS.bind(null,p,w,o),[o]),p.flags|=2048,os(9,{destroy:void 0},Qw.bind(null,p,w,c,s),null),c},useId:function(){var o=An(),s=ct.identifierPrefix;if(Ke){var c=Fr,p=Hr;c=(p&~(1<<32-Gn(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=id++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=CU++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Km,useFormState:uS,useActionState:uS,useOptimistic:function(o){var s=An();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Ym.bind(null,De,!0,c),c.dispatch=s,[o,s]},useMemoCache:Um,useCacheRefresh:function(){return An().memoizedState=MU.bind(null,De)},useEffectEvent:function(o){var s=An(),c={impl:o};return s.memoizedState=c,function(){if((Qe&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Jm={readContext:ln,use:od,useCallback:xS,useContext:ln,useEffect:Gm,useImperativeHandle:bS,useInsertionEffect:gS,useLayoutEffect:vS,useMemo:_S,useReducer:sd,useRef:hS,useState:function(){return sd(hi)},useDebugValue:Hm,useDeferredValue:function(o,s){var c=Rt();return wS(c,ot.memoizedState,o,s)},useTransition:function(){var o=sd(hi)[0],s=Rt().memoizedState;return[typeof o=="boolean"?o:Vl(o),s]},useSyncExternalStore:Xw,useId:AS,useHostTransitionStatus:Km,useFormState:cS,useActionState:cS,useOptimistic:function(o,s){var c=Rt();return rS(c,ot,o,s)},useMemoCache:Um,useCacheRefresh:CS};Jm.useEffectEvent=mS;var RS={readContext:ln,use:od,useCallback:xS,useContext:ln,useEffect:Gm,useImperativeHandle:bS,useInsertionEffect:gS,useLayoutEffect:vS,useMemo:_S,useReducer:zm,useRef:hS,useState:function(){return zm(hi)},useDebugValue:Hm,useDeferredValue:function(o,s){var c=Rt();return ot===null?Fm(c,o,s):wS(c,ot.memoizedState,o,s)},useTransition:function(){var o=zm(hi)[0],s=Rt().memoizedState;return[typeof o=="boolean"?o:Vl(o),s]},useSyncExternalStore:Xw,useId:AS,useHostTransitionStatus:Km,useFormState:fS,useActionState:fS,useOptimistic:function(o,s){var c=Rt();return ot!==null?rS(c,ot,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:Um,useCacheRefresh:CS};RS.useEffectEvent=mS;function Wm(o,s,c,p){s=o.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Xm={enqueueSetState:function(o,s,c){o=o._reactInternals;var p=Wn(),b=ta(p);b.payload=s,c!=null&&(b.callback=c),s=na(o,b,p),s!==null&&(Un(s,o,p),ql(s,o,p))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var p=Wn(),b=ta(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=na(o,b,p),s!==null&&(Un(s,o,p),ql(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=Wn(),p=ta(c);p.tag=2,s!=null&&(p.callback=s),s=na(o,p,c),s!==null&&(Un(s,o,c),ql(s,o,c))}};function MS(o,s,c,p,b,w,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,N):s.prototype&&s.prototype.isPureReactComponent?!Dl(c,p)||!Dl(b,w):!0}function DS(o,s,c,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==o&&Xm.enqueueReplaceState(s,s.state,null)}function Wa(o,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(o=o.defaultProps){c===s&&(c=m({},c));for(var b in o)c[b]===void 0&&(c[b]=o[b])}return c}function kS(o){qc(o)}function jS(o){console.error(o)}function LS(o){qc(o)}function dd(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function US(o,s,c){try{var p=o.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Zm(o,s,c){return c=ta(c),c.tag=3,c.payload={element:null},c.callback=function(){dd(o,s)},c}function $S(o){return o=ta(o),o.tag=3,o}function zS(o,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;o.payload=function(){return b(w)},o.callback=function(){US(s,c,p)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){US(s,c,p),typeof b!="function"&&(la===null?la=new Set([this]):la.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function kU(o,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Zo(s,c,b,!0),c=Vn.current,c!==null){switch(c.tag){case 31:case 13:return hr===null?Sd():c.alternate===null&&At===0&&(At=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===Zc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Sg(o,p,b)),!1;case 22:return c.flags|=65536,p===Zc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Sg(o,p,b)),!1}throw Error(r(435,c.tag))}return Sg(o,p,b),Sd(),!1}if(Ke)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==vm&&(o=Error(r(422),{cause:p}),Ll(ur(o,c)))):(p!==vm&&(s=Error(r(423),{cause:p}),Ll(ur(s,c))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=ur(p,c),b=Zm(o.stateNode,p,b),Nm(o,b),At!==4&&(At=2)),!1;var w=Error(r(520),{cause:p});if(w=ur(w,c),nu===null?nu=[w]:nu.push(w),At!==4&&(At=2),s===null)return!0;p=ur(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=b&-b,c.lanes|=o,o=Zm(c.stateNode,p,o),Nm(c,o),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(la===null||!la.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=$S(b),zS(b,o,c,p),Nm(c,b),!1}c=c.return}while(c!==null);return!1}var Qm=Error(r(461)),Ut=!1;function un(o,s,c,p){s.child=o===null?Hw(s,null,c,p):Ya(s,o.child,c,p)}function BS(o,s,c,p,b){c=c.render;var w=s.ref;if("ref"in p){var N={};for(var D in p)D!=="ref"&&(N[D]=p[D])}else N=p;return Ha(s),p=Dm(o,s,c,N,w,b),D=km(),o!==null&&!Ut?(jm(o,s,b),pi(o,s,b)):(Ke&&D&&mm(s),s.flags|=1,un(o,s,p,b),s.child)}function qS(o,s,c,p,b){if(o===null){var w=c.type;return typeof w=="function"&&!fm(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,GS(o,s,w,p,b)):(o=Vc(c.type,null,p,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(w=o.child,!sg(o,b)){var N=w.memoizedProps;if(c=c.compare,c=c!==null?c:Dl,c(N,p)&&o.ref===s.ref)return pi(o,s,b)}return s.flags|=1,o=li(w,p),o.ref=s.ref,o.return=s,s.child=o}function GS(o,s,c,p,b){if(o!==null){var w=o.memoizedProps;if(Dl(w,p)&&o.ref===s.ref)if(Ut=!1,s.pendingProps=p=w,sg(o,b))(o.flags&131072)!==0&&(Ut=!0);else return s.lanes=o.lanes,pi(o,s,b)}return eg(o,s,c,p,b)}function HS(o,s,c,p){var b=p.children,w=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,o!==null){for(p=s.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~w}else p=0,s.child=null;return FS(o,s,w,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Wc(s,w!==null?w.cachePool:null),w!==null?Kw(s,w):Im(),Yw(s);else return p=s.lanes=536870912,FS(o,s,w!==null?w.baseLanes|c:c,c,p)}else w!==null?(Wc(s,w.cachePool),Kw(s,w),ia(),s.memoizedState=null):(o!==null&&Wc(s,null),Im(),ia());return un(o,s,b,c),s.child}function Jl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function FS(o,s,c,p,b){var w=Em();return w=w===null?null:{parent:jt._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},o!==null&&Wc(s,null),Im(),Yw(s),o!==null&&Zo(o,s,p,!0),s.childLanes=b,null}function fd(o,s){return s=pd({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function VS(o,s,c){return Ya(s,o.child,null,c),o=fd(s,s.pendingProps),o.flags|=2,Kn(s),s.memoizedState=null,o}function jU(o,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Ke){if(p.mode==="hidden")return o=fd(s,p),s.lanes=536870912,Jl(null,o);if(Rm(s),(o=vt)?(o=iT(o,fr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Wi!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},c=Ow(o),c.return=s,s.child=c,sn=s,vt=null)):o=null,o===null)throw Zi(s);return s.lanes=536870912,null}return fd(s,p)}var w=o.memoizedState;if(w!==null){var N=w.dehydrated;if(Rm(s),b)if(s.flags&256)s.flags&=-257,s=VS(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ut||Zo(o,s,c,!1),b=(c&o.childLanes)!==0,Ut||b){if(p=ct,p!==null&&(N=j_(p,c),N!==0&&N!==w.retryLane))throw w.retryLane=N,za(o,N),Un(p,o,N),Qm;Sd(),s=VS(o,s,c)}else o=w.treeContext,vt=pr(N.nextSibling),sn=s,Ke=!0,Xi=null,fr=!1,o!==null&&Rw(s,o),s=fd(s,p),s.flags|=4096;return s}return o=li(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function hd(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function eg(o,s,c,p,b){return Ha(s),c=Dm(o,s,c,p,void 0,b),p=km(),o!==null&&!Ut?(jm(o,s,b),pi(o,s,b)):(Ke&&p&&mm(s),s.flags|=1,un(o,s,c,b),s.child)}function KS(o,s,c,p,b,w){return Ha(s),s.updateQueue=null,c=Ww(s,p,c,b),Jw(o),p=km(),o!==null&&!Ut?(jm(o,s,w),pi(o,s,w)):(Ke&&p&&mm(s),s.flags|=1,un(o,s,c,w),s.child)}function YS(o,s,c,p,b){if(Ha(s),s.stateNode===null){var w=Yo,N=c.contextType;typeof N=="object"&&N!==null&&(w=ln(N)),w=new c(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Xm,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},Am(s),N=c.contextType,w.context=typeof N=="object"&&N!==null?ln(N):Yo,w.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Wm(s,c,N,p),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&Xm.enqueueReplaceState(w,w.state,null),Hl(s,p,w,b),Gl(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){w=s.stateNode;var D=s.memoizedProps,U=Wa(c,D);w.props=U;var W=w.context,ae=c.contextType;N=Yo,typeof ae=="object"&&ae!==null&&(N=ln(ae));var se=c.getDerivedStateFromProps;ae=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||W!==N)&&DS(s,w,p,N),ea=!1;var Q=s.memoizedState;w.state=Q,Hl(s,p,w,b),Gl(),W=s.memoizedState,D||Q!==W||ea?(typeof se=="function"&&(Wm(s,c,se,p),W=s.memoizedState),(U=ea||MS(s,c,U,p,Q,W,N))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=W),w.props=p,w.state=W,w.context=N,p=U):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,Cm(o,s),N=s.memoizedProps,ae=Wa(c,N),w.props=ae,se=s.pendingProps,Q=w.context,W=c.contextType,U=Yo,typeof W=="object"&&W!==null&&(U=ln(W)),D=c.getDerivedStateFromProps,(W=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==se||Q!==U)&&DS(s,w,p,U),ea=!1,Q=s.memoizedState,w.state=Q,Hl(s,p,w,b),Gl();var re=s.memoizedState;N!==se||Q!==re||ea||o!==null&&o.dependencies!==null&&Yc(o.dependencies)?(typeof D=="function"&&(Wm(s,c,D,p),re=s.memoizedState),(ae=ea||MS(s,c,ae,p,Q,re,U)||o!==null&&o.dependencies!==null&&Yc(o.dependencies))?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,re,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,re,U)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&Q===o.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&Q===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=re),w.props=p,w.state=re,w.context=U,p=ae):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&Q===o.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&Q===o.memoizedState||(s.flags|=1024),p=!1)}return w=p,hd(o,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,o!==null&&p?(s.child=Ya(s,o.child,null,b),s.child=Ya(s,null,c,b)):un(o,s,c,b),s.memoizedState=w.state,o=s.child):o=pi(o,s,b),o}function JS(o,s,c,p){return qa(),s.flags|=256,un(o,s,c,p),s.child}var tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ng(o){return{baseLanes:o,cachePool:Uw()}}function rg(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=Jn),o}function WS(o,s,c){var p=s.pendingProps,b=!1,w=(s.flags&128)!==0,N;if((N=w)||(N=o!==null&&o.memoizedState===null?!1:(Pt.current&2)!==0),N&&(b=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,o===null){if(Ke){if(b?ra(s):ia(),(o=vt)?(o=iT(o,fr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Wi!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},c=Ow(o),c.return=s,s.child=c,sn=s,vt=null)):o=null,o===null)throw Zi(s);return $g(o)?s.lanes=32:s.lanes=536870912,null}var D=p.children;return p=p.fallback,b?(ia(),b=s.mode,D=pd({mode:"hidden",children:D},b),p=Ba(p,b,c,null),D.return=s,p.return=s,D.sibling=p,s.child=D,p=s.child,p.memoizedState=ng(c),p.childLanes=rg(o,N,c),s.memoizedState=tg,Jl(null,p)):(ra(s),ig(s,D))}var U=o.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(w)s.flags&256?(ra(s),s.flags&=-257,s=ag(o,s,c)):s.memoizedState!==null?(ia(),s.child=o.child,s.flags|=128,s=null):(ia(),D=p.fallback,b=s.mode,p=pd({mode:"visible",children:p.children},b),D=Ba(D,b,c,null),D.flags|=2,p.return=s,D.return=s,p.sibling=D,s.child=p,Ya(s,o.child,null,c),p=s.child,p.memoizedState=ng(c),p.childLanes=rg(o,N,c),s.memoizedState=tg,s=Jl(null,p));else if(ra(s),$g(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var W=N.dgst;N=W,p=Error(r(419)),p.stack="",p.digest=N,Ll({value:p,source:null,stack:null}),s=ag(o,s,c)}else if(Ut||Zo(o,s,c,!1),N=(c&o.childLanes)!==0,Ut||N){if(N=ct,N!==null&&(p=j_(N,c),p!==0&&p!==U.retryLane))throw U.retryLane=p,za(o,p),Un(N,o,p),Qm;Ug(D)||Sd(),s=ag(o,s,c)}else Ug(D)?(s.flags|=192,s.child=o.child,s=null):(o=U.treeContext,vt=pr(D.nextSibling),sn=s,Ke=!0,Xi=null,fr=!1,o!==null&&Rw(s,o),s=ig(s,p.children),s.flags|=4096);return s}return b?(ia(),D=p.fallback,b=s.mode,U=o.child,W=U.sibling,p=li(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,W!==null?D=li(W,D):(D=Ba(D,b,c,null),D.flags|=2),D.return=s,p.return=s,p.sibling=D,s.child=p,Jl(null,p),p=s.child,D=o.child.memoizedState,D===null?D=ng(c):(b=D.cachePool,b!==null?(U=jt._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=Uw(),D={baseLanes:D.baseLanes|c,cachePool:b}),p.memoizedState=D,p.childLanes=rg(o,N,c),s.memoizedState=tg,Jl(o.child,p)):(ra(s),c=o.child,o=c.sibling,c=li(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,o!==null&&(N=s.deletions,N===null?(s.deletions=[o],s.flags|=16):N.push(o)),s.child=c,s.memoizedState=null,c)}function ig(o,s){return s=pd({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function pd(o,s){return o=Fn(22,o,null,s),o.lanes=0,o}function ag(o,s,c){return Ya(s,o.child,null,c),o=ig(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function XS(o,s,c){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),xm(o.return,s,c)}function og(o,s,c,p,b,w){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:w}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=c,N.tailMode=b,N.treeForkCount=w)}function ZS(o,s,c){var p=s.pendingProps,b=p.revealOrder,w=p.tail;p=p.children;var N=Pt.current,D=(N&2)!==0;if(D?(N=N&1|2,s.flags|=128):N&=1,de(Pt,N),un(o,s,p,c),p=Ke?jl:0,!D&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&XS(o,c,s);else if(o.tag===19)XS(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)o=c.alternate,o!==null&&nd(o)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),og(s,!1,b,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&nd(o)===null){s.child=b;break}o=b.sibling,b.sibling=c,c=b,b=o}og(s,!0,c,null,w,p);break;case"together":og(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function pi(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),sa|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(Zo(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=li(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=li(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function sg(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&Yc(o)))}function LU(o,s,c){switch(s.tag){case 3:tt(s,s.stateNode.containerInfo),Qi(s,jt,o.memoizedState.cache),qa();break;case 27:case 5:Ce(s);break;case 4:tt(s,s.stateNode.containerInfo);break;case 10:Qi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rm(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ra(s),s.flags|=128,null):(c&s.child.childLanes)!==0?WS(o,s,c):(ra(s),o=pi(o,s,c),o!==null?o.sibling:null);ra(s);break;case 19:var b=(o.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Zo(o,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return ZS(o,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),de(Pt,Pt.current),p)break;return null;case 22:return s.lanes=0,HS(o,s,c,s.pendingProps);case 24:Qi(s,jt,o.memoizedState.cache)}return pi(o,s,c)}function QS(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)Ut=!0;else{if(!sg(o,c)&&(s.flags&128)===0)return Ut=!1,LU(o,s,c);Ut=(o.flags&131072)!==0}else Ut=!1,Ke&&(s.flags&1048576)!==0&&Pw(s,jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=Va(s.elementType),s.type=o,typeof o=="function")fm(o)?(p=Wa(o,p),s.tag=1,s=YS(null,s,o,p,c)):(s.tag=0,s=eg(null,s,o,p,c));else{if(o!=null){var b=o.$$typeof;if(b===I){s.tag=11,s=BS(null,s,o,p,c);break e}else if(b===k){s.tag=14,s=qS(null,s,o,p,c);break e}}throw s=J(o)||o,Error(r(306,s,""))}}return s;case 0:return eg(o,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=Wa(p,s.pendingProps),YS(o,s,p,b,c);case 3:e:{if(tt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;b=w.element,Cm(o,s),Hl(s,p,null,c);var N=s.memoizedState;if(p=N.cache,Qi(s,jt,p),p!==w.cache&&_m(s,[jt],c,!0),Gl(),p=N.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=JS(o,s,p,c);break e}else if(p!==b){b=ur(Error(r(424)),s),Ll(b),s=JS(o,s,p,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(vt=pr(o.firstChild),sn=s,Ke=!0,Xi=null,fr=!0,c=Hw(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(qa(),p===b){s=pi(o,s,c);break e}un(o,s,p,c)}s=s.child}return s;case 26:return hd(o,s),o===null?(c=cT(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ke||(c=s.type,o=s.pendingProps,p=Id(pe.current).createElement(c),p[on]=s,p[Rn]=o,cn(p,c,o),Jt(p),s.stateNode=p):s.memoizedState=cT(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Ce(s),o===null&&Ke&&(p=s.stateNode=sT(s.type,s.pendingProps,pe.current),sn=s,fr=!0,b=vt,fa(s.type)?(zg=b,vt=pr(p.firstChild)):vt=b),un(o,s,s.pendingProps.children,c),hd(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Ke&&((b=p=vt)&&(p=h$(p,s.type,s.pendingProps,fr),p!==null?(s.stateNode=p,sn=s,vt=pr(p.firstChild),fr=!1,b=!0):b=!1),b||Zi(s)),Ce(s),b=s.type,w=s.pendingProps,N=o!==null?o.memoizedProps:null,p=w.children,kg(b,w)?p=null:N!==null&&kg(b,N)&&(s.flags|=32),s.memoizedState!==null&&(b=Dm(o,s,NU,null,null,c),cu._currentValue=b),hd(o,s),un(o,s,p,c),s.child;case 6:return o===null&&Ke&&((o=c=vt)&&(c=p$(c,s.pendingProps,fr),c!==null?(s.stateNode=c,sn=s,vt=null,o=!0):o=!1),o||Zi(s)),null;case 13:return WS(o,s,c);case 4:return tt(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=Ya(s,null,p,c):un(o,s,p,c),s.child;case 11:return BS(o,s,s.type,s.pendingProps,c);case 7:return un(o,s,s.pendingProps,c),s.child;case 8:return un(o,s,s.pendingProps.children,c),s.child;case 12:return un(o,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Qi(s,s.type,p.value),un(o,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Ha(s),b=ln(b),p=p(b),s.flags|=1,un(o,s,p,c),s.child;case 14:return qS(o,s,s.type,s.pendingProps,c);case 15:return GS(o,s,s.type,s.pendingProps,c);case 19:return ZS(o,s,c);case 31:return jU(o,s,c);case 22:return HS(o,s,c,s.pendingProps);case 24:return Ha(s),p=ln(jt),o===null?(b=Em(),b===null&&(b=ct,w=wm(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),s.memoizedState={parent:p,cache:b},Am(s),Qi(s,jt,b)):((o.lanes&c)!==0&&(Cm(o,s),Hl(s,null,null,c),Gl()),b=o.memoizedState,w=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Qi(s,jt,p)):(p=w.cache,Qi(s,jt,p),p!==b.cache&&_m(s,[jt],c,!0))),un(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function mi(o){o.flags|=4}function lg(o,s,c,p,b){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(AE())o.flags|=8192;else throw Ka=Zc,Tm}else o.flags&=-16777217}function eE(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!mT(s))if(AE())o.flags|=8192;else throw Ka=Zc,Tm}function md(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?M_():536870912,o.lanes|=s,cs|=s)}function Wl(o,s){if(!Ke)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function yt(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(s)for(var b=o.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=c,s}function UU(o,s,c){var p=s.pendingProps;switch(gm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return c=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),di(jt),te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(Xo(s)?mi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ym())),yt(s),null;case 26:var b=s.type,w=s.memoizedState;return o===null?(mi(s),w!==null?(yt(s),eE(s,w)):(yt(s),lg(s,b,null,p,c))):w?w!==o.memoizedState?(mi(s),yt(s),eE(s,w)):(yt(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&mi(s),yt(s),lg(s,b,o,p,c)),null;case 27:if(Le(s),c=pe.current,b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&mi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return yt(s),null}o=fe.current,Xo(s)?Mw(s):(o=sT(b,p,c),s.stateNode=o,mi(s))}return yt(s),null;case 5:if(Le(s),b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&mi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return yt(s),null}if(w=fe.current,Xo(s))Mw(s);else{var N=Id(pe.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?N.createElement(b,{is:p.is}):N.createElement(b)}}w[on]=s,w[Rn]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=w;e:switch(cn(w,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&mi(s)}}return yt(s),lg(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&mi(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=pe.current,Xo(s)){if(o=s.stateNode,c=s.memoizedProps,p=null,b=sn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[on]=s,o=!!(o.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||WE(o.nodeValue,c)),o||Zi(s,!0)}else o=Id(o).createTextNode(p),o[on]=s,s.stateNode=o}return yt(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(p=Xo(s),c!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[on]=s}else qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),o=!1}else c=ym(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return yt(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Xo(s),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[on]=s}else qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),b=!1}else b=ym(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,o=o!==null&&o.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),md(s,s.updateQueue),yt(s),null);case 4:return te(),o===null&&Ig(s.stateNode.containerInfo),yt(s),null;case 10:return di(s.type),yt(s),null;case 19:if(ee(Pt),p=s.memoizedState,p===null)return yt(s),null;if(b=(s.flags&128)!==0,w=p.rendering,w===null)if(b)Wl(p,!1);else{if(At!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(w=nd(o),w!==null){for(s.flags|=128,Wl(p,!1),o=w.updateQueue,s.updateQueue=o,md(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)Nw(c,o),c=c.sibling;return de(Pt,Pt.current&1|2),Ke&&ui(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&bn()>xd&&(s.flags|=128,b=!0,Wl(p,!1),s.lanes=4194304)}else{if(!b)if(o=nd(w),o!==null){if(s.flags|=128,b=!0,o=o.updateQueue,s.updateQueue=o,md(s,o),Wl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ke)return yt(s),null}else 2*bn()-p.renderingStartTime>xd&&c!==536870912&&(s.flags|=128,b=!0,Wl(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(o=p.last,o!==null?o.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=bn(),o.sibling=null,c=Pt.current,de(Pt,b?c&1|2:c&1),Ke&&ui(s,p.treeForkCount),o):(yt(s),null);case 22:case 23:return Kn(s),Pm(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),c=s.updateQueue,c!==null&&md(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),o!==null&&ee(Fa),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),di(jt),yt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function $U(o,s){switch(gm(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return di(jt),te(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Le(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(r(340));qa()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Kn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qa()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return ee(Pt),null;case 4:return te(),null;case 10:return di(s.type),null;case 22:case 23:return Kn(s),Pm(),o!==null&&ee(Fa),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return di(jt),null;case 25:return null;default:return null}}function tE(o,s){switch(gm(s),s.tag){case 3:di(jt),te();break;case 26:case 27:case 5:Le(s);break;case 4:te();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:ee(Pt);break;case 10:di(s.type);break;case 22:case 23:Kn(s),Pm(),o!==null&&ee(Fa);break;case 24:di(jt)}}function Xl(o,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&o)===o){p=void 0;var w=c.create,N=c.inst;p=w(),N.destroy=p}c=c.next}while(c!==b)}}catch(D){rt(s,s.return,D)}}function aa(o,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&o)===o){var N=p.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,b=s;var U=c,W=D;try{W()}catch(ae){rt(b,U,ae)}}}p=p.next}while(p!==w)}}catch(ae){rt(s,s.return,ae)}}function nE(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{Vw(s,c)}catch(p){rt(o,o.return,p)}}}function rE(o,s,c){c.props=Wa(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(p){rt(o,s,p)}}function Zl(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof c=="function"?o.refCleanup=c(p):c.current=p}}catch(b){rt(o,s,b)}}function Vr(o,s){var c=o.ref,p=o.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){rt(o,s,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){rt(o,s,b)}else c.current=null}function iE(o){var s=o.type,c=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){rt(o,o.return,b)}}function ug(o,s,c){try{var p=o.stateNode;s$(p,o.type,c,s),p[Rn]=s}catch(b){rt(o,o.return,b)}}function aE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&fa(o.type)||o.tag===4}function cg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&fa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function dg(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=oi));else if(p!==4&&(p===27&&fa(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(dg(o,s,c),o=o.sibling;o!==null;)dg(o,s,c),o=o.sibling}function gd(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(p!==4&&(p===27&&fa(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(gd(o,s,c),o=o.sibling;o!==null;)gd(o,s,c),o=o.sibling}function oE(o){var s=o.stateNode,c=o.memoizedProps;try{for(var p=o.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);cn(s,p,c),s[on]=o,s[Rn]=c}catch(w){rt(o,o.return,w)}}var gi=!1,$t=!1,fg=!1,sE=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function zU(o,s){if(o=o.containerInfo,Mg=Ld,o=bw(o),am(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var N=0,D=-1,U=-1,W=0,ae=0,se=o,Q=null;t:for(;;){for(var re;se!==c||b!==0&&se.nodeType!==3||(D=N+b),se!==w||p!==0&&se.nodeType!==3||(U=N+p),se.nodeType===3&&(N+=se.nodeValue.length),(re=se.firstChild)!==null;)Q=se,se=re;for(;;){if(se===o)break t;if(Q===c&&++W===b&&(D=N),Q===w&&++ae===p&&(U=N),(re=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=re}c=D===-1||U===-1?null:{start:D,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(Dg={focusedElem:o,selectionRange:c},Ld=!1,Wt=s;Wt!==null;)if(s=Wt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Wt=o;else for(;Wt!==null;){switch(s=Wt,w=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)b=o[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,c=s,b=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var be=Wa(c.type,b);o=p.getSnapshotBeforeUpdate(be,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ne){rt(c,c.return,Ne)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)Lg(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Lg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Wt=o;break}Wt=s.return}}function lE(o,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:yi(o,c),p&4&&Xl(5,c);break;case 1:if(yi(o,c),p&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(N){rt(c,c.return,N)}else{var b=Wa(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(b,s,o.__reactInternalSnapshotBeforeUpdate)}catch(N){rt(c,c.return,N)}}p&64&&nE(c),p&512&&Zl(c,c.return);break;case 3:if(yi(o,c),p&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Vw(o,s)}catch(N){rt(c,c.return,N)}}break;case 27:s===null&&p&4&&oE(c);case 26:case 5:yi(o,c),s===null&&p&4&&iE(c),p&512&&Zl(c,c.return);break;case 12:yi(o,c);break;case 31:yi(o,c),p&4&&dE(o,c);break;case 13:yi(o,c),p&4&&fE(o,c),p&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=JU.bind(null,c),m$(o,c))));break;case 22:if(p=c.memoizedState!==null||gi,!p){s=s!==null&&s.memoizedState!==null||$t,b=gi;var w=$t;gi=p,($t=s)&&!w?bi(o,c,(c.subtreeFlags&8772)!==0):yi(o,c),gi=b,$t=w}break;case 30:break;default:yi(o,c)}}function uE(o){var s=o.alternate;s!==null&&(o.alternate=null,uE(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&qp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var _t=null,Dn=!1;function vi(o,s,c){for(c=c.child;c!==null;)cE(o,s,c),c=c.sibling}function cE(o,s,c){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Dt,c)}catch{}switch(c.tag){case 26:$t||Vr(c,s),vi(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:$t||Vr(c,s);var p=_t,b=Dn;fa(c.type)&&(_t=c.stateNode,Dn=!1),vi(o,s,c),su(c.stateNode),_t=p,Dn=b;break;case 5:$t||Vr(c,s);case 6:if(p=_t,b=Dn,_t=null,vi(o,s,c),_t=p,Dn=b,_t!==null)if(Dn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(c.stateNode)}catch(w){rt(c,s,w)}else try{_t.removeChild(c.stateNode)}catch(w){rt(c,s,w)}break;case 18:_t!==null&&(Dn?(o=_t,nT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),ys(o)):nT(_t,c.stateNode));break;case 4:p=_t,b=Dn,_t=c.stateNode.containerInfo,Dn=!0,vi(o,s,c),_t=p,Dn=b;break;case 0:case 11:case 14:case 15:aa(2,c,s),$t||aa(4,c,s),vi(o,s,c);break;case 1:$t||(Vr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&rE(c,s,p)),vi(o,s,c);break;case 21:vi(o,s,c);break;case 22:$t=(p=$t)||c.memoizedState!==null,vi(o,s,c),$t=p;break;default:vi(o,s,c)}}function dE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ys(o)}catch(c){rt(s,s.return,c)}}}function fE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ys(o)}catch(c){rt(s,s.return,c)}}function BU(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new sE),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new sE),s;default:throw Error(r(435,o.tag))}}function vd(o,s){var c=BU(o);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=WU.bind(null,o,p);p.then(b,b)}})}function kn(o,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],w=o,N=s,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(fa(D.type)){_t=D.stateNode,Dn=!1;break e}break;case 5:_t=D.stateNode,Dn=!1;break e;case 3:case 4:_t=D.stateNode.containerInfo,Dn=!0;break e}D=D.return}if(_t===null)throw Error(r(160));cE(w,N,b),_t=null,Dn=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)hE(s,o),s=s.sibling}var Cr=null;function hE(o,s){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:kn(s,o),jn(o),p&4&&(aa(3,o,o.return),Xl(3,o),aa(5,o,o.return));break;case 1:kn(s,o),jn(o),p&512&&($t||c===null||Vr(c,c.return)),p&64&&gi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=Cr;if(kn(s,o),jn(o),p&512&&($t||c===null||Vr(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=o.memoizedState,c===null)if(p===null)if(o.stateNode===null){e:{p=o.type,c=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Tl]||w[on]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),cn(w,p,c),w[on]=o,Jt(w),p=w;break e;case"link":var N=hT("link","href",b).get(p+(c.href||""));if(N){for(var D=0;D<N.length;D++)if(w=N[D],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(D,1);break t}}w=b.createElement(p),cn(w,p,c),b.head.appendChild(w);break;case"meta":if(N=hT("meta","content",b).get(p+(c.content||""))){for(D=0;D<N.length;D++)if(w=N[D],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(D,1);break t}}w=b.createElement(p),cn(w,p,c),b.head.appendChild(w);break;default:throw Error(r(468,p))}w[on]=o,Jt(w),p=w}o.stateNode=p}else pT(b,o.type,o.stateNode);else o.stateNode=fT(b,p,o.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?pT(b,o.type,o.stateNode):fT(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&ug(o,o.memoizedProps,c.memoizedProps)}break;case 27:kn(s,o),jn(o),p&512&&($t||c===null||Vr(c,c.return)),c!==null&&p&4&&ug(o,o.memoizedProps,c.memoizedProps);break;case 5:if(kn(s,o),jn(o),p&512&&($t||c===null||Vr(c,c.return)),o.flags&32){b=o.stateNode;try{Bo(b,"")}catch(be){rt(o,o.return,be)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,ug(o,b,c!==null?c.memoizedProps:b)),p&1024&&(fg=!0);break;case 6:if(kn(s,o),jn(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,c=o.stateNode;try{c.nodeValue=p}catch(be){rt(o,o.return,be)}}break;case 3:if(Md=null,b=Cr,Cr=Pd(s.containerInfo),kn(s,o),Cr=b,jn(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ys(s.containerInfo)}catch(be){rt(o,o.return,be)}fg&&(fg=!1,pE(o));break;case 4:p=Cr,Cr=Pd(o.stateNode.containerInfo),kn(s,o),jn(o),Cr=p;break;case 12:kn(s,o),jn(o);break;case 31:kn(s,o),jn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,vd(o,p)));break;case 13:kn(s,o),jn(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(bd=bn()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,vd(o,p)));break;case 22:b=o.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,W=gi,ae=$t;if(gi=W||b,$t=ae||U,kn(s,o),$t=ae,gi=W,jn(o),p&8192)e:for(s=o.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||U||gi||$t||Xa(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(w=U.stateNode,b)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=U.stateNode;var se=U.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;D.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(be){rt(U,U.return,be)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(be){rt(U,U.return,be)}}}else if(s.tag===18){if(c===null){U=s;try{var re=U.stateNode;b?rT(re,!0):rT(U.stateNode,!1)}catch(be){rt(U,U.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,vd(o,c))));break;case 19:kn(s,o),jn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,vd(o,p)));break;case 30:break;case 21:break;default:kn(s,o),jn(o)}}function jn(o){var s=o.flags;if(s&2){try{for(var c,p=o.return;p!==null;){if(aE(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,w=cg(o);gd(o,w,b);break;case 5:var N=c.stateNode;c.flags&32&&(Bo(N,""),c.flags&=-33);var D=cg(o);gd(o,D,N);break;case 3:case 4:var U=c.stateNode.containerInfo,W=cg(o);dg(o,W,U);break;default:throw Error(r(161))}}catch(ae){rt(o,o.return,ae)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function pE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;pE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function yi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lE(o,s.alternate,s),s=s.sibling}function Xa(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:aa(4,s,s.return),Xa(s);break;case 1:Vr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&rE(s,s.return,c),Xa(s);break;case 27:su(s.stateNode);case 26:case 5:Vr(s,s.return),Xa(s);break;case 22:s.memoizedState===null&&Xa(s);break;case 30:Xa(s);break;default:Xa(s)}o=o.sibling}}function bi(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=o,w=s,N=w.flags;switch(w.tag){case 0:case 11:case 15:bi(b,w,c),Xl(4,w);break;case 1:if(bi(b,w,c),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(W){rt(p,p.return,W)}if(p=w,b=p.updateQueue,b!==null){var D=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)Fw(U[b],D)}catch(W){rt(p,p.return,W)}}c&&N&64&&nE(w),Zl(w,w.return);break;case 27:oE(w);case 26:case 5:bi(b,w,c),c&&p===null&&N&4&&iE(w),Zl(w,w.return);break;case 12:bi(b,w,c);break;case 31:bi(b,w,c),c&&N&4&&dE(b,w);break;case 13:bi(b,w,c),c&&N&4&&fE(b,w);break;case 22:w.memoizedState===null&&bi(b,w,c),Zl(w,w.return);break;case 30:break;default:bi(b,w,c)}s=s.sibling}}function hg(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&Ul(c))}function pg(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ul(o))}function Nr(o,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mE(o,s,c,p),s=s.sibling}function mE(o,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(o,s,c,p),b&2048&&Xl(9,s);break;case 1:Nr(o,s,c,p);break;case 3:Nr(o,s,c,p),b&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ul(o)));break;case 12:if(b&2048){Nr(o,s,c,p),o=s.stateNode;try{var w=s.memoizedProps,N=w.id,D=w.onPostCommit;typeof D=="function"&&D(N,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(U){rt(s,s.return,U)}}else Nr(o,s,c,p);break;case 31:Nr(o,s,c,p);break;case 13:Nr(o,s,c,p);break;case 23:break;case 22:w=s.stateNode,N=s.alternate,s.memoizedState!==null?w._visibility&2?Nr(o,s,c,p):Ql(o,s):w._visibility&2?Nr(o,s,c,p):(w._visibility|=2,ss(o,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&hg(N,s);break;case 24:Nr(o,s,c,p),b&2048&&pg(s.alternate,s);break;default:Nr(o,s,c,p)}}function ss(o,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=o,N=s,D=c,U=p,W=N.flags;switch(N.tag){case 0:case 11:case 15:ss(w,N,D,U,b),Xl(8,N);break;case 23:break;case 22:var ae=N.stateNode;N.memoizedState!==null?ae._visibility&2?ss(w,N,D,U,b):Ql(w,N):(ae._visibility|=2,ss(w,N,D,U,b)),b&&W&2048&&hg(N.alternate,N);break;case 24:ss(w,N,D,U,b),b&&W&2048&&pg(N.alternate,N);break;default:ss(w,N,D,U,b)}s=s.sibling}}function Ql(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,p=s,b=p.flags;switch(p.tag){case 22:Ql(c,p),b&2048&&hg(p.alternate,p);break;case 24:Ql(c,p),b&2048&&pg(p.alternate,p);break;default:Ql(c,p)}s=s.sibling}}var eu=8192;function ls(o,s,c){if(o.subtreeFlags&eu)for(o=o.child;o!==null;)gE(o,s,c),o=o.sibling}function gE(o,s,c){switch(o.tag){case 26:ls(o,s,c),o.flags&eu&&o.memoizedState!==null&&C$(c,Cr,o.memoizedState,o.memoizedProps);break;case 5:ls(o,s,c);break;case 3:case 4:var p=Cr;Cr=Pd(o.stateNode.containerInfo),ls(o,s,c),Cr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=eu,eu=16777216,ls(o,s,c),eu=p):ls(o,s,c));break;default:ls(o,s,c)}}function vE(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function tu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Wt=p,bE(p,o)}vE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yE(o),o=o.sibling}function yE(o){switch(o.tag){case 0:case 11:case 15:tu(o),o.flags&2048&&aa(9,o,o.return);break;case 3:tu(o);break;case 12:tu(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,yd(o)):tu(o);break;default:tu(o)}}function yd(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Wt=p,bE(p,o)}vE(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:aa(8,s,s.return),yd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,yd(s));break;default:yd(s)}o=o.sibling}}function bE(o,s){for(;Wt!==null;){var c=Wt;switch(c.tag){case 0:case 11:case 15:aa(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ul(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Wt=p;else e:for(c=o;Wt!==null;){p=Wt;var b=p.sibling,w=p.return;if(uE(p),p===c){Wt=null;break e}if(b!==null){b.return=w,Wt=b;break e}Wt=w}}}var qU={getCacheForType:function(o){var s=ln(jt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return ln(jt).controller.signal}},GU=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ct=null,Be=null,He=0,nt=0,Yn=null,oa=!1,us=!1,mg=!1,xi=0,At=0,sa=0,Za=0,gg=0,Jn=0,cs=0,nu=null,Ln=null,vg=!1,bd=0,xE=0,xd=1/0,_d=null,la=null,Gt=0,ua=null,ds=null,_i=0,yg=0,bg=null,_E=null,ru=0,xg=null;function Wn(){return(Qe&2)!==0&&He!==0?He&-He:$.T!==null?Ag():L_()}function wE(){if(Jn===0)if((He&536870912)===0||Ke){var o=Oc;Oc<<=1,(Oc&3932160)===0&&(Oc=262144),Jn=o}else Jn=536870912;return o=Vn.current,o!==null&&(o.flags|=32),Jn}function Un(o,s,c){(o===ct&&(nt===2||nt===9)||o.cancelPendingCommit!==null)&&(fs(o,0),ca(o,He,Jn,!1)),El(o,c),((Qe&2)===0||o!==ct)&&(o===ct&&((Qe&2)===0&&(Za|=c),At===4&&ca(o,He,Jn,!1)),Kr(o))}function SE(o,s,c){if((Qe&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&o.expiredLanes)===0||Sl(o,s),b=p?VU(o,s):wg(o,s,!0),w=p;do{if(b===0){us&&!p&&ca(o,s,0,!1);break}else{if(c=o.current.alternate,w&&!HU(c)){b=wg(o,s,!1),w=!1;continue}if(b===2){if(w=s,o.errorRecoveryDisabledLanes&w)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var D=o;b=nu;var U=D.current.memoizedState.isDehydrated;if(U&&(fs(D,N).flags|=256),N=wg(D,N,!1),N!==2){if(mg&&!U){D.errorRecoveryDisabledLanes|=w,Za|=w,b=4;break e}w=Ln,Ln=b,w!==null&&(Ln===null?Ln=w:Ln.push.apply(Ln,w))}b=N}if(w=!1,b!==2)continue}}if(b===1){fs(o,0),ca(o,s,0,!0);break}e:{switch(p=o,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ca(p,s,Jn,!oa);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=bd+300-bn(),10<b)){if(ca(p,s,Jn,!oa),Pc(p,0,!0)!==0)break e;_i=s,p.timeoutHandle=eT(EE.bind(null,p,c,Ln,_d,vg,s,Jn,Za,cs,oa,w,"Throttled",-0,0),b);break e}EE(p,c,Ln,_d,vg,s,Jn,Za,cs,oa,w,null,-0,0)}}break}while(!0);Kr(o)}function EE(o,s,c,p,b,w,N,D,U,W,ae,se,Q,re){if(o.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},gE(s,w,se);var be=(w&62914560)===w?bd-bn():(w&4194048)===w?xE-bn():0;if(be=N$(se,be),be!==null){_i=w,o.cancelPendingCommit=be(RE.bind(null,o,s,w,c,p,b,N,D,U,ae,se,null,Q,re)),ca(o,w,N,!W);return}}RE(o,s,w,c,p,b,N,D,U)}function HU(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],w=b.getSnapshot;b=b.value;try{if(!Hn(w(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ca(o,s,c,p){s&=~gg,s&=~Za,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var b=s;0<b;){var w=31-Gn(b),N=1<<w;p[w]=-1,b&=~N}c!==0&&D_(o,c,s)}function wd(){return(Qe&6)===0?(iu(0),!1):!0}function _g(){if(Be!==null){if(nt===0)var o=Be.return;else o=Be,ci=Ga=null,Lm(o),ns=null,zl=0,o=Be;for(;o!==null;)tE(o.alternate,o),o=o.return;Be=null}}function fs(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,c$(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),_i=0,_g(),ct=o,Be=c=li(o.current,null),He=s,nt=0,Yn=null,oa=!1,us=Sl(o,s),mg=!1,cs=Jn=gg=Za=sa=At=0,Ln=nu=null,vg=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var b=31-Gn(p),w=1<<b;s|=o[b],p&=~w}return xi=s,Gc(),c}function TE(o,s){De=null,$.H=Yl,s===ts||s===Xc?(s=Bw(),nt=3):s===Tm?(s=Bw(),nt=4):nt=s===Qm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Be===null&&(At=1,dd(o,ur(s,o.current)))}function AE(){var o=Vn.current;return o===null?!0:(He&4194048)===He?hr===null:(He&62914560)===He||(He&536870912)!==0?o===hr:!1}function CE(){var o=$.H;return $.H=Yl,o===null?Yl:o}function NE(){var o=$.A;return $.A=qU,o}function Sd(){At=4,oa||(He&4194048)!==He&&Vn.current!==null||(us=!0),(sa&134217727)===0&&(Za&134217727)===0||ct===null||ca(ct,He,Jn,!1)}function wg(o,s,c){var p=Qe;Qe|=2;var b=CE(),w=NE();(ct!==o||He!==s)&&(_d=null,fs(o,s)),s=!1;var N=At;e:do try{if(nt!==0&&Be!==null){var D=Be,U=Yn;switch(nt){case 8:_g(),N=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var W=nt;if(nt=0,Yn=null,hs(o,D,U,W),c&&us){N=0;break e}break;default:W=nt,nt=0,Yn=null,hs(o,D,U,W)}}FU(),N=At;break}catch(ae){TE(o,ae)}while(!0);return s&&o.shellSuspendCounter++,ci=Ga=null,Qe=p,$.H=b,$.A=w,Be===null&&(ct=null,He=0,Gc()),N}function FU(){for(;Be!==null;)OE(Be)}function VU(o,s){var c=Qe;Qe|=2;var p=CE(),b=NE();ct!==o||He!==s?(_d=null,xd=bn()+500,fs(o,s)):us=Sl(o,s);e:do try{if(nt!==0&&Be!==null){s=Be;var w=Yn;t:switch(nt){case 1:nt=0,Yn=null,hs(o,s,w,1);break;case 2:case 9:if($w(w)){nt=0,Yn=null,IE(s);break}s=function(){nt!==2&&nt!==9||ct!==o||(nt=7),Kr(o)},w.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:$w(w)?(nt=0,Yn=null,IE(s)):(nt=0,Yn=null,hs(o,s,w,7));break;case 5:var N=null;switch(Be.tag){case 26:N=Be.memoizedState;case 5:case 27:var D=Be;if(N?mT(N):D.stateNode.complete){nt=0,Yn=null;var U=D.sibling;if(U!==null)Be=U;else{var W=D.return;W!==null?(Be=W,Ed(W)):Be=null}break t}}nt=0,Yn=null,hs(o,s,w,5);break;case 6:nt=0,Yn=null,hs(o,s,w,6);break;case 8:_g(),At=6;break e;default:throw Error(r(462))}}KU();break}catch(ae){TE(o,ae)}while(!0);return ci=Ga=null,$.H=p,$.A=b,Qe=c,Be!==null?0:(ct=null,He=0,Gc(),At)}function KU(){for(;Be!==null&&!Ac();)OE(Be)}function OE(o){var s=QS(o.alternate,o,xi);o.memoizedProps=o.pendingProps,s===null?Ed(o):Be=s}function IE(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=KS(c,s,s.pendingProps,s.type,void 0,He);break;case 11:s=KS(c,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Lm(s);default:tE(c,s),s=Be=Nw(s,xi),s=QS(c,s,xi)}o.memoizedProps=o.pendingProps,s===null?Ed(o):Be=s}function hs(o,s,c,p){ci=Ga=null,Lm(s),ns=null,zl=0;var b=s.return;try{if(kU(o,b,s,c,He)){At=1,dd(o,ur(c,o.current)),Be=null;return}}catch(w){if(b!==null)throw Be=b,w;At=1,dd(o,ur(c,o.current)),Be=null;return}s.flags&32768?(Ke||p===1?o=!0:us||(He&536870912)!==0?o=!1:(oa=o=!0,(p===2||p===9||p===3||p===6)&&(p=Vn.current,p!==null&&p.tag===13&&(p.flags|=16384))),PE(s,o)):Ed(s)}function Ed(o){var s=o;do{if((s.flags&32768)!==0){PE(s,oa);return}o=s.return;var c=UU(s.alternate,s,xi);if(c!==null){Be=c;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=o}while(s!==null);At===0&&(At=5)}function PE(o,s){do{var c=$U(o.alternate,o);if(c!==null){c.flags&=32767,Be=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){Be=o;return}Be=o=c}while(o!==null);At=6,Be=null}function RE(o,s,c,p,b,w,N,D,U){o.cancelPendingCommit=null;do Td();while(Gt!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=cm,AL(o,c,w,N,D,U),o===ct&&(Be=ct=null,He=0),ds=s,ua=o,_i=c,yg=w,bg=b,_E=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,XU(Se,function(){return LE(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,b=Z.p,Z.p=2,N=Qe,Qe|=4;try{zU(o,s,c)}finally{Qe=N,Z.p=b,$.T=p}}Gt=1,ME(),DE(),kE()}}function ME(){if(Gt===1){Gt=0;var o=ua,s=ds,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var p=Z.p;Z.p=2;var b=Qe;Qe|=4;try{hE(s,o);var w=Dg,N=bw(o.containerInfo),D=w.focusedElem,U=w.selectionRange;if(N!==D&&D&&D.ownerDocument&&yw(D.ownerDocument.documentElement,D)){if(U!==null&&am(D)){var W=U.start,ae=U.end;if(ae===void 0&&(ae=W),"selectionStart"in D)D.selectionStart=W,D.selectionEnd=Math.min(ae,D.value.length);else{var se=D.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var re=Q.getSelection(),be=D.textContent.length,Ne=Math.min(U.start,be),lt=U.end===void 0?Ne:Math.min(U.end,be);!re.extend&&Ne>lt&&(N=lt,lt=Ne,Ne=N);var V=vw(D,Ne),q=vw(D,lt);if(V&&q&&(re.rangeCount!==1||re.anchorNode!==V.node||re.anchorOffset!==V.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var Y=se.createRange();Y.setStart(V.node,V.offset),re.removeAllRanges(),Ne>lt?(re.addRange(Y),re.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),re.addRange(Y))}}}}for(se=[],re=D;re=re.parentNode;)re.nodeType===1&&se.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<se.length;D++){var oe=se[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ld=!!Mg,Dg=Mg=null}finally{Qe=b,Z.p=p,$.T=c}}o.current=s,Gt=2}}function DE(){if(Gt===2){Gt=0;var o=ua,s=ds,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var p=Z.p;Z.p=2;var b=Qe;Qe|=4;try{lE(o,s.alternate,s)}finally{Qe=b,Z.p=p,$.T=c}}Gt=3}}function kE(){if(Gt===4||Gt===3){Gt=0,Cc();var o=ua,s=ds,c=_i,p=_E;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,ds=ua=null,jE(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(la=null),zp(c),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=$.T,b=Z.p,Z.p=2,$.T=null;try{for(var w=o.onRecoverableError,N=0;N<p.length;N++){var D=p[N];w(D.value,{componentStack:D.stack})}}finally{$.T=s,Z.p=b}}(_i&3)!==0&&Td(),Kr(o),b=o.pendingLanes,(c&261930)!==0&&(b&42)!==0?o===xg?ru++:(ru=0,xg=o):ru=0,iu(0)}}function jE(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Ul(s)))}function Td(){return ME(),DE(),kE(),LE()}function LE(){if(Gt!==5)return!1;var o=ua,s=yg;yg=0;var c=zp(_i),p=$.T,b=Z.p;try{Z.p=32>c?32:c,$.T=null,c=bg,bg=null;var w=ua,N=_i;if(Gt=0,ds=ua=null,_i=0,(Qe&6)!==0)throw Error(r(331));var D=Qe;if(Qe|=4,yE(w.current),mE(w,w.current,N,c),Qe=D,iu(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Dt,w)}catch{}return!0}finally{Z.p=b,$.T=p,jE(o,s)}}function UE(o,s,c){s=ur(c,s),s=Zm(o.stateNode,s,2),o=na(o,s,2),o!==null&&(El(o,2),Kr(o))}function rt(o,s,c){if(o.tag===3)UE(o,o,c);else for(;s!==null;){if(s.tag===3){UE(s,o,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(la===null||!la.has(p))){o=ur(c,o),c=$S(2),p=na(s,c,2),p!==null&&(zS(c,p,s,o),El(p,2),Kr(p));break}}s=s.return}}function Sg(o,s,c){var p=o.pingCache;if(p===null){p=o.pingCache=new GU;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(mg=!0,b.add(c),o=YU.bind(null,o,s,c),s.then(o,o))}function YU(o,s,c){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,ct===o&&(He&c)===c&&(At===4||At===3&&(He&62914560)===He&&300>bn()-bd?(Qe&2)===0&&fs(o,0):gg|=c,cs===He&&(cs=0)),Kr(o)}function $E(o,s){s===0&&(s=M_()),o=za(o,s),o!==null&&(El(o,s),Kr(o))}function JU(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),$E(o,c)}function WU(o,s){var c=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),$E(o,c)}function XU(o,s){return Mo(o,s)}var Ad=null,ps=null,Eg=!1,Cd=!1,Tg=!1,da=0;function Kr(o){o!==ps&&o.next===null&&(ps===null?Ad=ps=o:ps=ps.next=o),Cd=!0,Eg||(Eg=!0,QU())}function iu(o,s){if(!Tg&&Cd){Tg=!0;do for(var c=!1,p=Ad;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var N=p.suspendedLanes,D=p.pingedLanes;w=(1<<31-Gn(42|o)+1)-1,w&=b&~(N&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,GE(p,w))}else w=He,w=Pc(p,p===ct?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Sl(p,w)||(c=!0,GE(p,w));p=p.next}while(c);Tg=!1}}function ZU(){zE()}function zE(){Cd=Eg=!1;var o=0;da!==0&&u$()&&(o=da);for(var s=bn(),c=null,p=Ad;p!==null;){var b=p.next,w=BE(p,s);w===0?(p.next=null,c===null?Ad=b:c.next=b,b===null&&(ps=c)):(c=p,(o!==0||(w&3)!==0)&&(Cd=!0)),p=b}Gt!==0&&Gt!==5||iu(o),da!==0&&(da=0)}function BE(o,s){for(var c=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var N=31-Gn(w),D=1<<N,U=b[N];U===-1?((D&c)===0||(D&p)!==0)&&(b[N]=TL(D,s)):U<=s&&(o.expiredLanes|=D),w&=~D}if(s=ct,c=He,c=Pc(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,c===0||o===s&&(nt===2||nt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Do(p),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||Sl(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(p!==null&&Do(p),zp(c)){case 2:case 8:c=me;break;case 32:c=Se;break;case 268435456:c=at;break;default:c=Se}return p=qE.bind(null,o),c=Mo(c,p),o.callbackPriority=s,o.callbackNode=c,s}return p!==null&&p!==null&&Do(p),o.callbackPriority=2,o.callbackNode=null,2}function qE(o,s){if(Gt!==0&&Gt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(Td()&&o.callbackNode!==c)return null;var p=He;return p=Pc(o,o===ct?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(SE(o,p,s),BE(o,bn()),o.callbackNode!=null&&o.callbackNode===c?qE.bind(null,o):null)}function GE(o,s){if(Td())return null;SE(o,s,!0)}function QU(){d$(function(){(Qe&6)!==0?Mo(ve,ZU):zE()})}function Ag(){if(da===0){var o=Qo;o===0&&(o=Nc,Nc<<=1,(Nc&261888)===0&&(Nc=256)),da=o}return da}function HE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:kc(""+o)}function FE(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function e$(o,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var w=HE((b[Rn]||null).action),N=p.submitter;N&&(s=(s=N[Rn]||null)?HE(s.formAction):N.getAttribute("formAction"),s!==null&&(w=s,N=null));var D=new $c("action","action",null,p,b);o.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(da!==0){var U=N?FE(b,N):new FormData(b);Vm(c,{pending:!0,data:U,method:b.method,action:w},null,U)}}else typeof w=="function"&&(D.preventDefault(),U=N?FE(b,N):new FormData(b),Vm(c,{pending:!0,data:U,method:b.method,action:w},w,U))},currentTarget:b}]})}}for(var Cg=0;Cg<um.length;Cg++){var Ng=um[Cg],t$=Ng.toLowerCase(),n$=Ng[0].toUpperCase()+Ng.slice(1);Ar(t$,"on"+n$)}Ar(ww,"onAnimationEnd"),Ar(Sw,"onAnimationIteration"),Ar(Ew,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(yU,"onTransitionRun"),Ar(bU,"onTransitionStart"),Ar(xU,"onTransitionCancel"),Ar(Tw,"onTransitionEnd"),$o("onMouseEnter",["mouseout","mouseover"]),$o("onMouseLeave",["mouseout","mouseover"]),$o("onPointerEnter",["pointerout","pointerover"]),$o("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function VE(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],b=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var N=p.length-1;0<=N;N--){var D=p[N],U=D.instance,W=D.currentTarget;if(D=D.listener,U!==w&&b.isPropagationStopped())break e;w=D,b.currentTarget=W;try{w(b)}catch(ae){qc(ae)}b.currentTarget=null,w=U}else for(N=0;N<p.length;N++){if(D=p[N],U=D.instance,W=D.currentTarget,D=D.listener,U!==w&&b.isPropagationStopped())break e;w=D,b.currentTarget=W;try{w(b)}catch(ae){qc(ae)}b.currentTarget=null,w=U}}}}function qe(o,s){var c=s[Bp];c===void 0&&(c=s[Bp]=new Set);var p=o+"__bubble";c.has(p)||(KE(s,o,2,!1),c.add(p))}function Og(o,s,c){var p=0;s&&(p|=4),KE(c,o,p,s)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Ig(o){if(!o[Nd]){o[Nd]=!0,z_.forEach(function(c){c!=="selectionchange"&&(r$.has(c)||Og(c,!1,o),Og(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Nd]||(s[Nd]=!0,Og("selectionchange",!1,s))}}function KE(o,s,c,p){switch(wT(s)){case 2:var b=P$;break;case 8:b=R$;break;default:b=Fg}c=b.bind(null,s,c,o),b=void 0,!Wp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(s,c,{capture:!0,passive:b}):o.addEventListener(s,c,!0):b!==void 0?o.addEventListener(s,c,{passive:b}):o.addEventListener(s,c,!1)}function Pg(o,s,c,p,b){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var D=p.stateNode.containerInfo;if(D===b)break;if(N===4)for(N=p.return;N!==null;){var U=N.tag;if((U===3||U===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;D!==null;){if(N=jo(D),N===null)return;if(U=N.tag,U===5||U===6||U===26||U===27){p=w=N;continue e}D=D.parentNode}}p=p.return}Z_(function(){var W=w,ae=Yp(c),se=[];e:{var Q=Aw.get(o);if(Q!==void 0){var re=$c,be=o;switch(o){case"keypress":if(Lc(c)===0)break e;case"keydown":case"keyup":re=WL;break;case"focusin":be="focus",re=em;break;case"focusout":be="blur",re=em;break;case"beforeblur":case"afterblur":re=em;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=UL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=QL;break;case ww:case Sw:case Ew:re=BL;break;case Tw:re=tU;break;case"scroll":case"scrollend":re=jL;break;case"wheel":re=rU;break;case"copy":case"cut":case"paste":re=GL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=rw;break;case"toggle":case"beforetoggle":re=aU}var Ne=(s&4)!==0,lt=!Ne&&(o==="scroll"||o==="scrollend"),V=Ne?Q!==null?Q+"Capture":null:Q;Ne=[];for(var q=W,Y;q!==null;){var oe=q;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||V===null||(oe=Cl(q,V),oe!=null&&Ne.push(ou(q,oe,Y))),lt)break;q=q.return}0<Ne.length&&(Q=new re(Q,be,null,c,ae),se.push({event:Q,listeners:Ne}))}}if((s&7)===0){e:{if(Q=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",Q&&c!==Kp&&(be=c.relatedTarget||c.fromElement)&&(jo(be)||be[ko]))break e;if((re||Q)&&(Q=ae.window===ae?ae:(Q=ae.ownerDocument)?Q.defaultView||Q.parentWindow:window,re?(be=c.relatedTarget||c.toElement,re=W,be=be?jo(be):null,be!==null&&(lt=a(be),Ne=be.tag,be!==lt||Ne!==5&&Ne!==27&&Ne!==6)&&(be=null)):(re=null,be=W),re!==be)){if(Ne=tw,oe="onMouseLeave",V="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Ne=rw,oe="onPointerLeave",V="onPointerEnter",q="pointer"),lt=re==null?Q:Al(re),Y=be==null?Q:Al(be),Q=new Ne(oe,q+"leave",re,c,ae),Q.target=lt,Q.relatedTarget=Y,oe=null,jo(ae)===W&&(Ne=new Ne(V,q+"enter",be,c,ae),Ne.target=Y,Ne.relatedTarget=lt,oe=Ne),lt=oe,re&&be)t:{for(Ne=i$,V=re,q=be,Y=0,oe=V;oe;oe=Ne(oe))Y++;oe=0;for(var Ae=q;Ae;Ae=Ne(Ae))oe++;for(;0<Y-oe;)V=Ne(V),Y--;for(;0<oe-Y;)q=Ne(q),oe--;for(;Y--;){if(V===q||q!==null&&V===q.alternate){Ne=V;break t}V=Ne(V),q=Ne(q)}Ne=null}else Ne=null;re!==null&&YE(se,Q,re,Ne,!1),be!==null&&lt!==null&&YE(se,lt,be,Ne,!0)}}e:{if(Q=W?Al(W):window,re=Q.nodeName&&Q.nodeName.toLowerCase(),re==="select"||re==="input"&&Q.type==="file")var Je=dw;else if(uw(Q))if(fw)Je=mU;else{Je=hU;var we=fU}else re=Q.nodeName,!re||re.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?W&&Vp(W.elementType)&&(Je=dw):Je=pU;if(Je&&(Je=Je(o,W))){cw(se,Je,c,ae);break e}we&&we(o,Q,W),o==="focusout"&&W&&Q.type==="number"&&W.memoizedProps.value!=null&&Fp(Q,"number",Q.value)}switch(we=W?Al(W):window,o){case"focusin":(uw(we)||we.contentEditable==="true")&&(Fo=we,om=W,kl=null);break;case"focusout":kl=om=Fo=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,xw(se,c,ae);break;case"selectionchange":if(vU)break;case"keydown":case"keyup":xw(se,c,ae)}var je;if(nm)e:{switch(o){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ho?sw(o,c)&&(Fe="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(iw&&c.locale!=="ko"&&(Ho||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ho&&(je=Q_()):(Ji=ae,Xp="value"in Ji?Ji.value:Ji.textContent,Ho=!0)),we=Od(W,Fe),0<we.length&&(Fe=new nw(Fe,o,null,c,ae),se.push({event:Fe,listeners:we}),je?Fe.data=je:(je=lw(c),je!==null&&(Fe.data=je)))),(je=sU?lU(o,c):uU(o,c))&&(Fe=Od(W,"onBeforeInput"),0<Fe.length&&(we=new nw("onBeforeInput","beforeinput",null,c,ae),se.push({event:we,listeners:Fe}),we.data=je)),e$(se,o,W,c,ae)}VE(se,s)})}function ou(o,s,c){return{instance:o,listener:s,currentTarget:c}}function Od(o,s){for(var c=s+"Capture",p=[];o!==null;){var b=o,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Cl(o,c),b!=null&&p.unshift(ou(o,b,w)),b=Cl(o,s),b!=null&&p.push(ou(o,b,w))),o.tag===3)return p;o=o.return}return[]}function i$(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function YE(o,s,c,p,b){for(var w=s._reactName,N=[];c!==null&&c!==p;){var D=c,U=D.alternate,W=D.stateNode;if(D=D.tag,U!==null&&U===p)break;D!==5&&D!==26&&D!==27||W===null||(U=W,b?(W=Cl(c,w),W!=null&&N.unshift(ou(c,W,U))):b||(W=Cl(c,w),W!=null&&N.push(ou(c,W,U)))),c=c.return}N.length!==0&&o.push({event:s,listeners:N})}var a$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function JE(o){return(typeof o=="string"?o:""+o).replace(a$,`
`).replace(o$,"")}function WE(o,s){return s=JE(s),JE(o)===s}function st(o,s,c,p,b,w){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Bo(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Bo(o,""+p);break;case"className":Mc(o,"class",p);break;case"tabIndex":Mc(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Mc(o,c,p);break;case"style":W_(o,p,w);break;case"data":if(s!=="object"){Mc(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=kc(""+p),o.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&st(o,s,"name",b.name,b,null),st(o,s,"formEncType",b.formEncType,b,null),st(o,s,"formMethod",b.formMethod,b,null),st(o,s,"formTarget",b.formTarget,b,null)):(st(o,s,"encType",b.encType,b,null),st(o,s,"method",b.method,b,null),st(o,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=kc(""+p),o.setAttribute(c,p);break;case"onClick":p!=null&&(o.onclick=oi);break;case"onScroll":p!=null&&qe("scroll",o);break;case"onScrollEnd":p!=null&&qe("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}c=kc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""+p):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":p===!0?o.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,p):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(c,p):o.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(c):o.setAttribute(c,p);break;case"popover":qe("beforetoggle",o),qe("toggle",o),Rc(o,"popover",p);break;case"xlinkActuate":ai(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ai(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ai(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ai(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ai(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ai(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ai(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ai(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ai(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=DL.get(c)||c,Rc(o,c,p))}}function Rg(o,s,c,p,b,w){switch(c){case"style":W_(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof p=="string"?Bo(o,p):(typeof p=="number"||typeof p=="bigint")&&Bo(o,""+p);break;case"onScroll":p!=null&&qe("scroll",o);break;case"onScrollEnd":p!=null&&qe("scrollend",o);break;case"onClick":p!=null&&(o.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!B_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),w=o[Rn]||null,w=w!=null?w[c]:null,typeof w=="function"&&o.removeEventListener(s,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,p,b);break e}c in o?o[c]=p:p===!0?o.setAttribute(c,""):Rc(o,c,p)}}}function cn(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",o),qe("load",o);var p=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var N=c[w];if(N!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(o,s,w,N,c,null)}}b&&st(o,s,"srcSet",c.srcSet,c,null),p&&st(o,s,"src",c.src,c,null);return;case"input":qe("invalid",o);var D=w=N=b=null,U=null,W=null;for(p in c)if(c.hasOwnProperty(p)){var ae=c[p];if(ae!=null)switch(p){case"name":b=ae;break;case"type":N=ae;break;case"checked":U=ae;break;case"defaultChecked":W=ae;break;case"value":w=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:st(o,s,p,ae,c,null)}}V_(o,w,D,U,W,N,b,!1);return;case"select":qe("invalid",o),p=N=w=null;for(b in c)if(c.hasOwnProperty(b)&&(D=c[b],D!=null))switch(b){case"value":w=D;break;case"defaultValue":N=D;break;case"multiple":p=D;default:st(o,s,b,D,c,null)}s=w,c=N,o.multiple=!!p,s!=null?zo(o,!!p,s,!1):c!=null&&zo(o,!!p,c,!0);return;case"textarea":qe("invalid",o),w=b=p=null;for(N in c)if(c.hasOwnProperty(N)&&(D=c[N],D!=null))switch(N){case"value":p=D;break;case"defaultValue":b=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:st(o,s,N,D,c,null)}Y_(o,p,b,w);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(p=c[U],p!=null))switch(U){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:st(o,s,U,p,c,null)}return;case"dialog":qe("beforetoggle",o),qe("toggle",o),qe("cancel",o),qe("close",o);break;case"iframe":case"object":qe("load",o);break;case"video":case"audio":for(p=0;p<au.length;p++)qe(au[p],o);break;case"image":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"embed":case"source":case"link":qe("error",o),qe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in c)if(c.hasOwnProperty(W)&&(p=c[W],p!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(o,s,W,p,c,null)}return;default:if(Vp(s)){for(ae in c)c.hasOwnProperty(ae)&&(p=c[ae],p!==void 0&&Rg(o,s,ae,p,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(p=c[D],p!=null&&st(o,s,D,p,c,null))}function s$(o,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,N=null,D=null,U=null,W=null,ae=null;for(re in c){var se=c[re];if(c.hasOwnProperty(re)&&se!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=se;default:p.hasOwnProperty(re)||st(o,s,re,null,p,se)}}for(var Q in p){var re=p[Q];if(se=c[Q],p.hasOwnProperty(Q)&&(re!=null||se!=null))switch(Q){case"type":w=re;break;case"name":b=re;break;case"checked":W=re;break;case"defaultChecked":ae=re;break;case"value":N=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==se&&st(o,s,Q,re,p,se)}}Hp(o,N,D,U,W,ae,w,b);return;case"select":re=N=D=Q=null;for(w in c)if(U=c[w],c.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":re=U;default:p.hasOwnProperty(w)||st(o,s,w,null,p,U)}for(b in p)if(w=p[b],U=c[b],p.hasOwnProperty(b)&&(w!=null||U!=null))switch(b){case"value":Q=w;break;case"defaultValue":D=w;break;case"multiple":N=w;default:w!==U&&st(o,s,b,w,p,U)}s=D,c=N,p=re,Q!=null?zo(o,!!c,Q,!1):!!p!=!!c&&(s!=null?zo(o,!!c,s,!0):zo(o,!!c,c?[]:"",!1));return;case"textarea":re=Q=null;for(D in c)if(b=c[D],c.hasOwnProperty(D)&&b!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:st(o,s,D,null,p,b)}for(N in p)if(b=p[N],w=c[N],p.hasOwnProperty(N)&&(b!=null||w!=null))switch(N){case"value":Q=b;break;case"defaultValue":re=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&st(o,s,N,b,p,w)}K_(o,Q,re);return;case"option":for(var be in c)if(Q=c[be],c.hasOwnProperty(be)&&Q!=null&&!p.hasOwnProperty(be))switch(be){case"selected":o.selected=!1;break;default:st(o,s,be,null,p,Q)}for(U in p)if(Q=p[U],re=c[U],p.hasOwnProperty(U)&&Q!==re&&(Q!=null||re!=null))switch(U){case"selected":o.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:st(o,s,U,Q,p,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in c)Q=c[Ne],c.hasOwnProperty(Ne)&&Q!=null&&!p.hasOwnProperty(Ne)&&st(o,s,Ne,null,p,Q);for(W in p)if(Q=p[W],re=c[W],p.hasOwnProperty(W)&&Q!==re&&(Q!=null||re!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:st(o,s,W,Q,p,re)}return;default:if(Vp(s)){for(var lt in c)Q=c[lt],c.hasOwnProperty(lt)&&Q!==void 0&&!p.hasOwnProperty(lt)&&Rg(o,s,lt,void 0,p,Q);for(ae in p)Q=p[ae],re=c[ae],!p.hasOwnProperty(ae)||Q===re||Q===void 0&&re===void 0||Rg(o,s,ae,Q,p,re);return}}for(var V in c)Q=c[V],c.hasOwnProperty(V)&&Q!=null&&!p.hasOwnProperty(V)&&st(o,s,V,null,p,Q);for(se in p)Q=p[se],re=c[se],!p.hasOwnProperty(se)||Q===re||Q==null&&re==null||st(o,s,se,Q,p,re)}function XE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l$(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],w=b.transferSize,N=b.initiatorType,D=b.duration;if(w&&D&&XE(N)){for(N=0,D=b.responseEnd,p+=1;p<c.length;p++){var U=c[p],W=U.startTime;if(W>D)break;var ae=U.transferSize,se=U.initiatorType;ae&&XE(se)&&(U=U.responseEnd,N+=ae*(U<D?1:(D-W)/(U-W)))}if(--p,s+=8*(w+N)/(b.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Mg=null,Dg=null;function Id(o){return o.nodeType===9?o:o.ownerDocument}function ZE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function kg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jg=null;function u$(){var o=window.event;return o&&o.type==="popstate"?o===jg?!1:(jg=o,!0):(jg=null,!1)}var eT=typeof setTimeout=="function"?setTimeout:void 0,c$=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,d$=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(o){return tT.resolve(null).then(o).catch(f$)}:eT;function f$(o){setTimeout(function(){throw o})}function fa(o){return o==="head"}function nT(o,s){var c=s,p=0;do{var b=c.nextSibling;if(o.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){o.removeChild(b),ys(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")su(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,su(c);for(var w=c.firstChild;w;){var N=w.nextSibling,D=w.nodeName;w[Tl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=N}}else c==="body"&&su(o.ownerDocument.body);c=b}while(c);ys(s)}function rT(o,s){var c=o;o=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=p}while(c)}function Lg(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Lg(c),qp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function h$(o,s,c,p){for(;o.nodeType===1;){var b=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Tl])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=pr(o.nextSibling),o===null)break}return null}function p$(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=pr(o.nextSibling),o===null))return null;return o}function iT(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=pr(o.nextSibling),o===null))return null;return o}function Ug(o){return o.data==="$?"||o.data==="$~"}function $g(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function m$(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function pr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var zg=null;function aT(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return pr(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function oT(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function sT(o,s,c){switch(s=Id(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function su(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);qp(o)}var mr=new Map,lT=new Set;function Pd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var wi=Z.d;Z.d={f:g$,r:v$,D:y$,C:b$,L:x$,m:_$,X:S$,S:w$,M:E$};function g$(){var o=wi.f(),s=wd();return o||s}function v$(o){var s=Lo(o);s!==null&&s.tag===5&&s.type==="form"?TS(s):wi.r(o)}var ms=typeof document>"u"?null:document;function uT(o,s,c){var p=ms;if(p&&typeof s=="string"&&s){var b=sr(s);b='link[rel="'+o+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),lT.has(b)||(lT.add(b),o={rel:o,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),cn(s,"link",o),Jt(s),p.head.appendChild(s)))}}function y$(o){wi.D(o),uT("dns-prefetch",o,null)}function b$(o,s){wi.C(o,s),uT("preconnect",o,s)}function x$(o,s,c){wi.L(o,s,c);var p=ms;if(p&&o&&s){var b='link[rel="preload"][as="'+sr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+sr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+sr(c.imageSizes)+'"]')):b+='[href="'+sr(o)+'"]';var w=b;switch(s){case"style":w=gs(o);break;case"script":w=vs(o)}mr.has(w)||(o=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),mr.set(w,o),p.querySelector(b)!==null||s==="style"&&p.querySelector(lu(w))||s==="script"&&p.querySelector(uu(w))||(s=p.createElement("link"),cn(s,"link",o),Jt(s),p.head.appendChild(s)))}}function _$(o,s){wi.m(o,s);var c=ms;if(c&&o){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+sr(p)+'"][href="'+sr(o)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=vs(o)}if(!mr.has(w)&&(o=m({rel:"modulepreload",href:o},s),mr.set(w,o),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(uu(w)))return}p=c.createElement("link"),cn(p,"link",o),Jt(p),c.head.appendChild(p)}}}function w$(o,s,c){wi.S(o,s,c);var p=ms;if(p&&o){var b=Uo(p).hoistableStyles,w=gs(o);s=s||"default";var N=b.get(w);if(!N){var D={loading:0,preload:null};if(N=p.querySelector(lu(w)))D.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},c),(c=mr.get(w))&&Bg(o,c);var U=N=p.createElement("link");Jt(U),cn(U,"link",o),U._p=new Promise(function(W,ae){U.onload=W,U.onerror=ae}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Rd(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:D},b.set(w,N)}}}function S$(o,s){wi.X(o,s);var c=ms;if(c&&o){var p=Uo(c).hoistableScripts,b=vs(o),w=p.get(b);w||(w=c.querySelector(uu(b)),w||(o=m({src:o,async:!0},s),(s=mr.get(b))&&qg(o,s),w=c.createElement("script"),Jt(w),cn(w,"link",o),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function E$(o,s){wi.M(o,s);var c=ms;if(c&&o){var p=Uo(c).hoistableScripts,b=vs(o),w=p.get(b);w||(w=c.querySelector(uu(b)),w||(o=m({src:o,async:!0,type:"module"},s),(s=mr.get(b))&&qg(o,s),w=c.createElement("script"),Jt(w),cn(w,"link",o),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function cT(o,s,c,p){var b=(b=pe.current)?Pd(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=gs(c.href),c=Uo(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=gs(c.href);var w=Uo(b).hoistableStyles,N=w.get(o);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,N),(w=b.querySelector(lu(o)))&&!w._p&&(N.instance=w,N.state.loading=5),mr.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},mr.set(o,c),w||T$(b,o,c,N.state))),s&&p===null)throw Error(r(528,""));return N}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vs(c),c=Uo(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function gs(o){return'href="'+sr(o)+'"'}function lu(o){return'link[rel="stylesheet"]['+o+"]"}function dT(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function T$(o,s,c,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),cn(s,"link",c),Jt(s),o.head.appendChild(s))}function vs(o){return'[src="'+sr(o)+'"]'}function uu(o){return"script[async]"+o}function fT(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+sr(c.href)+'"]');if(p)return s.instance=p,Jt(p),p;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Jt(p),cn(p,"style",b),Rd(p,c.precedence,o),s.instance=p;case"stylesheet":b=gs(c.href);var w=o.querySelector(lu(b));if(w)return s.state.loading|=4,s.instance=w,Jt(w),w;p=dT(c),(b=mr.get(b))&&Bg(p,b),w=(o.ownerDocument||o).createElement("link"),Jt(w);var N=w;return N._p=new Promise(function(D,U){N.onload=D,N.onerror=U}),cn(w,"link",p),s.state.loading|=4,Rd(w,c.precedence,o),s.instance=w;case"script":return w=vs(c.src),(b=o.querySelector(uu(w)))?(s.instance=b,Jt(b),b):(p=c,(b=mr.get(w))&&(p=m({},c),qg(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Jt(b),cn(b,"link",p),o.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Rd(p,c.precedence,o));return s.instance}function Rd(o,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,N=0;N<p.length;N++){var D=p[N];if(D.dataset.precedence===s)w=D;else if(w!==b)break}w?w.parentNode.insertBefore(o,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function Bg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function qg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Md=null;function hT(o,s,c){if(Md===null){var p=new Map,b=Md=new Map;b.set(c,p)}else b=Md,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(o))return p;for(p.set(o,null),c=c.getElementsByTagName(o),b=0;b<c.length;b++){var w=c[b];if(!(w[Tl]||w[on]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(s)||"";N=o+N;var D=p.get(N);D?D.push(w):p.set(N,[w])}}return p}function pT(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function A$(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function C$(o,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=gs(p.href),w=s.querySelector(lu(b));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Dd.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=w,Jt(w);return}w=s.ownerDocument||s,p=dT(p),(b=mr.get(b))&&Bg(p,b),w=w.createElement("link"),Jt(w);var N=w;N._p=new Promise(function(D,U){N.onload=D,N.onerror=U}),cn(w,"link",p),c.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=Dd.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var Gg=0;function N$(o,s){return o.stylesheets&&o.count===0&&jd(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var p=setTimeout(function(){if(o.stylesheets&&jd(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+s);0<o.imgBytes&&Gg===0&&(Gg=62500*l$());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&jd(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Gg?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var kd=null;function jd(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,kd=new Map,s.forEach(O$,o),kd=null,Dd.call(o))}function O$(o,s){if(!(s.state.loading&4)){var c=kd.get(o);if(c)var p=c.get(null);else{c=new Map,kd.set(o,c);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var N=b[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),p=N)}p&&c.set(null,p)}b=s.instance,N=b.getAttribute("data-precedence"),w=c.get(N)||p,w===p&&c.set(null,b),c.set(N,b),this.count++,p=Dd.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),s.state.loading|=4}}var cu={$$typeof:R,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function I$(o,s,c,p,b,w,N,D,U){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Up(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Up(0),this.hiddenUpdates=Up(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function gT(o,s,c,p,b,w,N,D,U,W,ae,se){return o=new I$(o,s,c,N,U,W,ae,se,D),s=1,w===!0&&(s|=24),w=Fn(3,null,null,s),o.current=w,w.stateNode=o,s=wm(),s.refCount++,o.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:s},Am(w),o}function vT(o){return o?(o=Yo,o):Yo}function yT(o,s,c,p,b,w){b=vT(b),p.context===null?p.context=b:p.pendingContext=b,p=ta(s),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=na(o,p,s),c!==null&&(Un(c,o,s),ql(c,o,s))}function bT(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function Hg(o,s){bT(o,s),(o=o.alternate)&&bT(o,s)}function xT(o){if(o.tag===13||o.tag===31){var s=za(o,67108864);s!==null&&Un(s,o,67108864),Hg(o,67108864)}}function _T(o){if(o.tag===13||o.tag===31){var s=Wn();s=$p(s);var c=za(o,s);c!==null&&Un(c,o,s),Hg(o,s)}}var Ld=!0;function P$(o,s,c,p){var b=$.T;$.T=null;var w=Z.p;try{Z.p=2,Fg(o,s,c,p)}finally{Z.p=w,$.T=b}}function R$(o,s,c,p){var b=$.T;$.T=null;var w=Z.p;try{Z.p=8,Fg(o,s,c,p)}finally{Z.p=w,$.T=b}}function Fg(o,s,c,p){if(Ld){var b=Vg(p);if(b===null)Pg(o,s,p,Ud,c),ST(o,p);else if(D$(b,o,s,c,p))p.stopPropagation();else if(ST(o,p),s&4&&-1<M$.indexOf(o)){for(;b!==null;){var w=Lo(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=ka(w.pendingLanes);if(N!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var U=1<<31-Gn(N);D.entanglements[1]|=U,N&=~U}Kr(w),(Qe&6)===0&&(xd=bn()+500,iu(0))}}break;case 31:case 13:D=za(w,2),D!==null&&Un(D,w,2),wd(),Hg(w,2)}if(w=Vg(p),w===null&&Pg(o,s,p,Ud,c),w===b)break;b=w}b!==null&&p.stopPropagation()}else Pg(o,s,p,null,c)}}function Vg(o){return o=Yp(o),Kg(o)}var Ud=null;function Kg(o){if(Ud=null,o=jo(o),o!==null){var s=a(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=l(s),o!==null)return o;o=null}else if(c===31){if(o=u(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Ud=o,null}function wT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K()){case ve:return 2;case me:return 8;case Se:case Ue:return 32;case at:return 268435456;default:return 32}default:return 32}}var Yg=!1,ha=null,pa=null,ma=null,du=new Map,fu=new Map,ga=[],M$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ST(o,s){switch(o){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function hu(o,s,c,p,b,w){return o===null||o.nativeEvent!==w?(o={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},s!==null&&(s=Lo(s),s!==null&&xT(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function D$(o,s,c,p,b){switch(s){case"focusin":return ha=hu(ha,o,s,c,p,b),!0;case"dragenter":return pa=hu(pa,o,s,c,p,b),!0;case"mouseover":return ma=hu(ma,o,s,c,p,b),!0;case"pointerover":var w=b.pointerId;return du.set(w,hu(du.get(w)||null,o,s,c,p,b)),!0;case"gotpointercapture":return w=b.pointerId,fu.set(w,hu(fu.get(w)||null,o,s,c,p,b)),!0}return!1}function ET(o){var s=jo(o.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){o.blockedOn=s,U_(o.priority,function(){_T(c)});return}}else if(s===31){if(s=u(c),s!==null){o.blockedOn=s,U_(o.priority,function(){_T(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $d(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Vg(o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);Kp=p,c.target.dispatchEvent(p),Kp=null}else return s=Lo(c),s!==null&&xT(s),o.blockedOn=c,!1;s.shift()}return!0}function TT(o,s,c){$d(o)&&c.delete(s)}function k$(){Yg=!1,ha!==null&&$d(ha)&&(ha=null),pa!==null&&$d(pa)&&(pa=null),ma!==null&&$d(ma)&&(ma=null),du.forEach(TT),fu.forEach(TT)}function zd(o,s){o.blockedOn===s&&(o.blockedOn=null,Yg||(Yg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k$)))}var Bd=null;function AT(o){Bd!==o&&(Bd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bd===o&&(Bd=null);for(var s=0;s<o.length;s+=3){var c=o[s],p=o[s+1],b=o[s+2];if(typeof p!="function"){if(Kg(p||c)===null)continue;break}var w=Lo(c);w!==null&&(o.splice(s,3),s-=3,Vm(w,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function ys(o){function s(U){return zd(U,o)}ha!==null&&zd(ha,o),pa!==null&&zd(pa,o),ma!==null&&zd(ma,o),du.forEach(s),fu.forEach(s);for(var c=0;c<ga.length;c++){var p=ga[c];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ga.length&&(c=ga[0],c.blockedOn===null);)ET(c),c.blockedOn===null&&ga.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],w=c[p+1],N=b[Rn]||null;if(typeof w=="function")N||AT(c);else if(N){var D=null;if(w&&w.hasAttribute("formAction")){if(b=w,N=w[Rn]||null)D=N.formAction;else if(Kg(b)!==null)continue}else D=N.action;typeof D=="function"?c[p+1]=D:(c.splice(p,3),p-=3),AT(c)}}}function CT(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Jg(o){this._internalRoot=o}qd.prototype.render=Jg.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Wn();yT(c,p,o,s,null,null)},qd.prototype.unmount=Jg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;yT(o.current,2,null,o,null,null),wd(),s[ko]=null}};function qd(o){this._internalRoot=o}qd.prototype.unstable_scheduleHydration=function(o){if(o){var s=L_();o={blockedOn:null,target:o,priority:s};for(var c=0;c<ga.length&&s!==0&&s<ga[c].priority;c++);ga.splice(c,0,o),c===0&&ET(o)}};var NT=t.version;if(NT!=="19.2.4")throw Error(r(527,NT,"19.2.4"));Z.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var j$={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{Dt=Gd.inject(j$),kt=Gd}catch{}}return mu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,p="",b=kS,w=jS,N=LS;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=gT(o,1,!1,null,null,c,p,null,b,w,N,CT),o[ko]=s.current,Ig(o),new Jg(s)},mu.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var p=!1,b="",w=kS,N=jS,D=LS,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=gT(o,1,!0,s,c??null,p,b,U,w,N,D,CT),s.context=vT(null),c=s.current,p=Wn(),p=$p(p),b=ta(p),b.callback=null,na(c,b,p),c=p,s.current.lanes=c,El(s,c),Kr(s),o[ko]=s.current,Ig(o),new qd(s)},mu.version="19.2.4",mu}var UT;function W$(){if(UT)return Qg.exports;UT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qg.exports=J$(),Qg.exports}var X$=W$();const Z$=$r(X$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=e=>{const t=ez(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},d)=>A.createElement("svg",{ref:d,...tz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ZP("lucide",i),...!a&&!nz(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,h])=>A.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(rz,{ref:a,iconNode:t,className:ZP(`lucide-${Q$($T(e))}`,`lucide-${e}`,r),...i}));return n.displayName=$T(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],az=Ge("arrow-down-to-line",iz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],bf=Ge("arrow-down",oz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xf=Ge("arrow-up",sz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],zT=Ge("brain-circuit",lz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],cz=Ge("calendar-clock",uz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fz=Ge("calendar",dz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pz=Ge("check",hz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BT=Ge("chevron-down",mz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qT=Ge("chevron-right",gz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yz=Ge("circle-alert",vz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],wb=Ge("circle-arrow-down",bz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],jh=Ge("circle-arrow-up",xz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sb=Ge("circle-check-big",_z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sz=Ge("circle-check",wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],GT=Ge("database",Ez);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],QP=Ge("ellipsis-vertical",Tz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cz=Ge("eye-off",Az);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oz=Ge("eye",Nz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Wy=Ge("file-text",Iz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],eR=Ge("file-up",Pz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mz=Ge("layout-dashboard",Rz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xs=Ge("loader-circle",Dz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jz=Ge("lock",kz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],HT=Ge("log-in",Lz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$z=Ge("log-out",Uz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bz=Ge("mail",zz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Gz=Ge("menu",qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xo=Ge("pen",Hz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Aa=Ge("plus",Fz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oc=Ge("search",Vz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],Yz=Ge("tags",Kz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sn=Ge("trash-2",Jz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],tR=Ge("trending-down",Wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nR=Ge("trending-up",Xz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Eb=Ge("triangle-alert",Zz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rR=Ge("wallet",Qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oa=Ge("x",eB);function iR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iR(e))&&(r&&(r+=" "),r+=t);return r}var tB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tb(e){if(typeof e!="string")return!1;var t=tB;return t.includes(e)}var nB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rB=new Set(nB);function aR(e){return typeof e!="string"?!1:rB.has(e)}function oR(e){return typeof e=="string"&&e.startsWith("data-")}function rr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(aR(n)||oR(n))&&(t[n]=e[n]);return t}function Zs(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return rr(t)}return typeof e=="object"&&!Array.isArray(e)?rr(e):null}function On(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(aR(n)||oR(n)||Tb(n))&&(t[n]=e[n]);return t}function iB(e){return e==null?null:A.isValidElement(e)?On(e.props):typeof e=="object"&&!Array.isArray(e)?On(e):null}var aB=["children","width","height","viewBox","className","style","title","desc"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xy.apply(null,arguments)}function oB(e,t){if(e==null)return{};var n,r,i=sB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ab=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:f}=e,h=oB(e,aB),m=a||{width:r,height:i,x:0,y:0},v=et("recharts-surface",l);return A.createElement("svg",Xy({},On(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),lB=["children","className"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function uB(e,t){if(e==null)return{};var n,r,i=cB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vn=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=uB(e,lB),a=et("recharts-layer",r);return A.createElement("g",Zy({className:a},On(i),{ref:t}),n)}),Cb=XP(),sR=A.createContext(null),dB=()=>A.useContext(sR);function mt(e){return function(){return e}}const lR=Math.cos,Rf=Math.sin,zr=Math.sqrt,Mf=Math.PI,Lh=2*Mf,Qy=Math.PI,e0=2*Qy,no=1e-6,fB=e0-no;function uR(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uR;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class pB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uR:hB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>no)if(!(Math.abs(m*d-f*h)>no)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,S=i-u,E=d*d+f*f,T=_*_+S*S,C=Math.sqrt(E),P=Math.sqrt(v),R=a*Math.tan((Qy-Math.acos((E+v-T)/(2*C*P)))/2),I=R/P,O=R/C;Math.abs(I-1)>no&&this._append`L${t+I*h},${n+I*m}`,this._append`A${a},${a},0,0,${+(m*_>h*S)},${this._x1=t+O*d},${this._y1=n+O*f}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,m=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>no||Math.abs(this._y1-h)>no)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%e0+e0),v>fB?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:v>no&&this._append`A${r},${r},0,${+(v>=Qy)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Nb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new pB(t)}function Ob(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cR(e){this._context=e}cR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Uh(e){return new cR(e)}function dR(e){return e[0]}function fR(e){return e[1]}function hR(e,t){var n=mt(!0),r=null,i=Uh,a=null,l=Nb(u);e=typeof e=="function"?e:e===void 0?dR:mt(e),t=typeof t=="function"?t:t===void 0?fR:mt(t);function u(d){var f,h=(d=Ob(d)).length,m,v=!1,_;for(r==null&&(a=i(_=l())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(m,f,d),+t(m,f,d));if(_)return a=null,_+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:mt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:mt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:mt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function Hd(e,t,n){var r=null,i=mt(!0),a=null,l=Uh,u=null,d=Nb(f);e=typeof e=="function"?e:e===void 0?dR:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?fR:mt(+n);function f(m){var v,_,S,E=(m=Ob(m)).length,T,C=!1,P,R=new Array(E),I=new Array(E);for(a==null&&(u=l(P=d())),v=0;v<=E;++v){if(!(v<E&&i(T=m[v],v,m))===C)if(C=!C)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=_;--S)u.point(R[S],I[S]);u.lineEnd(),u.areaEnd()}C&&(R[v]=+e(T,v,m),I[v]=+t(T,v,m),u.point(r?+r(T,v,m):R[v],n?+n(T,v,m):I[v]))}if(P)return u=null,P+""||null}function h(){return hR().defined(i).curve(l).context(a)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:mt(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:mt(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:mt(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:mt(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:mt(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:mt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:mt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),f):l},f.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),f):a},f}class pR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function mB(e){return new pR(e,!0)}function gB(e){return new pR(e,!1)}const Ib={draw(e,t){const n=zr(t/Mf);e.moveTo(n,0),e.arc(0,0,n,0,Lh)}},vB={draw(e,t){const n=zr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},mR=zr(1/3),yB=mR*2,bB={draw(e,t){const n=zr(t/yB),r=n*mR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xB={draw(e,t){const n=zr(t),r=-n/2;e.rect(r,r,n,n)}},_B=.8908130915292852,gR=Rf(Mf/10)/Rf(7*Mf/10),wB=Rf(Lh/10)*gR,SB=-lR(Lh/10)*gR,EB={draw(e,t){const n=zr(t*_B),r=wB*n,i=SB*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=Lh*a/5,u=lR(l),d=Rf(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},rv=zr(3),TB={draw(e,t){const n=-zr(t/(rv*3));e.moveTo(0,n*2),e.lineTo(-rv*n,-n),e.lineTo(rv*n,-n),e.closePath()}},gr=-.5,vr=zr(3)/2,t0=1/zr(12),AB=(t0/2+1)*3,CB={draw(e,t){const n=zr(t/AB),r=n/2,i=n*t0,a=r,l=n*t0+n,u=-a,d=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,d),e.lineTo(gr*r-vr*i,vr*r+gr*i),e.lineTo(gr*a-vr*l,vr*a+gr*l),e.lineTo(gr*u-vr*d,vr*u+gr*d),e.lineTo(gr*r+vr*i,gr*i-vr*r),e.lineTo(gr*a+vr*l,gr*l-vr*a),e.lineTo(gr*u+vr*d,gr*d-vr*u),e.closePath()}};function NB(e,t){let n=null,r=Nb(i);e=typeof e=="function"?e:mt(e||Ib),t=typeof t=="function"?t:mt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:mt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:mt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Df(){}function kf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vR(e){this._context=e}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OB(e){return new vR(e)}function yR(e){this._context=e}yR.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IB(e){return new yR(e)}function bR(e){this._context=e}bR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PB(e){return new bR(e)}function xR(e){this._context=e}xR.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RB(e){return new xR(e)}function FT(e){return e<0?-1:1}function VT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(FT(a)+FT(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function KT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function iv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function jf(e){this._context=e}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iv(this,this._t0,KT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iv(this,KT(this,n=VT(this,e,t)),n);break;default:iv(this,this._t0,n=VT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _R(e){this._context=new wR(e)}(_R.prototype=Object.create(jf.prototype)).point=function(e,t){jf.prototype.point.call(this,t,e)};function wR(e){this._context=e}wR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function MB(e){return new jf(e)}function DB(e){return new _R(e)}function SR(e){this._context=e}SR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=YT(e),i=YT(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YT(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function kB(e){return new SR(e)}function $h(e,t){this._context=e,this._t=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function jB(e){return new $h(e,.5)}function LB(e){return new $h(e,0)}function UB(e){return new $h(e,1)}function _o(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function n0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $B(e,t){return e[t]}function zB(e){const t=[];return t.key=e,t}function BB(){var e=mt([]),t=n0,n=_o,r=$B;function i(a){var l=Array.from(e.apply(this,arguments),zB),u,d=l.length,f=-1,h;for(const m of a)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(m,l[u].key,f,a)]).data=m;for(u=0,h=Ob(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:mt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:mt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?n0:typeof a=="function"?a:mt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??_o,i):n},i}function qB(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}_o(e,t)}}function GB(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}_o(e,t)}}function HB(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,v=h[r-1][1]||0,_=(m-v)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,C=E[r-1][1]||0;_+=T-C}d+=m,f+=_*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,_o(e,t)}}var av={},ov={},JT;function FB(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(ov)),ov}var sv={},WT;function ER(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(sv)),sv}var lv={},XT;function Pb(){return XT||(XT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(lv)),lv}var uv={},cv={},ZT;function VB(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(cv)),cv}var QT;function Rb(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VB(),n=Pb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,d+=i[u]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,a.push(d),d=""):d+=m:m==="["?(h=!0,d&&(a.push(d),d="")):m==="."?d&&(a.push(d),d=""):d+=m,u++}return d&&a.push(d),a}e.toPath=r})(uv)),uv}var eA;function Mb(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FB(),n=ER(),r=Pb(),i=Rb();function a(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?a(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let m=0;m<d.length;m++){if(h==null||t.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}e.get=a})(av)),av}var dv,tA;function KB(){return tA||(tA=1,dv=Mb().get),dv}var YB=KB();const wo=$r(YB);var JB=4;function Ea(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JB,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,l)=>{var u=n[l-1];return typeof u=="string"?i+u+a:u!==void 0?i+Ea(u)+a:i+a},"")}var En=e=>e===0?0:e>0?1:-1,ei=e=>typeof e=="number"&&e!=+e,So=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,xe=e=>(typeof e=="number"||e instanceof Number)&&!ei(e),ti=e=>xe(e)||typeof e=="string",WB=0,$u=e=>{var t=++WB;return"".concat(e||"").concat(t)},tr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&typeof t!="string")return r;var a;if(So(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return ei(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},TR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function mn(e,t,n){return xe(e)&&xe(t)?Ea(e+n*(t-e)):t}function AR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):wo(r,t))===n)}var yn=e=>e===null||typeof e>"u",sc=e=>yn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $n(e){return e!=null}function ll(){}var XB=["type","size","sizeType"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){ZB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZB(e,t,n){return(t=QB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e){var t=e4(e,"string");return typeof t=="symbol"?t:t+""}function e4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t4(e,t){if(e==null)return{};var n,r,i=n4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CR={symbolCircle:Ib,symbolCross:vB,symbolDiamond:bB,symbolSquare:xB,symbolStar:EB,symbolTriangle:TB,symbolWye:CB},r4=Math.PI/180,i4=e=>{var t="symbol".concat(sc(e));return CR[t]||Ib},a4=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*r4;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},o4=(e,t)=>{CR["symbol".concat(sc(e))]=t},Db=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=t4(e,XB),a=rA(rA({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=i4(l),_=NB().type(v).size(a4(n,r,l)),S=_();if(S!==null)return S},{className:d,cx:f,cy:h}=a,m=On(a);return xe(f)&&xe(h)&&xe(n)?A.createElement("path",r0({},m,{className:et("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};Db.registerSymbol=o4;var NR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,kb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Tb(i)&&(r[i]=(a=>n[i](n,a)))}),r},s4=(e,t,n)=>r=>(e(t,n,r),null),jb=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Tb(i)&&typeof a=="function"&&(r||(r={}),r[i]=s4(a,t,n))}),r};function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){u4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u4(e,t,n){return(t=c4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c4(e){var t=d4(e,"string");return typeof t=="symbol"?t:t+""}function d4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t){var n=l4({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(null,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){h4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h4(e,t,n){return(t=p4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4(e){var t=m4(e,"string");return typeof t=="symbol"?t:t+""}function m4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var br=32,g4={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function v4(e){var{data:t,iconType:n,inactiveColor:r}=e,i=br/2,a=br/6,l=br/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline"){var f;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:br,y2:i,className:"recharts-legend-icon"})}if(d==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(br,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(br/8,"h").concat(br,"v").concat(br*3/4,"h").concat(-br,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var h=f4({},t);return delete h.legendIcon,A.cloneElement(t.legendIcon,h)}return A.createElement(Db,{fill:u,cx:i,cy:i,size:br,sizeType:"diameter",type:d})}function y4(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:br,height:br},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var v=h.formatter||i,_=et({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?a:h.color,E=v?v(h.value,h,m):h.value;return A.createElement("li",Lf({className:_,style:d,key:"legend-item-".concat(m)},jb(e,h,m)),A.createElement(Ab,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(E," legend icon")},A.createElement(v4,{data:h,iconType:l,inactiveColor:a})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var b4=e=>{var t=Vt(e,g4),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},A.createElement(y4,Lf({},t,{payload:n})))},fv={},hv={},oA;function x4(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l,a,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(hv)),hv}var pv={},sA;function _4(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(pv)),pv}var mv={},lA;function OR(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(mv)),mv}var gv={},vv={},yv={},uA;function w4(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(yv)),yv}var cA;function Lb(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w4();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(vv)),vv}var bv={},dA;function S4(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(bv)),bv}var fA;function E4(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lb(),n=S4();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(gv)),gv}var xv={},_v={},hA;function T4(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(_v)),_v}var wv={},Sv={},Ev={},Tv={},pA;function IR(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Tv)),Tv}var Av={},mA;function PR(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Av)),Av}var Cv={},gA;function RR(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Cv)),Cv}var vA;function A4(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IR(),n=PR(),r=RR();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):a(h,m,function _(S,E,T,C,P,R){const I=v(S,E,T,C,P,R);return I!==void 0?!!I:a(S,E,_,R)},new Map)}function a(h,m,v,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,_);case"function":return Object.keys(m).length>0?a(h,{...m},v,_):r.isEqualsSameValueZero(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(h,m)}}function l(h,m,v,_){if(m==null)return!0;if(Array.isArray(m))return d(h,m,v,_);if(m instanceof Map)return u(h,m,v,_);if(m instanceof Set)return f(h,m,v,_);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(_!=null&&_.has(m))return _.get(m)===h;_==null||_.set(m,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!v(h[T],m[T],T,h,m,_))return!1}return!0}finally{_==null||_.delete(m)}}function u(h,m,v,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of m.entries()){const T=h.get(S);if(v(T,E,S,h,m,_)===!1)return!1}return!0}function d(h,m,v,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<m.length;E++){const T=m[E];let C=!1;for(let P=0;P<h.length;P++){if(S.has(P))continue;const R=h[P];let I=!1;if(v(R,T,E,h,m,_)&&(I=!0),I){S.add(P),C=!0;break}}if(!C)return!1}return!0}function f(h,m,v,_){return m.size===0?!0:h instanceof Set?d([...h],[...m],v,_):!1}e.isMatchWith=i,e.isSetMatch=f})(Ev)),Ev}var yA;function MR(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A4();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Sv)),Sv}var Nv={},Ov={},Iv={},bA;function C4(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Iv)),Iv}var Pv={},xA;function Ub(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Pv)),Pv}var Rv={},_A;function DR(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",R="[object Uint32Array]",I="[object BigUint64Array]",O="[object Int8Array]",M="[object Int16Array]",k="[object Int32Array]",H="[object BigInt64Array]",z="[object Float32Array]",ie="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=ie,e.functionTag=m,e.int16ArrayTag=M,e.int32ArrayTag=k,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=R,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(Rv)),Rv}var Mv={},wA;function N4(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Mv)),Mv}var SA;function kR(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4(),n=Ub(),r=DR(),i=PR(),a=N4();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,_=new Map,S=void 0){const E=S==null?void 0:S(h,m,v,_);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const T=new Array(h.length);_.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,_,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;_.set(h,T);for(const[C,P]of h)T.set(C,u(P,C,v,_,S));return T}if(h instanceof Set){const T=new Set;_.set(h,T);for(const C of h)T.add(u(C,void 0,v,_,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,_,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,T),d(T,h,v,_,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return _.set(h,T),d(T,h,v,_,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return _.set(h,T),d(T,h,v,_,S),T}if(h instanceof Error){const T=new h.constructor;return _.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,v,_,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return _.set(h,T),d(T,h,v,_,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return _.set(h,T),d(T,h,v,_,S),T}if(h instanceof String){const T=new String(h.valueOf());return _.set(h,T),d(T,h,v,_,S),T}if(typeof h=="object"&&f(h)){const T=Object.create(Object.getPrototypeOf(h));return _.set(h,T),d(T,h,v,_,S),T}return h}function d(h,m,v=h,_,S){const E=[...Object.keys(m),...t.getSymbols(m)];for(let T=0;T<E.length;T++){const C=E[T],P=Object.getOwnPropertyDescriptor(h,C);(P==null||P.writable)&&(h[C]=u(m[C],C,v,_,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(Ov)),Ov}var EA;function O4(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Nv)),Nv}var TA;function I4(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR(),n=O4();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(wv)),wv}var Dv={},kv={},jv={},AA;function P4(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kR(),n=Ub(),r=DR();function i(a,l){return t.cloneDeepWith(a,(u,d,f,h)=>{const m=l==null?void 0:l(u,d,f,h);if(m!==void 0)return m;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const v={};return h.set(a,v),t.copyProperties(v,a,f,h),v}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(v,a),v}case r.argumentsTag:{const v={};return t.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(jv)),jv}var CA;function R4(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P4();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(kv)),kv}var Lv={},Uv={},NA;function jR(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Uv)),Uv}var $v={},OA;function M4(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})($v)),$v}var IA;function D4(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ER(),n=jR(),r=M4(),i=Rb();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=a})(Lv)),Lv}var PA;function k4(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR(),n=Pb(),r=R4(),i=Mb(),a=D4();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(Dv)),Dv}var RA;function j4(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OR(),n=T4(),r=I4(),i=k4();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(xv)),xv}var MA;function L4(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x4(),n=_4(),r=OR(),i=E4(),a=j4();function l(u,d=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(a.iteratee(d),1)):[]}e.uniqBy=l})(fv)),fv}var zv,DA;function U4(){return DA||(DA=1,zv=L4().uniqBy),zv}var $4=U4();const kA=$r($4);function LR(e,t,n){return t===!0?kA(e,n):typeof t=="function"?kA(e,t):e}var Bv={exports:{}},qv={},Gv={exports:{}},Hv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function z4(){if(jA)return Hv;jA=1;var e=sl();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,v){var _=v(),S=r({inst:{value:_,getSnapshot:v}}),E=S[0].inst,T=S[1];return a(function(){E.value=_,E.getSnapshot=v,d(E)&&T({inst:E})},[m,_,v]),i(function(){return d(E)&&T({inst:E}),m(function(){d(E)&&T({inst:E})})},[m]),l(_),_}function d(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!n(m,_)}catch{return!0}}function f(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Hv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Hv}var LA;function B4(){return LA||(LA=1,Gv.exports=z4()),Gv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function q4(){if(UA)return qv;UA=1;var e=sl(),t=B4();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return qv.useSyncExternalStoreWithSelector=function(f,h,m,v,_){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(M){if(!P){if(P=!0,R=M,M=v(M),_!==void 0&&E.hasValue){var k=E.value;if(_(k,M))return I=k}return I=M}if(k=I,r(R,M))return k;var H=v(M);return _!==void 0&&_(k,H)?(R=M,k):(R=M,I=H)}var P=!1,R,I,O=m===void 0?null:m;return[function(){return C(h())},O===null?void 0:function(){return C(O())}]},[h,m,v,_]);var T=i(f,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},qv}var $A;function G4(){return $A||($A=1,Bv.exports=q4()),Bv.exports}var H4=G4(),$b=A.createContext(null),F4=e=>e,gt=()=>{var e=A.useContext($b);return e?e.store.dispatch:F4},_f=()=>{},V4=()=>_f,K4=(e,t)=>e===t;function Ee(e){var t=A.useContext($b),n=A.useMemo(()=>t?r=>{if(r!=null)return e(r)}:_f,[t,e]);return H4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:V4,t?t.store.getState:_f,t?t.store.getState:_f,n,K4)}function Y4(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function J4(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function W4(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var zA=e=>Array.isArray(e)?e:[e];function X4(e){const t=Array.isArray(e[0])?e[0]:e;return W4(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Z4(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Q4=class{constructor(e){this.value=e}deref(){return this.value}},eq=typeof WeakRef<"u"?WeakRef:Q4,tq=0,BA=1;function Fd(){return{s:tq,v:void 0,o:null,p:null}}function UR(e,t={}){let n=Fd();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var m;let u=n;const{length:d}=arguments;for(let v=0,_=d;v<_;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=Fd(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=Fd(),E.set(S,u)):u=T}}const f=u;let h;if(u.s===BA)h=u.v;else if(h=e.apply(null,arguments),a++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new eq(h):h}return f.s=BA,f.v=h,h}return l.clearCache=()=>{n=Fd(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function nq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Y4(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:m,memoizeOptions:v=[],argsMemoize:_=UR,argsMemoizeOptions:S=[]}=h,E=zA(v),T=zA(S),C=X4(i),P=m(function(){return a++,f.apply(null,arguments)},...E),R=_(function(){l++;const O=Z4(C,arguments);return u=P.apply(null,O),u},...T);return Object.assign(R,{resultFunc:f,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var X=nq(UR),rq=Object.assign((e,t=X)=>{J4(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>rq}),Fv={},Vv={},Kv={},qA;function iq(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(Kv)),Kv}var Yv={},Jv={},GA;function $R(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Jv)),Jv}var HA;function aq(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(Yv)),Yv}var FA;function oq(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iq(),n=aq(),r=Rb();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,S)=>{let E=_;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:f(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?f(S,_):typeof S=="object"?S[_]:S,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(S=>h(S,_))})).slice().sort((_,S)=>{for(let E=0;E<m.length;E++){const T=t.compareValues(_.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(_=>_.original)}e.orderBy=i})(Vv)),Vv}var Wv={},VA;function sq(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<a?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Wv)),Wv}var Xv={},KA;function zR(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jR(),n=Lb(),r=IR(),i=RR();function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.isEqualsSameValueZero(d[u],l):!1}e.isIterateeCall=a})(Xv)),Xv}var YA;function lq(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oq(),n=sq(),r=zR();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(Fv)),Fv}var Zv,JA;function uq(){return JA||(JA=1,Zv=lq().sortBy),Zv}var cq=uq();const zh=$r(cq);var BR=e=>e.legend.settings,dq=e=>e.legend.size,fq=e=>e.legend.payload,hq=X([fq,BR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zh(r,n):r});function pq(){return Ee(hq)}var Vd=1;function qR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>Vd||Math.abs(l.left-t.left)>Vd||Math.abs(l.top-t.top)>Vd||Math.abs(l.width-t.width)>Vd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function hn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mq=typeof Symbol=="function"&&Symbol.observable||"@@observable",WA=mq,Qv=()=>Math.random().toString(36).substring(7).split("").join("."),gq={INIT:`@@redux/INIT${Qv()}`,REPLACE:`@@redux/REPLACE${Qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qv()}`},Uf=gq;function zb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function GR(e,t,n){if(typeof e!="function")throw new Error(hn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hn(1));return n(GR)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((T,C)=>{l.set(C,T)}))}function h(){if(d)throw new Error(hn(3));return i}function m(T){if(typeof T!="function")throw new Error(hn(4));if(d)throw new Error(hn(5));let C=!0;f();const P=u++;return l.set(P,T),function(){if(C){if(d)throw new Error(hn(6));C=!1,f(),l.delete(P),a=null}}}function v(T){if(!zb(T))throw new Error(hn(7));if(typeof T.type>"u")throw new Error(hn(8));if(typeof T.type!="string")throw new Error(hn(17));if(d)throw new Error(hn(9));try{d=!0,i=r(i,T)}finally{d=!1}return(a=l).forEach(P=>{P()}),T}function _(T){if(typeof T!="function")throw new Error(hn(10));r=T,v({type:Uf.REPLACE})}function S(){const T=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(hn(11));function P(){const I=C;I.next&&I.next(h())}return P(),{unsubscribe:T(P)}},[WA](){return this}}}return v({type:Uf.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:_,[WA]:S}}function vq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Uf.INIT})>"u")throw new Error(hn(12));if(typeof n(void 0,{type:Uf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function HR(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{vq(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],_=l[m],S=v(_,u);if(typeof S>"u")throw u&&u.type,new Error(hn(14));f[m]=S,d=d||S!==_}return d=d||r.length!==Object.keys(l).length,d?f:l}}function $f(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function yq(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(hn(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},u=e.map(d=>d(l));return a=$f(...u)(i.dispatch),{...i,dispatch:a}}}function FR(e){return zb(e)&&"type"in e&&typeof e.type=="string"}var VR=Symbol.for("immer-nothing"),XA=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function Rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var er=Object,Qs=er.getPrototypeOf,zf="constructor",Bh="prototype",i0="configurable",Bf="enumerable",wf="writable",zu="value",Ii=e=>!!e&&!!e[In];function Ur(e){var t;return e?KR(e)||Gh(e)||!!e[XA]||!!((t=e[zf])!=null&&t[XA])||Hh(e)||Fh(e):!1}var bq=er[Bh][zf].toString(),ZA=new WeakMap;function KR(e){if(!e||!Bb(e))return!1;const t=Qs(e);if(t===null||t===er[Bh])return!0;const n=er.hasOwnProperty.call(t,zf)&&t[zf];if(n===Object)return!0;if(!Ds(n))return!1;let r=ZA.get(n);return r===void 0&&(r=Function.toString.call(n),ZA.set(n,r)),r===bq}function qh(e,t,n=!0){lc(e)===0?(n?Reflect.ownKeys(e):er.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function lc(e){const t=e[In];return t?t.type_:Gh(e)?1:Hh(e)?2:Fh(e)?3:0}var QA=(e,t,n=lc(e))=>n===2?e.has(t):er[Bh].hasOwnProperty.call(e,t),a0=(e,t,n=lc(e))=>n===2?e.get(t):e[t],qf=(e,t,n,r=lc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function xq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Gh=Array.isArray,Hh=e=>e instanceof Map,Fh=e=>e instanceof Set,Bb=e=>typeof e=="object",Ds=e=>typeof e=="function",ey=e=>typeof e=="boolean";function _q(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ei=e=>e.copy_||e.base_,qb=e=>e.modified_?e.copy_:e.base_;function o0(e,t){if(Hh(e))return new Map(e);if(Fh(e))return new Set(e);if(Gh(e))return Array[Bh].slice.call(e);const n=KR(e);if(t===!0||t==="class_only"&&!n){const r=er.getOwnPropertyDescriptors(e);delete r[In];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[wf]===!1&&(u[wf]=!0,u[i0]=!0),(u.get||u.set)&&(r[l]={[i0]:!0,[wf]:!0,[Bf]:u[Bf],[zu]:e[l]})}return er.create(Qs(e),r)}else{const r=Qs(e);if(r!==null&&n)return{...e};const i=er.create(r);return er.assign(i,e)}}function Gb(e,t=!1){return Vh(e)||Ii(e)||!Ur(e)||(lc(e)>1&&er.defineProperties(e,{set:Kd,add:Kd,clear:Kd,delete:Kd}),er.freeze(e),t&&qh(e,(n,r)=>{Gb(r,!0)},!1)),e}function wq(){Rr(2)}var Kd={[zu]:wq};function Vh(e){return e===null||!Bb(e)?!0:er.isFrozen(e)}var Gf="MapSet",s0="Patches",eC="ArrayMethods",YR={};function Eo(e){const t=YR[e];return t||Rr(0,e),t}var tC=e=>!!YR[e],Bu,JR=()=>Bu,Sq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tC(Gf)?Eo(Gf):void 0,arrayMethodsPlugin_:tC(eC)?Eo(eC):void 0});function nC(e,t){t&&(e.patchPlugin_=Eo(s0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function l0(e){u0(e),e.drafts_.forEach(Eq),e.drafts_=null}function u0(e){e===Bu&&(Bu=e.parent_)}var rC=e=>Bu=Sq(Bu,e);function Eq(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[In].modified_&&(l0(t),Rr(4)),Ur(e)&&(e=aC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[In].base_,e,t)}else e=aC(t,n);return Tq(t,e,!0),l0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VR?e:void 0}function aC(e,t){if(Vh(t))return t;const n=t[In];if(!n)return Hf(t,e.handledSet_,e);if(!Kh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);ZR(n,e)}return n.copy_}function Tq(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gb(t,n)}function WR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kh=(e,t)=>e.scope_===t,Aq=[];function XR(e,t,n,r){const i=Ei(e),a=e.type_;if(r!==void 0&&a0(i,r,a)===t){qf(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;qh(i,(d,f)=>{if(Ii(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??Aq;for(const u of l)qf(i,u,n,a)}function Cq(e,t,n){e.callbacks_.push(function(i){var u;const a=t;if(!a||!Kh(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const l=qb(a);XR(e,a.draft_??a,l,n),ZR(a,i)})}function ZR(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}WR(e)}}function Nq(e,t,n){const{scope_:r}=e;if(Ii(n)){const i=n[In];Kh(i,r)&&i.callbacks_.push(function(){Sf(e);const l=qb(i);XR(e,n,l,t)})}else Ur(n)&&e.callbacks_.push(function(){const a=Ei(e);e.type_===3?a.has(n)&&Hf(n,r.handledSet_,r):a0(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Hf(a0(e.copy_,t,e.type_),r.handledSet_,r)})}function Hf(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ii(e)||t.has(e)||!Ur(e)||Vh(e)||(t.add(e),qh(e,(r,i)=>{if(Ii(i)){const a=i[In];if(Kh(a,n)){const l=qb(a);qf(e,r,l,e.type_),WR(a)}}else Ur(i)&&Hf(i,t,n)})),e}function Oq(e,t){const n=Gh(e),r={type_:n?1:0,scope_:t?t.scope_:JR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Ff;n&&(i=[r],a=qu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var Ff={get(e,t){if(t===In)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ei(e);if(!QA(i,t,e.type_))return Iq(e,i,t);const a=i[t];if(e.finalized_||!Ur(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&_q(t))return a;if(a===ty(e.base_,t)){Sf(e);const l=e.type_===1?+t:t,u=d0(e.scope_,a,e,l);return e.copy_[l]=u}return a},has(e,t){return t in Ei(e)},ownKeys(e){return Reflect.ownKeys(Ei(e))},set(e,t,n){const r=QR(Ei(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ty(Ei(e),t),a=i==null?void 0:i[In];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(xq(n,i)&&(n!==void 0||QA(e.base_,t,e.type_)))return!0;Sf(e),c0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Nq(e,t,n)),!0},deleteProperty(e,t){return Sf(e),ty(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),c0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ei(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[wf]:!0,[i0]:e.type_!==1||t!=="length",[Bf]:r[Bf],[zu]:n[t]}},defineProperty(){Rr(11)},getPrototypeOf(e){return Qs(e.base_)},setPrototypeOf(){Rr(12)}},qu={};for(let e in Ff){let t=Ff[e];qu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}qu.deleteProperty=function(e,t){return qu.set.call(this,e,t,void 0)};qu.set=function(e,t,n){return Ff.set.call(this,e[0],t,n,e[0])};function ty(e,t){const n=e[In];return(n?Ei(n):e)[t]}function Iq(e,t,n){var i;const r=QR(t,n);return r?zu in r?r[zu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function QR(e,t){if(!(t in e))return;let n=Qs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qs(n)}}function c0(e){e.modified_||(e.modified_=!0,e.parent_&&c0(e.parent_))}function Sf(e){e.copy_||(e.assigned_=new Map,e.copy_=o0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ds(n)&&!Ds(r)){const l=r;r=n;const u=this;return function(f=l,...h){return u.produce(f,m=>r.call(this,m,...h))}}Ds(r)||Rr(6),i!==void 0&&!Ds(i)&&Rr(7);let a;if(Ur(n)){const l=rC(this),u=d0(l,n,void 0);let d=!0;try{a=r(u),d=!1}finally{d?l0(l):u0(l)}return nC(l,i),iC(a,l)}else if(!n||!Bb(n)){if(a=r(n),a===void 0&&(a=n),a===VR&&(a=void 0),this.autoFreeze_&&Gb(a,!0),i){const l=[],u=[];Eo(s0).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Rr(1,n)},this.produceWithPatches=(n,r)=>{if(Ds(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,a;return[this.produce(n,r,(u,d)=>{i=u,a=d}),i,a]},ey(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ey(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ey(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ur(t)||Rr(8),Ii(t)&&(t=kr(t));const n=rC(this),r=d0(n,t,void 0);return r[In].isManual_=!0,u0(n),r}finishDraft(t,n){const r=t&&t[In];(!r||!r.isManual_)&&Rr(9);const{scope_:i}=r;return nC(i,n),iC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Eo(s0).applyPatches_;return Ii(t)?i(t,n):this.produce(t,a=>i(a,n))}};function d0(e,t,n,r){const[i,a]=Hh(t)?Eo(Gf).proxyMap_(t,n):Fh(t)?Eo(Gf).proxySet_(t,n):Oq(t,n);return((n==null?void 0:n.scope_)??JR()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Cq(n,a,r):a.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function kr(e){return Ii(e)||Rr(10,e),eM(e)}function eM(e){if(!Ur(e)||Vh(e))return e;const t=e[In];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=o0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=o0(e,!0);return qh(n,(i,a)=>{qf(n,i,eM(a))},r),t&&(t.finalized_=!1),n}var Rq=new Pq,tM=Rq.produce;function nM(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Mq=nM(),Dq=nM,kq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$f:$f.apply(null,arguments)};function wr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(nr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>FR(r)&&r.type===e,n}var rM=class Iu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Iu.prototype)}static get[Symbol.species](){return Iu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Iu(...t[0].concat(this)):new Iu(...t.concat(this))}};function oC(e){return Ur(e)?tM(e,()=>{}):e}function Yd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function jq(e){return typeof e=="boolean"}var Lq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new rM;return n&&(jq(n)?l.push(Mq):l.push(Dq(n.extraArgument))),l},iM="RTK_autoBatch",wt=()=>e=>({payload:e,meta:{[iM]:!0}}),sC=e=>t=>{setTimeout(t,e)},aM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sC(10):e.type==="callback"?e.queueNotification:sC(e.timeout),f=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[iM]),a=!i,a&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},Uq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new rM(e);return r&&i.push(aM(typeof r=="object"?r:void 0)),i};function $q(e){const t=Lq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(zb(n))u=HR(n);else throw new Error(nr(1));let d;typeof r=="function"?d=r(t):d=t();let f=$f;i&&(f=kq({trace:!1,...typeof i=="object"&&i}));const h=yq(...d),m=Uq(h);let v=typeof l=="function"?l(m):m();const _=f(...v);return GR(u,a,_)}function oM(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(nr(28));if(u in t)throw new Error(nr(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function zq(e){return typeof e=="function"}function Bq(e,t){let[n,r,i]=oM(t),a;if(zq(e))a=()=>oC(e());else{const u=oC(e);a=()=>u}function l(u=a(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(Ii(h)){const _=m(h,d);return _===void 0?h:_}else{if(Ur(h))return tM(h,v=>m(v,d));{const v=m(h,d);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=a,l}var qq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gq=(e=21)=>{let t="",n=e;for(;n--;)t+=qq[Math.random()*64|0];return t},Hq=Symbol.for("rtk-slice-createasyncthunk");function Fq(e,t){return`${e}/${t}`}function Vq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Hq];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(nr(11));const u=(typeof i.reducers=="function"?i.reducers(Yq()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,O){const M=typeof I=="string"?I:I.type;if(!M)throw new Error(nr(12));if(M in f.sliceCaseReducersByType)throw new Error(nr(13));return f.sliceCaseReducersByType[M]=O,h},addMatcher(I,O){return f.sliceMatchers.push({matcher:I,reducer:O}),h},exposeAction(I,O){return f.actionCreators[I]=O,h},exposeCaseReducer(I,O){return f.sliceCaseReducersByName[I]=O,h}};d.forEach(I=>{const O=u[I],M={reducerName:I,type:Fq(a,I),createNotation:typeof i.reducers=="function"};Wq(O)?Zq(M,O,h,t):Jq(M,O,h)});function m(){const[I={},O=[],M=void 0]=typeof i.extraReducers=="function"?oM(i.extraReducers):[i.extraReducers],k={...I,...f.sliceCaseReducersByType};return Bq(i.initialState,H=>{for(let z in k)H.addCase(z,k[z]);for(let z of f.sliceMatchers)H.addMatcher(z.matcher,z.reducer);for(let z of O)H.addMatcher(z.matcher,z.reducer);M&&H.addDefaultCase(M)})}const v=I=>I,_=new Map,S=new WeakMap;let E;function T(I,O){return E||(E=m()),E(I,O)}function C(){return E||(E=m()),E.getInitialState()}function P(I,O=!1){function M(H){let z=H[I];return typeof z>"u"&&O&&(z=Yd(S,M,C)),z}function k(H=v){const z=Yd(_,O,()=>new WeakMap);return Yd(z,H,()=>{const ie={};for(const[B,L]of Object.entries(i.selectors??{}))ie[B]=Kq(L,H,()=>Yd(S,H,C),O);return ie})}return{reducerPath:I,getSelectors:k,get selectors(){return k(M)},selectSlice:M}}const R={name:a,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...P(l),injectInto(I,{reducerPath:O,...M}={}){const k=O??l;return I.inject({reducerPath:k,reducer:T},M),{...R,...P(k,!0)}}};return R}}function Kq(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Bn=Vq();function Yq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Jq({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!Xq(r))throw new Error(nr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?wr(e,l):wr(e))}function Wq(e){return e._reducerDefinitionType==="asyncThunk"}function Xq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Zq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(nr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Jd,pending:u||Jd,rejected:d||Jd,settled:f||Jd})}function Jd(){}var Qq="task",sM="listener",lM="completed",Hb="cancelled",e3=`task-${Hb}`,t3=`task-${lM}`,f0=`${sM}-${Hb}`,n3=`${sM}-${lM}`,Yh=class{constructor(e){Wg(this,"name","TaskAbortError");Wg(this,"message");this.code=e,this.message=`${Qq} ${Hb} (reason: ${e})`}},Fb=(e,t)=>{if(typeof e!="function")throw new TypeError(nr(32))},Vf=()=>{},uM=(e,t=Vf)=>(e.catch(t),e),cM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mo=e=>{if(e.aborted)throw new Yh(e.reason)};function dM(e,t){let n=Vf;return new Promise((r,i)=>{const a=()=>i(new Yh(e.reason));if(e.aborted){a();return}n=cM(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Vf})}var r3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Yh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Kf=e=>t=>uM(dM(e,t).then(n=>(mo(e),n))),fM=e=>{const t=Kf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hs}=Object,lC={},Jh="listenerMiddleware",i3=(e,t)=>{const n=r=>cM(e,()=>r.abort(e.reason));return(r,i)=>{Fb(r);const a=new AbortController;n(a);const l=r3(async()=>{mo(e),mo(a.signal);const u=await r({pause:Kf(a.signal),delay:fM(a.signal),signal:a.signal});return mo(a.signal),u},()=>a.abort(t3));return i!=null&&i.autoJoin&&t.push(l.catch(Vf)),{result:Kf(e)(l),cancel(){a.abort(e3)}}}},a3=(e,t)=>{const n=async(r,i)=>{mo(t);let a=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),d([m,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await dM(t,Promise.race(u));return mo(t),d}finally{a()}};return(r,i)=>uM(n(r,i))},hM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=wr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(nr(21));return Fb(a),{predicate:i,type:t,effect:a}},pM=Hs(e=>{const{type:t,predicate:n,effect:r}=hM(e);return{id:Gq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(nr(22))}}},{withTypes:()=>pM}),uC=(e,t)=>{const{type:n,effect:r,predicate:i}=hM(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},h0=e=>{e.pending.forEach(t=>{t.abort(f0)})},o3=(e,t)=>()=>{for(const n of t.keys())h0(n);e.clear()},cC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},mM=Hs(wr(`${Jh}/add`),{withTypes:()=>mM}),s3=wr(`${Jh}/removeAll`),gM=Hs(wr(`${Jh}/remove`),{withTypes:()=>gM}),l3=(...e)=>{console.error(`${Jh}/error`,...e)},uc=(e={})=>{const t=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:a,onError:l=l3}=e;Fb(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),S=>{_.unsubscribe(),S!=null&&S.cancelActive&&h0(_)}),d=_=>{const S=uC(t,_)??pM(_);return u(S)};Hs(d,{withTypes:()=>d});const f=_=>{const S=uC(t,_);return S&&(S.unsubscribe(),_.cancelActive&&h0(S)),!!S};Hs(f,{withTypes:()=>f});const h=async(_,S,E,T)=>{const C=new AbortController,P=a3(d,C.signal),R=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(S,Hs({},E,{getOriginalState:T,condition:(I,O)=>P(I,O).then(Boolean),take:P,delay:fM(C.signal),pause:Kf(C.signal),extra:a,signal:C.signal,fork:i3(C.signal,R),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((I,O,M)=>{I!==C&&(I.abort(f0),M.delete(I))})},cancel:()=>{C.abort(f0),_.pending.delete(C)},throwIfCancelled:()=>{mo(C.signal)}})))}catch(I){I instanceof Yh||cC(l,I,{raisedBy:"effect"})}finally{await Promise.all(R),C.abort(n3),i(_),_.pending.delete(C)}},m=o3(t,n);return{middleware:_=>S=>E=>{if(!FR(E))return S(E);if(mM.match(E))return d(E.payload);if(s3.match(E)){m();return}if(gM.match(E))return f(E.payload);let T=_.getState();const C=()=>{if(T===lC)throw new Error(nr(23));return T};let P;try{if(P=S(E),t.size>0){const R=_.getState(),I=Array.from(t.values());for(const O of I){let M=!1;try{M=O.predicate(E,R,T)}catch(k){M=!1,cC(l,k,{raisedBy:"predicate"})}M&&h(O,E,_,C)}}}finally{T=lC}return P},startListening:d,stopListening:f,clearListeners:m}};function nr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vM=Bn({name:"chartLayout",initialState:u3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:c3,setLayout:d3,setChartSize:f3,setScale:h3}=vM.actions,p3=vM.reducer;function yM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ve(e){return Number.isFinite(e)}function ni(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){m3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m3(e,t,n){return(t=g3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g3(e){var t=v3(e,"string");return typeof t=="symbol"?t:t+""}function v3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t,n){return yn(e)||yn(t)?n:ti(t)?wo(e,t,n):typeof t=="function"?t(e):n}var y3=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&xe(e[a]))return Us(Us({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&xe(e[l]))return Us(Us({},e),{},{[l]:e[l]+(i||0)})}return e},ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",bM=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},xM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:v,axisType:_}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&a&&a.length>=2?En(a[0]-a[1])*2*E:E,m||v){var T=(m||v||[]).map((C,P)=>{var R=r?r.indexOf(C):C,I=l.map(R);return Ve(I)?{coordinate:I+E,value:C,offset:E,index:P}:null}).filter($n);return T}return d&&f?f.map((C,P)=>{var R=l.map(C);return Ve(R)?{coordinate:R+E,value:C,index:P,offset:E}:null}).filter($n):l.ticks&&h!=null?l.ticks(h).map((C,P)=>{var R=l.map(C);return Ve(R)?{coordinate:R+E,value:C,index:P,offset:E}:null}).filter($n):l.domain().map((C,P)=>{var R=l.map(C);return Ve(R)?{coordinate:R+E,value:r?r[C]:C,index:P,offset:E}:null}).filter($n)},b3=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,u=0;u<n;++u){var d=e[u],f=d==null?void 0:d[i];if(f!=null){var h=f[1],m=f[0],v=ei(h)?m:h;v>=0?(f[0]=a,a+=v,f[1]=a):(f[0]=l,l+=v,f[1]=l)}}}},x3=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var u=e[l],d=u==null?void 0:u[i];if(d!=null){var f=ei(d[1])?d[0]:d[1];f>=0?(d[0]=a,a+=f,d[1]=a):(d[0]=0,d[1]=0)}}}},_3={sign:b3,expand:qB,none:_o,silhouette:GB,wiggle:HB,positive:x3},w3=(e,t,n)=>{var r,i=(r=_3[n])!==null&&r!==void 0?r:_o,a=BB().keys(t).value((u,d)=>Number(xt(u,d,0))).order(n0).offset(i),l=a(e);return l.forEach((u,d)=>{u.forEach((f,h)=>{var m=xt(e[h],t[d],0);Array.isArray(m)&&m.length===2&&xe(m[0])&&xe(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function S3(e){return e==null?void 0:String(e)}function fC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yn(i[t.dataKey])){var u=AR(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var d=xt(i,yn(l)?t.dataKey:l),f=t.scale.map(d);return xe(f)?f:null}var E3=e=>{var t=e.flat(2).filter(xe);return[Math.min(...t),Math.max(...t)]},T3=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],A3=(e,t,n)=>{if(e!=null)return T3(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:l}=a,u=l.reduce((d,f)=>{var h=yM(f,t,n),m=E3(h);return!Ve(m[0])||!Ve(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},hC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=zh(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];a=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function mC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Us(Us({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Wh(e,t){if(e)return String(e);if(typeof t=="string")return t}var C3=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},N3=(e,t)=>t==="centric"?e.angle:e.radius,Li=e=>e.layout.width,Ui=e=>e.layout.height,O3=e=>e.layout.scale,_M=e=>e.layout.margin,Xh=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zh=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wM="data-recharts-item-index",SM="data-recharts-item-id",cc=60;function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){I3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I3(e,t,n){return(t=P3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P3(e){var t=R3(e,"string");return typeof t=="symbol"?t:t+""}function R3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M3=e=>e.brush.height;function D3(e){var t=Zh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cc;return n+i}return n},0)}function k3(e){var t=Zh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cc;return n+i}return n},0)}function j3(e){var t=Xh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function L3(e){var t=Xh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var tn=X([Li,Ui,_M,M3,D3,k3,j3,L3,BR,dq],(e,t,n,r,i,a,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Wd(Wd({},m),h),_=v.bottom;v.bottom+=r,v=y3(v,d,f);var S=e-v.left-v.right,E=t-v.top-v.bottom;return Wd(Wd({brushBottom:_},v),{},{width:Math.max(S,0),height:Math.max(E,0)})}),U3=X(tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),EM=X(Li,Ui,(e,t)=>({x:0,y:0,width:e,height:t})),$3=A.createContext(null),qn=()=>A.useContext($3)!=null,Qh=e=>e.brush,ep=X([Qh,tn,_M],(e,t,n)=>({height:e.height,x:xe(e.x)?e.x:t.left,y:xe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:xe(e.width)?e.width:t.width})),ny={},ry={},iy={},vC;function z3(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&h(),E()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{S(),l=void 0,u=null},T=()=>{h()},C=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const R=v==null;_(),d&&R&&h()};return C.schedule=_,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(iy)),iy}var yC;function B3(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,m=null;const v=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:f}),_=function(...E){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=r.apply(this,E),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,E),h)},S=()=>(v.flush(),h);return _.cancel=v.cancel,_.flush=S,_}e.debounce=n})(ry)),ry}var bC;function q3(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B3();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(ny)),ny}var ay,xC;function G3(){return xC||(xC=1,ay=q3().throttle),ay}var H3=G3();const F3=$r(H3);var Jf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Xr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},TM=(e,t,n)=>{var{width:r=Xr.width,height:i=Xr.height,aspect:a,maxHeight:l}=n,u=So(r)?e:Number(r),d=So(i)?t:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},V3={width:0,height:0,overflow:"visible"},K3={width:0,overflowX:"visible"},Y3={height:0,overflowY:"visible"},J3={},W3=e=>{var{width:t,height:n}=e,r=So(t),i=So(n);return r&&i?V3:r?K3:i?Y3:J3};function X3(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=Xr.width,a=Xr.height):i===void 0?i=r&&r>0?void 0:Xr.width:a===void 0&&(a=r&&r>0?void 0:Xr.height),{width:i,height:a}}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(r){Z3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z3(e,t,n){return(t=Q3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q3(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AM=A.createContext(Xr.initialDimension);function t6(e){return ni(e.width)&&ni(e.height)}function CM(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return t6(i)?A.createElement(AM.Provider,{value:i},t):null}var Vb=()=>A.useContext(AM),n6=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Xr.initialDimension,width:i,height:a,minWidth:l=Xr.minWidth,minHeight:u,maxHeight:d,children:f,debounce:h=Xr.debounce,id:m,className:v,onResize:_,style:S={}}=e,E=A.useRef(null),T=A.useRef();T.current=_,A.useImperativeHandle(t,()=>E.current);var[C,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),R=A.useCallback((H,z)=>{P(ie=>{var B=Math.round(H),L=Math.round(z);return ie.containerWidth===B&&ie.containerHeight===L?ie:{containerWidth:B,containerHeight:L}})},[]);A.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return ll;var H=L=>{var G,J=L[0];if(J!=null){var{width:ne,height:$}=J.contentRect;R(ne,$),(G=T.current)===null||G===void 0||G.call(T,ne,$)}};h>0&&(H=F3(H,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(H),{width:ie,height:B}=E.current.getBoundingClientRect();return R(ie,B),z.observe(E.current),()=>{z.disconnect()}},[R,h]);var{containerWidth:I,containerHeight:O}=C;Jf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:k}=TM(I,O,{width:i,height:a,aspect:n,maxHeight:d});return Jf(M!=null&&M>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,k,i,a,l,u,n),A.createElement("div",{id:m?"".concat(m):void 0,className:et("recharts-responsive-container",v),style:wC(wC({},S),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:E},A.createElement("div",{style:W3({width:i,height:a})},A.createElement(CM,{width:M,height:k},f)))}),Ef=A.forwardRef((e,t)=>{var n=Vb();if(ni(n.width)&&ni(n.height))return e.children;var{width:r,height:i}=X3({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=TM(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return xe(a)&&xe(l)?A.createElement(CM,{width:a,height:l},e.children):A.createElement(n6,p0({},e,{width:r,height:i,ref:t}))});function Kb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tp=()=>{var e,t=qn(),n=Ee(U3),r=Ee(ep),i=(e=Ee(Qh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},r6={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NM=()=>{var e;return(e=Ee(tn))!==null&&e!==void 0?e:r6},Yb=()=>Ee(Li),Jb=()=>Ee(Ui),i6=()=>Ee(e=>e.layout.margin),ft=e=>e.layout.layoutType,ul=()=>Ee(ft),Wb=()=>{var e=ul();if(e==="horizontal"||e==="vertical")return e},OM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},a6=()=>{var e=ul();return e!==void 0},dc=e=>{var t=gt(),n=qn(),{width:r,height:i}=e,a=Vb(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),A.useEffect(()=>{!n&&ni(l)&&ni(u)&&t(f3({width:l,height:u}))},[t,n,l,u]),null},IM=Symbol.for("immer-nothing"),SC=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gu=Object.getPrototypeOf;function el(e){return!!e&&!!e[ir]}function To(e){var t;return e?PM(e)||Array.isArray(e)||!!e[SC]||!!((t=e.constructor)!=null&&t[SC])||fc(e)||rp(e):!1}var o6=Object.prototype.constructor.toString(),EC=new WeakMap;function PM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=EC.get(n);return r===void 0&&(r=Function.toString.call(n),EC.set(n,r)),r===o6}function Wf(e,t,n=!0){np(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function np(e){const t=e[ir];return t?t.type_:Array.isArray(e)?1:fc(e)?2:rp(e)?3:0}function m0(e,t){return np(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RM(e,t,n){const r=np(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function s6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fc(e){return e instanceof Map}function rp(e){return e instanceof Set}function ro(e){return e.copy_||e.base_}function g0(e,t){if(fc(e))return new Map(e);if(rp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=PM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ir];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Gu(e),r)}else{const r=Gu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Xb(e,t=!1){return ip(e)||el(e)||!To(e)||(np(e)>1&&Object.defineProperties(e,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Xb(n,!0))),e}function l6(){Mr(2)}var Xd={value:l6};function ip(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var u6={};function Ao(e){const t=u6[e];return t||Mr(0,e),t}var Hu;function MM(){return Hu}function c6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TC(e,t){t&&(Ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function v0(e){y0(e),e.drafts_.forEach(d6),e.drafts_=null}function y0(e){e===Hu&&(Hu=e.parent_)}function AC(e){return Hu=c6(Hu,e)}function d6(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ir].modified_&&(v0(t),Mr(4)),To(e)&&(e=Xf(t,e),t.parent_||Zf(t,e)),t.patches_&&Ao("Patches").generateReplacementPatches_(n[ir].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,n,[]),v0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IM?e:void 0}function Xf(e,t,n){if(ip(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ir];if(!i)return Wf(t,(a,l)=>NC(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Zf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),Wf(l,(d,f)=>NC(e,i,a,d,f,n,u),r),Zf(e,a,!1),n&&e.patches_&&Ao("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function NC(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=ip(i);if(!(u&&!l)){if(el(i)){const d=a&&t&&t.type_!==3&&!m0(t.assigned_,r)?a.concat(r):void 0,f=Xf(e,i,d);if(RM(n,r,f),el(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(To(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Xf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(fc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zf(e,i)}}}function Zf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xb(t,n)}function f6(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:MM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Zb;n&&(i=[r],a=Fu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var Zb={get(e,t){if(t===ir)return e;const n=ro(e);if(!m0(n,t))return h6(e,n,t);const r=n[t];return e.finalized_||!To(r)?r:r===oy(e.base_,t)?(sy(e),e.copy_[t]=x0(r,e)):r},has(e,t){return t in ro(e)},ownKeys(e){return Reflect.ownKeys(ro(e))},set(e,t,n){const r=DM(ro(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=oy(ro(e),t),a=i==null?void 0:i[ir];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(s6(n,i)&&(n!==void 0||m0(e.base_,t)))return!0;sy(e),b0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sy(e),b0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ro(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return Gu(e.base_)},setPrototypeOf(){Mr(12)}},Fu={};Wf(Zb,(e,t)=>{Fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Fu.deleteProperty=function(e,t){return Fu.set.call(this,e,t,void 0)};Fu.set=function(e,t,n){return Zb.set.call(this,e[0],t,n,e[0])};function oy(e,t){const n=e[ir];return(n?ro(n):e)[t]}function h6(e,t,n){var i;const r=DM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function DM(e,t){if(!(t in e))return;let n=Gu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Gu(n)}}function b0(e){e.modified_||(e.modified_=!0,e.parent_&&b0(e.parent_))}function sy(e){e.copy_||(e.copy_=g0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var p6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(d=a,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&Mr(6),r!==void 0&&typeof r!="function"&&Mr(7);let i;if(To(t)){const a=AC(this),l=x0(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?v0(a):y0(a)}return TC(a,r),CC(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===IM&&(i=void 0),this.autoFreeze_&&Xb(i,!0),r){const a=[],l=[];Ao("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Mr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){To(e)||Mr(8),el(e)&&(e=m6(e));const t=AC(this),n=x0(e,void 0);return n[ir].isManual_=!0,y0(t),n}finishDraft(e,t){const n=e&&e[ir];(!n||!n.isManual_)&&Mr(9);const{scope_:r}=n;return TC(r,t),CC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ao("Patches").applyPatches_;return el(e)?r(e,t):this.produce(e,i=>r(i,t))}};function x0(e,t){const n=fc(e)?Ao("MapSet").proxyMap_(e,t):rp(e)?Ao("MapSet").proxySet_(e,t):f6(e,t);return(t?t.scope_:MM()).drafts_.push(n),n}function m6(e){return el(e)||Mr(10,e),kM(e)}function kM(e){if(!To(e)||ip(e))return e;const t=e[ir];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=g0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=g0(e,!0);return Wf(n,(i,a)=>{RM(n,i,kM(a))},r),t&&(t.finalized_=!1),n}var g6=new p6;g6.produce;var v6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jM=Bn({name:"legend",initialState:v6,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:wt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=kr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:wt()},removeLegendPayload:{reducer(e,t){var n=kr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:wt()}}}),{setLegendSize:OC,setLegendSettings:y6,addLegendPayload:LM,replaceLegendPayload:UM,removeLegendPayload:$M}=jM.actions,b6=jM.reducer,x6=["contextPayload"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(null,arguments)}function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(r){_6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _6(e,t,n){return(t=w6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w6(e){var t=S6(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E6(e,t){if(e==null)return{};var n,r,i=T6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function A6(e){return e.value}function C6(e){var{contextPayload:t}=e,n=E6(e,x6),r=LR(t,e.payloadUniqBy,A6),i=tl(tl({},n),{},{payload:r});return A.isValidElement(e.content)?A.cloneElement(e.content,i):typeof e.content=="function"?A.createElement(e.content,i):A.createElement(b4,i)}function N6(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:d}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-a.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((i||0)-a.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),tl(tl({},f),h)}function O6(e){var t=gt();return A.useEffect(()=>{t(y6(e))},[t,e]),null}function I6(e){var t=gt();return A.useEffect(()=>(t(OC(e)),()=>{t(OC({width:0,height:0}))}),[t,e]),null}function P6(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var R6={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function w0(e){var t=Vt(e,R6),n=pq(),r=dB(),i=i6(),{width:a,height:l,wrapperStyle:u,portal:d}=t,[f,h]=qR([n]),m=Yb(),v=Jb();if(m==null||v==null)return null;var _=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=P6(t.layout,l,a,_),E=d?u:tl(tl({position:"absolute",width:(S==null?void 0:S.width)||a||"auto",height:(S==null?void 0:S.height)||l||"auto"},N6(u,t,i,m,v,f)),u),T=d??r;if(T==null||n==null)return null;var C=A.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},A.createElement(O6,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&A.createElement(I6,{width:f.width,height:f.height}),A.createElement(C6,_0({},t,S,{margin:i,chartWidth:m,chartHeight:v,contextPayload:n})));return Cb.createPortal(C,T)}w0.displayName="Legend";function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){M6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M6(e,t,n){return(t=D6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D6(e){var t=k6(e,"string");return typeof t=="symbol"?t:t+""}function k6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j6(e){return Array.isArray(e)&&ti(e[0])&&ti(e[1])?e.join(" ~ "):e}var bs={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},L6=e=>{var{separator:t=bs.separator,contentStyle:n,itemStyle:r,labelStyle:i=bs.labelStyle,payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:v=bs.accessibilityLayer}=e,_=()=>{if(a&&a.length){var O={padding:0,margin:0},M=(u?zh(a,u):a).map((k,H)=>{if(k.type==="none")return null;var z=k.formatter||l||j6,{value:ie,name:B}=k,L=ie,G=B;if(z){var J=z(ie,B,k,H,a);if(Array.isArray(J))[L,G]=J;else if(J!=null)L=J;else return null}var ne=gu(gu({},bs.itemStyle),{},{color:k.color||bs.itemStyle.color},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ne},ti(G)?A.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ti(G)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},L),A.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},S=gu(gu({},bs.contentStyle),n),E=gu({margin:0},i),T=!yn(h),C=T?h:"",P=et("recharts-default-tooltip",d),R=et("recharts-tooltip-label",f);T&&m&&a!==void 0&&a!==null&&(C=m(h,a));var I=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",S0({className:P,style:S},I),A.createElement("p",{className:R,style:E},A.isValidElement(C)?C:"".concat(C)),_())},vu="recharts-tooltip-wrapper",U6={visibility:"hidden"};function $6(e){var{coordinate:t,translateX:n,translateY:r}=e;return et(vu,{["".concat(vu,"-right")]:xe(n)&&t&&xe(t.x)&&n>=t.x,["".concat(vu,"-left")]:xe(n)&&t&&xe(t.x)&&n<t.x,["".concat(vu,"-bottom")]:xe(r)&&t&&xe(t.y)&&r>=t.y,["".concat(vu,"-top")]:xe(r)&&t&&xe(t.y)&&r<t.y})}function RC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(a&&xe(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var v=d[r];if(v==null)return 0;if(l[r]){var _=h,S=v;return _<S?Math.max(m,v):Math.max(h,v)}if(f==null)return 0;var E=m+u,T=v+f;return E>T?Math.max(h,v):Math.max(m,v)}function z6(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function B6(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,h,m,v;return u.height>0&&u.width>0&&n?(m=RC({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),v=RC({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=z6({translateX:m,translateY:v,useTranslate3d:d})):h=U6,{cssProperties:h,cssClasses:$6({translateX:m,translateY:v,coordinate:n})}}function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(r){E0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0(e,t,n){return(t=q6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q6(e){var t=G6(e,"string");return typeof t=="symbol"?t:t+""}function G6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class H6 extends A.PureComponent{constructor(){super(...arguments),E0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),E0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:v,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,P=typeof f=="number"?f:f.x,R=typeof f=="number"?f:f.y,{cssClasses:I,cssProperties:O}=B6({allowEscapeViewBox:n,coordinate:l,offsetLeft:P,offsetTop:R,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:_}),M=C?{}:Zd(Zd({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=Zd(Zd({},M),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:k,ref:T},a)}}var zM=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(r){F6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F6(e,t,n){return(t=V6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V6(e){var t=K6(e,"string");return typeof t=="symbol"?t:t+""}function K6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jC={curveBasisClosed:IB,curveBasisOpen:PB,curveBasis:OB,curveBumpX:mB,curveBumpY:gB,curveLinearClosed:RB,curveLinear:Uh,curveMonotoneX:MB,curveMonotoneY:DB,curveNatural:kB,curveStep:jB,curveStepAfter:UB,curveStepBefore:LB},Qf=e=>Ve(e.x)&&Ve(e.y),LC=e=>e.base!=null&&Qf(e.base)&&Qf(e),yu=e=>e.x,bu=e=>e.y,Y6=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(sc(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=jC["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return jC[n]||Uh},UC={connectNulls:!1,type:"linear"},J6=e=>{var{type:t=UC.type,points:n=[],baseLine:r,layout:i,connectNulls:a=UC.connectNulls}=e,l=Y6(t,i),u=a?n.filter(Qf):n;if(Array.isArray(r)){var d,f=n.map((S,E)=>kC(kC({},S),{},{base:r[E]}));i==="vertical"?d=Hd().y(bu).x1(yu).x0(S=>S.base.x):d=Hd().x(yu).y1(bu).y0(S=>S.base.y);var h=d.defined(LC).curve(l),m=a?f.filter(LC):f;return h(m)}var v;i==="vertical"&&xe(r)?v=Hd().y(bu).x1(yu).x0(r):xe(r)?v=Hd().x(yu).y1(bu).y0(r):v=hR().x(yu).y(bu);var _=v.defined(Qf).curve(l);return _(u)},Fs=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=ul();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},u=n&&n.length?J6(l):r;return A.createElement("path",T0({},rr(e),kb(e),{className:et("recharts-curve",t),d:u===null?void 0:u,ref:i}))},W6=["x","y","top","left","width","height","className"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){Z6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z6(e,t,n){return(t=Q6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q6(e){var t=e5(e,"string");return typeof t=="symbol"?t:t+""}function e5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t5(e,t){if(e==null)return{};var n,r,i=n5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r5=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),i5=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,d=t5(e,W6),f=X6({x:t,y:n,top:r,left:i,width:a,height:l},d);return!xe(t)||!xe(n)||!xe(a)||!xe(l)||!xe(r)||!xe(i)?null:A.createElement("path",A0({},On(f),{className:et("recharts-cross",u),d:r5(t,n,a,l,r,i)}))};function a5(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(n),!0).forEach(function(r){o5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o5(e,t,n){return(t=s5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s5(e){var t=l5(e,"string");return typeof t=="symbol"?t:t+""}function l5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u5=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),BM=(e,t,n)=>e.map(r=>"".concat(u5(r)," ").concat(t,"ms ").concat(n)).join(","),c5=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Vu=(e,t)=>Object.keys(t).reduce((n,r)=>BC(BC({},n),{},{[r]:e(r,t[r])}),{});function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){d5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d5(e,t,n){return(t=f5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=(e,t,n)=>e+(t-e)*n,C0=e=>{var{from:t,to:n}=e;return t!==n},qM=(e,t,n)=>{var r=Vu((i,a)=>{if(C0(a)){var[l,u]=e(a.from,a.to,a.velocity);return Ft(Ft({},a),{},{from:l,velocity:u})}return a},t);return n<1?Vu((i,a)=>C0(a)&&r[i]!=null?Ft(Ft({},a),{},{velocity:eh(a.velocity,r[i].velocity,n),from:eh(a.from,r[i].from,n)}):a,t):qM(e,r,n-1)};function p5(e,t,n,r,i,a){var l,u=r.reduce((v,_)=>Ft(Ft({},v),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),d=()=>Vu((v,_)=>_.from,u),f=()=>!Object.values(u).filter(C0).length,h=null,m=v=>{l||(l=v);var _=v-l,S=_/n.dt;u=qM(n,u,S),i(Ft(Ft(Ft({},e),t),d())),l=v,f()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function m5(e,t,n,r,i,a,l){var u=null,d=i.reduce((m,v)=>{var _=e[v],S=t[v];return _==null||S==null?m:Ft(Ft({},m),{},{[v]:[_,S]})},{}),f,h=m=>{f||(f=m);var v=(m-f)/r,_=Vu((E,T)=>eh(...T,n(v)),d);if(a(Ft(Ft(Ft({},e),t),_)),v<1)u=l.setTimeout(h);else{var S=Vu((E,T)=>eh(...T,n(1)),d);a(Ft(Ft(Ft({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const g5=(e,t,n,r,i,a)=>{var l=c5(e,t);return n==null?()=>(i(Ft(Ft({},e),t)),()=>{}):n.isStepper===!0?p5(e,t,n,l,i,a):m5(e,t,n,r,l,i,a)};var th=1e-4,GM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),GC=(e,t)=>n=>{var r=GM(e,t);return HM(r,n)},v5=(e,t)=>n=>{var r=GM(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return HM(i,n)},y5=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},b5=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=y5(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},x5=(e,t,n,r)=>{var i=GC(e,n),a=GC(t,r),l=v5(e,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,m=h,v=0;v<8;++v){var _=i(m)-h,S=l(m);if(Math.abs(_-h)<th||S<th)return a(m);m=u(m-_/S)}return a(m)};return d.isStepper=!1,d},HC=function(){return x5(...b5(...arguments))},_5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,d)=>{var f=-(l-u)*n,h=d*r,m=d+(f-h)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<th&&Math.abs(m)<th?[u,0]:[v,m]};return a.isStepper=!0,a.dt=i,a},w5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HC(e);case"spring":return _5();default:if(e.split("(")[0]==="cubic-bezier")return HC(e)}return typeof e=="function"?e:null};function S5(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class E5{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function T5(){return S5(new E5)}var A5=A.createContext(T5);function C5(e,t){var n=A.useContext(A5);return A.useMemo(()=>t??n(e),[e,t,n])}var N5=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hc={isSsr:N5()},O5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},FC={t:0},ly={t:1};function ap(e){var t=Vt(e,O5),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=n==="auto"?!hc.isSsr:n,m=C5(t.animationId,t.animationManager),[v,_]=A.useState(h?FC:ly),S=A.useRef(null);return A.useEffect(()=>{h||_(ly)},[h]),A.useEffect(()=>{if(!h||!r)return ll;var E=g5(FC,ly,w5(a),i,_,m.getTimeoutController()),T=()=>{S.current=E()};return m.start([d,l,T,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,a,l,d,u,m]),f(v.t)}function op(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef($u(t)),r=A.useRef(e);return r.current!==e&&(n.current=$u(t),r.current=e),n.current}var I5=["radius"],P5=["radius"],VC,KC,YC,JC,WC,XC,ZC,QC,e1,t1;function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){R5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R5(e,t,n){return(t=M5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M5(e){var t=D5(e,"string");return typeof t=="symbol"?t:t+""}function D5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(null,arguments)}function i1(e,t){if(e==null)return{};var n,r,i=k5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a1=(e,t,n,r,i)=>{var a=Ea(n),l=Ea(r),u=Math.min(Math.abs(a)/2,Math.abs(l)/2),d=l>=0?1:-1,f=a>=0?1:-1,h=l>=0&&a>=0||l<0&&a<0?1:0,m;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],_=0,S=4;_<S;_++){var E,T=(E=i[_])!==null&&E!==void 0?E:0;v[_]=T>u?u:T}m=Nt(VC||(VC=Yr(["M",",",""])),e,t+d*v[0]),v[0]>0&&(m+=Nt(KC||(KC=Yr(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+f*v[0],t)),m+=Nt(YC||(YC=Yr(["L ",",",""])),e+n-f*v[1],t),v[1]>0&&(m+=Nt(JC||(JC=Yr(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+n,t+d*v[1])),m+=Nt(WC||(WC=Yr(["L ",",",""])),e+n,t+r-d*v[2]),v[2]>0&&(m+=Nt(XC||(XC=Yr(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+n-f*v[2],t+r)),m+=Nt(ZC||(ZC=Yr(["L ",",",""])),e+f*v[3],t+r),v[3]>0&&(m+=Nt(QC||(QC=Yr(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+r-d*v[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);m=Nt(e1||(e1=Yr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*C,C,C,h,e+f*C,t,e+n-f*C,t,C,C,h,e+n,t+d*C,e+n,t+r-d*C,C,C,h,e+n-f*C,t+r,e+f*C,t+r,C,C,h,e,t+r-d*C)}else m=Nt(t1||(t1=Yr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},o1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FM=e=>{var t=Vt(e,o1),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:m,animationDuration:v,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=A.useRef(u),C=A.useRef(d),P=A.useRef(a),R=A.useRef(l),I=A.useMemo(()=>({x:a,y:l,width:u,height:d,radius:f}),[a,l,u,d,f]),O=op(I,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var M=et("recharts-rectangle",h);if(!E){var k=On(t),{radius:H}=k,z=i1(k,I5);return A.createElement("path",nh({},z,{x:Ea(a),y:Ea(l),width:Ea(u),height:Ea(d),radius:typeof f=="number"?f:void 0,className:M,d:a1(a,l,u,d,f)}))}var ie=T.current,B=C.current,L=P.current,G=R.current,J="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),$=BM(["strokeDasharray"],v,typeof m=="string"?m:o1.animationEasing);return A.createElement(ap,{animationId:O,key:O,canBegin:r>0,duration:v,easing:m,isActive:E,begin:_},Z=>{var F=mn(ie,u,Z),le=mn(B,d,Z),he=mn(L,a,Z),j=mn(G,l,Z);n.current&&(T.current=F,C.current=le,P.current=he,R.current=j);var ee;S?Z>0?ee={transition:$,strokeDasharray:ne}:ee={strokeDasharray:J}:ee={strokeDasharray:ne};var de=On(t),{radius:fe}=de,_e=i1(de,P5);return A.createElement("path",nh({},_e,{radius:typeof f=="number"?f:void 0,className:M,d:a1(he,j,F,le,f),ref:n,style:r1(r1({},ee),t.style)}))})};function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(r){j5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j5(e,t,n){return(t=L5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L5(e){var t=U5(e,"string");return typeof t=="symbol"?t:t+""}function U5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=Math.PI/180,$5=e=>e*180/Math.PI,Bt=(e,t,n,r)=>({x:e+Math.cos(-rh*r)*n,y:t+Math.sin(-rh*r)*n}),VM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},z5=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},B5=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=z5({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:$5(d),angleInRadian:d}},q5=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},G5=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},H5=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=B5({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=q5(t),h=a,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?l1(l1({},t),{},{radius:i,angle:G5(h,t)}):null};function KM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=Bt(t,n,r,i),u=Bt(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var u1,c1,d1,f1,h1,p1,m1;function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function uo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F5=(e,t)=>{var n=En(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Qd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/rh,m=d?i:i+a*h,v=Bt(t,n,f,m),_=Bt(t,n,r,m),S=d?i-a*h:i,E=Bt(t,n,f*Math.cos(h*rh),S);return{center:v,circleTangency:_,lineTangency:E,theta:h}},YM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=F5(a,l),d=a+u,f=Bt(t,n,i,a),h=Bt(t,n,i,d),m=Nt(u1||(u1=uo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(a>d),h.x,h.y);if(r>0){var v=Bt(t,n,r,a),_=Bt(t,n,r,d);m+=Nt(c1||(c1=uo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(a<=d),v.x,v.y)}else m+=Nt(d1||(d1=uo(["L ",","," Z"])),t,n);return m},V5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=En(f-d),{circleTangency:m,lineTangency:v,theta:_}=Qd({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=Qd({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(d-f):Math.abs(d-f)-_-T;if(C<0)return l?Nt(f1||(f1=uo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):YM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var P=Nt(h1||(h1=uo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(h<0),m.x,m.y,i,i,+(C>180),+(h<0),S.x,S.y,a,a,+(h<0),E.x,E.y);if(r>0){var{circleTangency:R,lineTangency:I,theta:O}=Qd({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:M,lineTangency:k,theta:H}=Qd({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),z=u?Math.abs(d-f):Math.abs(d-f)-O-H;if(z<0&&a===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+=Nt(p1||(p1=uo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,a,a,+(h<0),M.x,M.y,r,r,+(z>180),+(h>0),R.x,R.y,a,a,+(h<0),I.x,I.y)}else P+=Nt(m1||(m1=uo(["L",",","Z"])),t,n);return P},K5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JM=e=>{var t=Vt(e,K5),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=t;if(a<i||f===h)return null;var v=et("recharts-sector",m),_=a-i,S=tr(l,_,0,!0),E;return S>0&&Math.abs(f-h)<360?E=V5({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):E=YM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),A.createElement("path",N0({},On(t),{className:v,d:E}))};function Y5(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(NR(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,d=Bt(r,i,a,u),f=Bt(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return KM(t)}}var uy={},cy={},dy={},g1;function J5(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(dy)),dy}var v1;function W5(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(cy)),cy}var y1;function X5(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zR(),n=W5();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(uy)),uy}var fy,b1;function Z5(){return b1||(b1=1,fy=X5().range),fy}var Q5=Z5();const WM=$r(Q5);function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qb(e){let t,n,r;e.length!==2?(t=Ca,n=(u,d)=>Ca(e(u),d),r=(u,d)=>e(u)-d):(t=e===Ca||e===eG?e:tG,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function a(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:l,right:a}}function tG(){return 0}function XM(e){return e===null?NaN:+e}function*nG(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const rG=Qb(Ca),pc=rG.right;Qb(XM).center;class x1 extends Map{constructor(t,n=oG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(_1(this,t))}has(t){return super.has(_1(this,t))}set(t,n){return super.set(iG(this,t),n)}delete(t){return super.delete(aG(this,t))}}function _1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function iG({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function aG({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function oG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sG(e=Ca){if(e===Ca)return ZM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ZM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lG=Math.sqrt(50),uG=Math.sqrt(10),cG=Math.sqrt(2);function ih(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=lG?10:a>=uG?5:a>=cG?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?ih(e,t,n*2):[u,d,f]}function O0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?ih(t,e,n):ih(e,t,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(a-f)/-l;else for(let f=0;f<u;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function I0(e,t,n){return t=+t,e=+e,n=+n,ih(e,t,n)[2]}function P0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?I0(t,e,n):I0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function w1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function S1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function QM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ZM:sG(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),_=Math.max(n,Math.floor(t-f*m/d+v)),S=Math.min(r,Math.floor(t+(d-f)*m/d+v));QM(e,t,_,S,i)}const a=e[t];let l=n,u=r;for(xu(e,n,t),i(e[r],a)>0&&xu(e,n,r);l<u;){for(xu(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?xu(e,n,u):(++u,xu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function xu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function dG(e,t,n){if(e=Float64Array.from(nG(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return S1(e);if(t>=1)return w1(e);var r,i=(r-1)*t,a=Math.floor(i),l=w1(QM(e,a).subarray(0,a+1)),u=S1(e.subarray(a+1));return l+(u-l)*(i-a)}}function fG(e,t,n=XM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function hG(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $i(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R0=Symbol("implicit");function ex(){var e=new x1,t=[],n=[],r=R0;function i(a){let l=e.get(a);if(l===void 0){if(r!==R0)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new x1;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ex(t,n).unknown(r)},Tr.apply(i,arguments),i}function tx(){var e=ex().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var v=t().length,_=i<r,S=_?i:r,E=_?r:i;a=(E-S)/Math.max(1,v-d+f*2),u&&(a=Math.floor(a)),S+=(E-S-a*(v-d))*h,l=a*(1-d),u&&(S=Math.round(S),l=Math.round(l));var T=hG(v).map(function(C){return S+a*C});return n(_?T.reverse():T)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},e.copy=function(){return tx(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},Tr.apply(m(),arguments)}function eD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eD(t())},e}function pG(){return eD(tx.apply(null,arguments).paddingInner(1))}function nx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mc(){}var Ku=.7,ah=1/Ku,Vs="\\s*([+-]?\\d+)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mG=/^#([0-9a-f]{3,8})$/,gG=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),vG=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),yG=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Yu}\\)$`),bG=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Yu}\\)$`),xG=new RegExp(`^hsl\\(${Yu},${Qr},${Qr}\\)$`),_G=new RegExp(`^hsla\\(${Yu},${Qr},${Qr},${Yu}\\)$`),E1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nx(mc,Ju,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:T1,formatHex:T1,formatHex8:wG,formatHsl:SG,formatRgb:A1,toString:A1});function T1(){return this.rgb().formatHex()}function wG(){return this.rgb().formatHex8()}function SG(){return nD(this).formatHsl()}function A1(){return this.rgb().formatRgb()}function Ju(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mG.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?C1(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gG.exec(e))?new zn(t[1],t[2],t[3],1):(t=vG.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yG.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=bG.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xG.exec(e))?I1(t[1],t[2]/100,t[3]/100,1):(t=_G.exec(e))?I1(t[1],t[2]/100,t[3]/100,t[4]):E1.hasOwnProperty(e)?C1(E1[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function C1(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,n,r){return r<=0&&(e=t=n=NaN),new zn(e,t,n,r)}function EG(e){return e instanceof mc||(e=Ju(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function M0(e,t,n,r){return arguments.length===1?EG(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nx(zn,M0,tD(mc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ku:Math.pow(Ku,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(go(this.r),go(this.g),go(this.b),oh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N1,formatHex:N1,formatHex8:TG,formatRgb:O1,toString:O1}));function N1(){return`#${co(this.r)}${co(this.g)}${co(this.b)}`}function TG(){return`#${co(this.r)}${co(this.g)}${co(this.b)}${co((isNaN(this.opacity)?1:this.opacity)*255)}`}function O1(){const e=oh(this.opacity);return`${e===1?"rgb(":"rgba("}${go(this.r)}, ${go(this.g)}, ${go(this.b)}${e===1?")":`, ${e})`}`}function oh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function go(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function co(e){return e=go(e),(e<16?"0":"")+e.toString(16)}function I1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dr(e,t,n,r)}function nD(e){if(e instanceof Dr)return new Dr(e.h,e.s,e.l,e.opacity);if(e instanceof mc||(e=Ju(e)),!e)return new Dr;if(e instanceof Dr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new Dr(l,u,d,e.opacity)}function AG(e,t,n,r){return arguments.length===1?nD(e):new Dr(e,t,n,r??1)}function Dr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nx(Dr,AG,tD(mc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Dr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ku:Math.pow(Ku,e),new Dr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zn(hy(e>=240?e-240:e+120,i,r),hy(e,i,r),hy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dr(P1(this.h),tf(this.s),tf(this.l),oh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oh(this.opacity);return`${e===1?"hsl(":"hsla("}${P1(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function P1(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function hy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rx=e=>()=>e;function CG(e,t){return function(n){return e+n*t}}function NG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function OG(e){return(e=+e)==1?rD:function(t,n){return n-t?NG(t,n,e):rx(isNaN(t)?n:t)}}function rD(e,t){var n=t-e;return n?CG(e,n):rx(isNaN(e)?t:e)}const R1=(function e(t){var n=OG(t);function r(i,a){var l=n((i=M0(i)).r,(a=M0(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),f=rD(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function IG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function PG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=cl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function MG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function DG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=cl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var D0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,py=new RegExp(D0.source,"g");function kG(e){return function(){return e}}function jG(e){return function(t){return e(t)+""}}function LG(e,t){var n=D0.lastIndex=py.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=D0.exec(e))&&(i=py.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:sh(r,i)})),n=py.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?jG(d[0].x):kG(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function cl(e,t){var n=typeof t,r;return t==null||n==="boolean"?rx(t):(n==="number"?sh:n==="string"?(r=Ju(t))?(t=r,R1):LG:t instanceof Ju?R1:t instanceof Date?MG:PG(t)?IG:Array.isArray(t)?RG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DG:sh)(e,t)}function ix(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function UG(e,t){t===void 0&&(t=e,e=cl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function $G(e){return function(){return e}}function lh(e){return+e}var M1=[0,1];function Nn(e){return e}function k0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$G(isNaN(t)?NaN:.5)}function zG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BG(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=k0(i,r),a=n(l,a)):(r=k0(r,i),a=n(a,l)),function(u){return a(r(u))}}function qG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=k0(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var d=pc(e,u,1,r)-1;return a[d](i[d](u))}}function gc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sp(){var e=M1,t=M1,n=cl,r,i,a,l=Nn,u,d,f;function h(){var v=Math.min(e.length,t.length);return l!==Nn&&(l=zG(e[0],e[v-1])),u=v>2?qG:BG,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(i((f||(f=u(t,e.map(r),sh)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,lh),h()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=ix,h()},m.clamp=function(v){return arguments.length?(l=v?!0:Nn,h()):l!==Nn},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,_){return r=v,i=_,h()}}function ax(){return sp()(Nn,Nn)}function GG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nl(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function HG(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function FG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var VG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wu(e){if(!(t=VG.exec(e)))throw new Error("invalid format: "+e);var t;return new ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wu.prototype=ox.prototype;function ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ch;function YG(e,t){var n=uh(e,t);if(!n)return ch=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(ch=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+uh(e,Math.max(0,t+a-1))[0]}function D1(e,t){var n=uh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const k1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>D1(e*100,t),r:D1,s:YG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function j1(e){return e}var L1=Array.prototype.map,U1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JG(e){var t=e.grouping===void 0||e.thousands===void 0?j1:HG(L1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?j1:FG(L1.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,v){m=Wu(m);var _=m.fill,S=m.align,E=m.sign,T=m.symbol,C=m.zero,P=m.width,R=m.comma,I=m.precision,O=m.trim,M=m.type;M==="n"?(R=!0,M="g"):k1[M]||(I===void 0&&(I=12),O=!0,M="g"),(C||_==="0"&&S==="=")&&(C=!0,_="0",S="=");var k=(v&&v.prefix!==void 0?v.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),H=(T==="$"?r:/[%p]/.test(M)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),z=k1[M],ie=/[defgprs%]/.test(M);I=I===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function B(L){var G=k,J=H,ne,$,Z;if(M==="c")J=z(L)+J,L="";else{L=+L;var F=L<0||1/L<0;if(L=isNaN(L)?d:z(Math.abs(L),I),O&&(L=KG(L)),F&&+L==0&&E!=="+"&&(F=!1),G=(F?E==="("?E:u:E==="-"||E==="("?"":E)+G,J=(M==="s"&&!isNaN(L)&&ch!==void 0?U1[8+ch/3]:"")+J+(F&&E==="("?")":""),ie){for(ne=-1,$=L.length;++ne<$;)if(Z=L.charCodeAt(ne),48>Z||Z>57){J=(Z===46?i+L.slice(ne+1):L.slice(ne))+J,L=L.slice(0,ne);break}}}R&&!C&&(L=t(L,1/0));var le=G.length+L.length+J.length,he=le<P?new Array(P-le+1).join(_):"";switch(R&&C&&(L=t(he+L,he.length?P-J.length:1/0),he=""),S){case"<":L=G+L+J+he;break;case"=":L=G+he+L+J;break;case"^":L=he.slice(0,le=he.length>>1)+G+L+J+he.slice(le);break;default:L=he+G+L+J;break}return a(L)}return B.toString=function(){return m+""},B}function h(m,v){var _=Math.max(-8,Math.min(8,Math.floor(nl(v)/3)))*3,S=Math.pow(10,-_),E=f((m=Wu(m),m.type="f",m),{suffix:U1[8+_/3]});return function(T){return E(S*T)}}return{format:f,formatPrefix:h}}var nf,sx,iD;WG({thousands:",",grouping:[3],currency:["$",""]});function WG(e){return nf=JG(e),sx=nf.format,iD=nf.formatPrefix,nf}function XG(e){return Math.max(0,-nl(Math.abs(e)))}function ZG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nl(t)/3)))*3-nl(Math.abs(e)))}function QG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nl(t)-nl(e))+1}function aD(e,t,n,r){var i=P0(e,t,n),a;switch(r=Wu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ZG(i,l))&&(r.precision=a),iD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=QG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=XG(i))&&(r.precision=a-(r.type==="%")*2);break}}return sx(r)}function Pa(e){var t=e.domain;return e.ticks=function(n){var r=t();return O0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return aD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=I0(l,u,n),f===d)return r[i]=l,r[a]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function oD(){var e=ax();return e.copy=function(){return gc(e,oD())},Tr.apply(e,arguments),Pa(e)}function sD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,lh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return sD(e).unknown(t)},e=arguments.length?Array.from(e,lh):[0,1],Pa(n)}function lD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function $1(e){return Math.log(e)}function z1(e){return Math.exp(e)}function eH(e){return-Math.log(-e)}function tH(e){return-Math.exp(-e)}function nH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rH(e){return e===10?nH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B1(e){return(t,n)=>-e(-t,n)}function lx(e){const t=e($1,z1),n=t.domain;let r=10,i,a;function l(){return i=iH(r),a=rH(r),n()[0]<0?(i=B1(i),a=B1(a),e(eH,tH)):e($1,z1),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),_=i(h),S,E;const T=u==null?10:+u;let C=[];if(!(r%1)&&_-v<T){if(v=Math.floor(v),_=Math.ceil(_),f>0){for(;v<=_;++v)for(S=1;S<r;++S)if(E=v<0?S/a(-v):S*a(v),!(E<f)){if(E>h)break;C.push(E)}}else for(;v<=_;++v)for(S=r-1;S>=1;--S)if(E=v>0?S/a(-v):S*a(v),!(E<f)){if(E>h)break;C.push(E)}C.length*2<T&&(C=O0(f,h,T))}else C=O0(v,_,Math.min(_-v,T)).map(a);return m?C.reverse():C},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Wu(d)).precision==null&&(d.trim=!0),d=sx(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},t.nice=()=>n(lD(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function uD(){const e=lx(sp()).domain([1,10]);return e.copy=()=>gc(e,uD()).base(e.base()),Tr.apply(e,arguments),e}function q1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ux(e){var t=1,n=e(q1(t),G1(t));return n.constant=function(r){return arguments.length?e(q1(t=+r),G1(t)):t},Pa(n)}function cD(){var e=ux(sp());return e.copy=function(){return gc(e,cD()).constant(e.constant())},Tr.apply(e,arguments)}function H1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oH(e){return e<0?-e*e:e*e}function cx(e){var t=e(Nn,Nn),n=1;function r(){return n===1?e(Nn,Nn):n===.5?e(aH,oH):e(H1(n),H1(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pa(t)}function dx(){var e=cx(sp());return e.copy=function(){return gc(e,dx()).exponent(e.exponent())},Tr.apply(e,arguments),e}function sH(){return dx.apply(null,arguments).exponent(.5)}function F1(e){return Math.sign(e)*e*e}function lH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dD(){var e=ax(),t=[0,1],n=!1,r;function i(a){var l=lH(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(F1(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,lh)).map(F1)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tr.apply(i,arguments),Pa(i)}function fD(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=fG(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[pc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ca),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fD().domain(e).range(t).unknown(r)},Tr.apply(a,arguments)}function hD(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[pc(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return hD().domain([e,t]).range(i).unknown(a)},Tr.apply(Pa(l),arguments)}function pD(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[pc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pD().domain(e).range(t).unknown(n)},Tr.apply(i,arguments)}const my=new Date,gy=new Date;function Kt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let f;do d.push(f=new Date(+a)),t(a,u),e(a);while(f<a&&a<l);return d},i.filter=a=>Kt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(my.setTime(+a),gy.setTime(+l),e(my),e(gy),Math.floor(n(my,gy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const dh=Kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dh);dh.range;const Ai=1e3,xr=Ai*60,Ci=xr*60,Pi=Ci*24,fx=Pi*7,V1=Pi*30,vy=Pi*365,fo=Kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCSeconds());fo.range;const hx=Kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getMinutes());hx.range;const px=Kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCMinutes());px.range;const mx=Kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai-e.getMinutes()*xr)},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getHours());mx.range;const gx=Kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCHours());gx.range;const vc=Kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xr)/Pi,e=>e.getDate()-1);vc.range;const lp=Kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>e.getUTCDate()-1);lp.range;const mD=Kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>Math.floor(e/Pi));mD.range;function Oo(e){return Kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xr)/fx)}const up=Oo(0),fh=Oo(1),uH=Oo(2),cH=Oo(3),rl=Oo(4),dH=Oo(5),fH=Oo(6);up.range;fh.range;uH.range;cH.range;rl.range;dH.range;fH.range;function Io(e){return Kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fx)}const cp=Io(0),hh=Io(1),hH=Io(2),pH=Io(3),il=Io(4),mH=Io(5),gH=Io(6);cp.range;hh.range;hH.range;pH.range;il.range;mH.range;gH.range;const vx=Kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vx.range;const yx=Kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yx.range;const Ri=Kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ri.range;const Mi=Kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Mi.range;function gD(e,t,n,r,i,a){const l=[[fo,1,Ai],[fo,5,5*Ai],[fo,15,15*Ai],[fo,30,30*Ai],[a,1,xr],[a,5,5*xr],[a,15,15*xr],[a,30,30*xr],[i,1,Ci],[i,3,3*Ci],[i,6,6*Ci],[i,12,12*Ci],[r,1,Pi],[r,2,2*Pi],[n,1,fx],[t,1,V1],[t,3,3*V1],[e,1,vy]];function u(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const _=m&&typeof m.range=="function"?m:d(f,h,m),S=_?_.range(f,+h+1):[];return v?S.reverse():S}function d(f,h,m){const v=Math.abs(h-f)/m,_=Qb(([,,T])=>T).right(l,v);if(_===l.length)return e.every(P0(f/vy,h/vy,m));if(_===0)return dh.every(Math.max(P0(f,h,m),1));const[S,E]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return S.every(E)}return[u,d]}const[vH,yH]=gD(Mi,yx,cp,mD,gx,px),[bH,xH]=gD(Ri,vx,up,vc,mx,hx);function yy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function by(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _u(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _H(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=wu(i),h=Su(i),m=wu(a),v=Su(a),_=wu(l),S=Su(l),E=wu(u),T=Su(u),C=wu(d),P=Su(d),R={a:Z,A:F,b:le,B:he,c:null,d:Z1,e:Z1,f:HH,g:eF,G:nF,H:BH,I:qH,j:GH,L:vD,m:FH,M:VH,p:j,q:ee,Q:tN,s:nN,S:KH,u:YH,U:JH,V:WH,w:XH,W:ZH,x:null,X:null,y:QH,Y:tF,Z:rF,"%":eN},I={a:de,A:fe,b:_e,B:pe,c:null,d:Q1,e:Q1,f:sF,g:vF,G:bF,H:iF,I:aF,j:oF,L:bD,m:lF,M:uF,p:ce,q:tt,Q:tN,s:nN,S:cF,u:dF,U:fF,V:hF,w:pF,W:mF,x:null,X:null,y:gF,Y:yF,Z:xF,"%":eN},O={a:ie,A:B,b:L,B:G,c:J,d:W1,e:W1,f:LH,g:J1,G:Y1,H:X1,I:X1,j:MH,L:jH,m:RH,M:DH,p:z,q:PH,Q:$H,s:zH,S:kH,u:AH,U:CH,V:NH,w:TH,W:OH,x:ne,X:$,y:J1,Y:Y1,Z:IH,"%":UH};R.x=M(n,R),R.X=M(r,R),R.c=M(t,R),I.x=M(n,I),I.X=M(r,I),I.c=M(t,I);function M(te,Ce){return function(Le){var ue=[],Ye=-1,Me=0,ht=te.length,Mt,ar,Ki;for(Le instanceof Date||(Le=new Date(+Le));++Ye<ht;)te.charCodeAt(Ye)===37&&(ue.push(te.slice(Me,Ye)),(ar=K1[Mt=te.charAt(++Ye)])!=null?Mt=te.charAt(++Ye):ar=Mt==="e"?" ":"0",(Ki=Ce[Mt])&&(Mt=Ki(Le,ar)),ue.push(Mt),Me=Ye+1);return ue.push(te.slice(Me,Ye)),ue.join("")}}function k(te,Ce){return function(Le){var ue=_u(1900,void 0,1),Ye=H(ue,te,Le+="",0),Me,ht;if(Ye!=Le.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ce&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Me=by(_u(ue.y,0,1)),ht=Me.getUTCDay(),Me=ht>4||ht===0?hh.ceil(Me):hh(Me),Me=lp.offset(Me,(ue.V-1)*7),ue.y=Me.getUTCFullYear(),ue.m=Me.getUTCMonth(),ue.d=Me.getUTCDate()+(ue.w+6)%7):(Me=yy(_u(ue.y,0,1)),ht=Me.getDay(),Me=ht>4||ht===0?fh.ceil(Me):fh(Me),Me=vc.offset(Me,(ue.V-1)*7),ue.y=Me.getFullYear(),ue.m=Me.getMonth(),ue.d=Me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ht="Z"in ue?by(_u(ue.y,0,1)).getUTCDay():yy(_u(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ht+5)%7:ue.w+ue.U*7-(ht+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,by(ue)):yy(ue)}}function H(te,Ce,Le,ue){for(var Ye=0,Me=Ce.length,ht=Le.length,Mt,ar;Ye<Me;){if(ue>=ht)return-1;if(Mt=Ce.charCodeAt(Ye++),Mt===37){if(Mt=Ce.charAt(Ye++),ar=O[Mt in K1?Ce.charAt(Ye++):Mt],!ar||(ue=ar(te,Le,ue))<0)return-1}else if(Mt!=Le.charCodeAt(ue++))return-1}return ue}function z(te,Ce,Le){var ue=f.exec(Ce.slice(Le));return ue?(te.p=h.get(ue[0].toLowerCase()),Le+ue[0].length):-1}function ie(te,Ce,Le){var ue=_.exec(Ce.slice(Le));return ue?(te.w=S.get(ue[0].toLowerCase()),Le+ue[0].length):-1}function B(te,Ce,Le){var ue=m.exec(Ce.slice(Le));return ue?(te.w=v.get(ue[0].toLowerCase()),Le+ue[0].length):-1}function L(te,Ce,Le){var ue=C.exec(Ce.slice(Le));return ue?(te.m=P.get(ue[0].toLowerCase()),Le+ue[0].length):-1}function G(te,Ce,Le){var ue=E.exec(Ce.slice(Le));return ue?(te.m=T.get(ue[0].toLowerCase()),Le+ue[0].length):-1}function J(te,Ce,Le){return H(te,t,Ce,Le)}function ne(te,Ce,Le){return H(te,n,Ce,Le)}function $(te,Ce,Le){return H(te,r,Ce,Le)}function Z(te){return l[te.getDay()]}function F(te){return a[te.getDay()]}function le(te){return d[te.getMonth()]}function he(te){return u[te.getMonth()]}function j(te){return i[+(te.getHours()>=12)]}function ee(te){return 1+~~(te.getMonth()/3)}function de(te){return l[te.getUTCDay()]}function fe(te){return a[te.getUTCDay()]}function _e(te){return d[te.getUTCMonth()]}function pe(te){return u[te.getUTCMonth()]}function ce(te){return i[+(te.getUTCHours()>=12)]}function tt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Ce=M(te+="",R);return Ce.toString=function(){return te},Ce},parse:function(te){var Ce=k(te+="",!1);return Ce.toString=function(){return te},Ce},utcFormat:function(te){var Ce=M(te+="",I);return Ce.toString=function(){return te},Ce},utcParse:function(te){var Ce=k(te+="",!0);return Ce.toString=function(){return te},Ce}}}var K1={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,wH=/^%/,SH=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function EH(e){return e.replace(SH,"\\$&")}function wu(e){return new RegExp("^(?:"+e.map(EH).join("|")+")","i")}function Su(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function TH(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function AH(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CH(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function NH(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function OH(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Y1(e,t,n){var r=nn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function J1(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IH(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function PH(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function RH(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function W1(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function MH(e,t,n){var r=nn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function X1(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function DH(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kH(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jH(e,t,n){var r=nn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function LH(e,t,n){var r=nn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UH(e,t,n){var r=wH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $H(e,t,n){var r=nn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zH(e,t,n){var r=nn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Z1(e,t){return Xe(e.getDate(),t,2)}function BH(e,t){return Xe(e.getHours(),t,2)}function qH(e,t){return Xe(e.getHours()%12||12,t,2)}function GH(e,t){return Xe(1+vc.count(Ri(e),e),t,3)}function vD(e,t){return Xe(e.getMilliseconds(),t,3)}function HH(e,t){return vD(e,t)+"000"}function FH(e,t){return Xe(e.getMonth()+1,t,2)}function VH(e,t){return Xe(e.getMinutes(),t,2)}function KH(e,t){return Xe(e.getSeconds(),t,2)}function YH(e){var t=e.getDay();return t===0?7:t}function JH(e,t){return Xe(up.count(Ri(e)-1,e),t,2)}function yD(e){var t=e.getDay();return t>=4||t===0?rl(e):rl.ceil(e)}function WH(e,t){return e=yD(e),Xe(rl.count(Ri(e),e)+(Ri(e).getDay()===4),t,2)}function XH(e){return e.getDay()}function ZH(e,t){return Xe(fh.count(Ri(e)-1,e),t,2)}function QH(e,t){return Xe(e.getFullYear()%100,t,2)}function eF(e,t){return e=yD(e),Xe(e.getFullYear()%100,t,2)}function tF(e,t){return Xe(e.getFullYear()%1e4,t,4)}function nF(e,t){var n=e.getDay();return e=n>=4||n===0?rl(e):rl.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function rF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function Q1(e,t){return Xe(e.getUTCDate(),t,2)}function iF(e,t){return Xe(e.getUTCHours(),t,2)}function aF(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function oF(e,t){return Xe(1+lp.count(Mi(e),e),t,3)}function bD(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function sF(e,t){return bD(e,t)+"000"}function lF(e,t){return Xe(e.getUTCMonth()+1,t,2)}function uF(e,t){return Xe(e.getUTCMinutes(),t,2)}function cF(e,t){return Xe(e.getUTCSeconds(),t,2)}function dF(e){var t=e.getUTCDay();return t===0?7:t}function fF(e,t){return Xe(cp.count(Mi(e)-1,e),t,2)}function xD(e){var t=e.getUTCDay();return t>=4||t===0?il(e):il.ceil(e)}function hF(e,t){return e=xD(e),Xe(il.count(Mi(e),e)+(Mi(e).getUTCDay()===4),t,2)}function pF(e){return e.getUTCDay()}function mF(e,t){return Xe(hh.count(Mi(e)-1,e),t,2)}function gF(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function vF(e,t){return e=xD(e),Xe(e.getUTCFullYear()%100,t,2)}function yF(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function bF(e,t){var n=e.getUTCDay();return e=n>=4||n===0?il(e):il.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function xF(){return"+0000"}function eN(){return"%"}function tN(e){return+e}function nN(e){return Math.floor(+e/1e3)}var xs,_D,wD;_F({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _F(e){return xs=_H(e),_D=xs.format,xs.parse,wD=xs.utcFormat,xs.utcParse,xs}function wF(e){return new Date(e)}function SF(e){return e instanceof Date?+e:+new Date(+e)}function bx(e,t,n,r,i,a,l,u,d,f){var h=ax(),m=h.invert,v=h.domain,_=f(".%L"),S=f(":%S"),E=f("%I:%M"),T=f("%I %p"),C=f("%a %d"),P=f("%b %d"),R=f("%B"),I=f("%Y");function O(M){return(d(M)<M?_:u(M)<M?S:l(M)<M?E:a(M)<M?T:r(M)<M?i(M)<M?C:P:n(M)<M?R:I)(M)}return h.invert=function(M){return new Date(m(M))},h.domain=function(M){return arguments.length?v(Array.from(M,SF)):v().map(wF)},h.ticks=function(M){var k=v();return e(k[0],k[k.length-1],M??10)},h.tickFormat=function(M,k){return k==null?O:f(k)},h.nice=function(M){var k=v();return(!M||typeof M.range!="function")&&(M=t(k[0],k[k.length-1],M??10)),M?v(lD(k,M)):h},h.copy=function(){return gc(h,bx(e,t,n,r,i,a,l,u,d,f))},h}function EF(){return Tr.apply(bx(bH,xH,Ri,vx,up,vc,mx,hx,fo,_D).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TF(){return Tr.apply(bx(vH,yH,Mi,yx,cp,lp,gx,px,fo,wD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dp(){var e=0,t=1,n,r,i,a,l=Nn,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(v){var _,S;return arguments.length?([_,S]=v,l=m(_,S),f):[l(0),l(1)]}}return f.range=h(cl),f.rangeRound=h(ix),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function Ra(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SD(){var e=Pa(dp()(Nn));return e.copy=function(){return Ra(e,SD())},$i.apply(e,arguments)}function ED(){var e=lx(dp()).domain([1,10]);return e.copy=function(){return Ra(e,ED()).base(e.base())},$i.apply(e,arguments)}function TD(){var e=ux(dp());return e.copy=function(){return Ra(e,TD()).constant(e.constant())},$i.apply(e,arguments)}function xx(){var e=cx(dp());return e.copy=function(){return Ra(e,xx()).exponent(e.exponent())},$i.apply(e,arguments)}function AF(){return xx.apply(null,arguments).exponent(.5)}function AD(){var e=[],t=Nn;function n(r){if(r!=null&&!isNaN(r=+r))return t((pc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ca),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>dG(e,a/r))},n.copy=function(){return AD(t).domain(e)},$i.apply(n,arguments)}function fp(){var e=0,t=.5,n=1,r=1,i,a,l,u,d,f=Nn,h,m=!1,v;function _(E){return isNaN(E=+E)?v:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:d),f(m?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(E){return arguments.length?(m=!!E,_):m},_.interpolator=function(E){return arguments.length?(f=E,_):f};function S(E){return function(T){var C,P,R;return arguments.length?([C,P,R]=T,f=UG(E,[C,P,R]),_):[f(0),f(.5),f(1)]}}return _.range=S(cl),_.rangeRound=S(ix),_.unknown=function(E){return arguments.length?(v=E,_):v},function(E){return h=E,i=E(e),a=E(t),l=E(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function CD(){var e=Pa(fp()(Nn));return e.copy=function(){return Ra(e,CD())},$i.apply(e,arguments)}function ND(){var e=lx(fp()).domain([.1,1,10]);return e.copy=function(){return Ra(e,ND()).base(e.base())},$i.apply(e,arguments)}function OD(){var e=ux(fp());return e.copy=function(){return Ra(e,OD()).constant(e.constant())},$i.apply(e,arguments)}function _x(){var e=cx(fp());return e.copy=function(){return Ra(e,_x()).exponent(e.exponent())},$i.apply(e,arguments)}function CF(){return _x.apply(null,arguments).exponent(.5)}const Pu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tx,scaleDiverging:CD,scaleDivergingLog:ND,scaleDivergingPow:_x,scaleDivergingSqrt:CF,scaleDivergingSymlog:OD,scaleIdentity:sD,scaleImplicit:R0,scaleLinear:oD,scaleLog:uD,scaleOrdinal:ex,scalePoint:pG,scalePow:dx,scaleQuantile:fD,scaleQuantize:hD,scaleRadial:dD,scaleSequential:SD,scaleSequentialLog:ED,scaleSequentialPow:xx,scaleSequentialQuantile:AD,scaleSequentialSqrt:AF,scaleSequentialSymlog:TD,scaleSqrt:sH,scaleSymlog:cD,scaleThreshold:pD,scaleTime:EF,scaleUtc:TF,tickFormat:aD},Symbol.toStringTag,{value:"Module"}));var zi=e=>e.chartData,hp=X([zi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ID=(e,t,n,r)=>r?hp(e):zi(e),NF=(e,t,n)=>n?hp(e):zi(e);function Di(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ve(t)&&Ve(n))return!0}return!1}function rN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function PD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Ve(n))i=n;else if(typeof n=="function")return;if(Ve(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Di(l))return l}}function OF(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Di(r))return rN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(xe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&hC.test(i)){var d=hC.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(xe(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&pC.test(a)){var h=pC.exec(a);if(h==null||h[1]==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var v=[l,u];if(Di(v))return t==null?v:rN(v,t,n)}}}var dl=1e9,IF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sx,St=!0,Sr="[DecimalError] ",vo=Sr+"Invalid argument: ",wx=Sr+"Exponent out of range: ",fl=Math.floor,io=Math.pow,PF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,en=1e7,bt=7,RD=9007199254740991,ph=fl(RD/bt),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(e){return Ni(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,n=t.constructor;return dt(Ni(t,new n(e),0,1),n.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return qt(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Zn))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(Zn)?new r(0):(St=!1,t=Ni(Xu(n,a),Xu(e,a),a),St=!0,dt(t,i))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kD(t,e):MD(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Sr+"NaN");return n.s?(St=!1,t=Ni(n,e,0,1).times(e),St=!0,n.minus(t)):dt(new r(n),i)};ye.naturalExponential=ye.exp=function(){return DD(this)};ye.naturalLogarithm=ye.ln=function(){return Xu(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MD(t,e):kD(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vo+e);if(t=qt(i)+1,r=i.d.length-1,n=r*bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ye.squareRoot=ye.sqrt=function(){var e,t,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Sr+"NaN")}for(e=qt(u),St=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Zr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=fl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(Ni(u,a,l+2)).times(.5),Zr(a.d).slice(0,l)===(t=Zr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(dt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return St=!0,dt(r,n)};ye.times=ye.mul=function(e){var t,n,r,i,a,l,u,d,f,h=this,m=h.constructor,v=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,d=v.length,f=_.length,d<f&&(a=v,v=_,_=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=a[i]+_[r]*v[i-r-1]+t,a[i--]=u%en|0,t=u/en|0;a[i]=(a[i]+t)%en|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,St?dt(e,m.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ri(e,0,dl),t===void 0?t=r.rounding:ri(t,0,8),dt(n,e+qt(n)+1,t))};ye.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Co(r,!0):(ri(e,0,dl),t===void 0?t=i.rounding:ri(t,0,8),r=dt(new i(r),e+1,t),n=Co(r,!0,e+1)),n};ye.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Co(i):(ri(e,0,dl),t===void 0?t=a.rounding:ri(t,0,8),r=dt(new a(i),e+qt(i)+1,t),n=Co(r.abs(),!1,e+qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return dt(new t(e),qt(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,n,r,i,a,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(Zn);if(u=new d(u),!u.s){if(e.s<1)throw Error(Sr+"Infinity");return u}if(u.eq(Zn))return u;if(r=d.precision,e.eq(Zn))return dt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=RD){for(i=new d(Zn),t=Math.ceil(r/bt+4),St=!1;n%2&&(i=i.times(u),aN(i.d,t)),n=fl(n/2),n!==0;)u=u.times(u),aN(u.d,t);return St=!0,e.s<0?new d(Zn).div(i):dt(i,r)}}else if(a<0)throw Error(Sr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,St=!1,i=e.times(Xu(u,r+f)),St=!0,i=DD(i),i.s=a,i};ye.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=qt(i),r=Co(i,n<=a.toExpNeg||n>=a.toExpPos)):(ri(e,1,dl),t===void 0?t=a.rounding:ri(t,0,8),i=dt(new a(i),e,t),n=qt(i),r=Co(i,e<=n||n<=a.toExpNeg,e)),r};ye.toSignificantDigits=ye.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ri(e,1,dl),t===void 0?t=r.rounding:ri(t,0,8)),dt(new r(n),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qt(e),n=e.constructor;return Co(e,t<=n.toExpNeg||t>=n.toExpPos)};function MD(e,t){var n,r,i,a,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),St?dt(t,m):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(m/bt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/en|0,d[a]%=en;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,St?dt(t,m):t}function ri(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vo+e)}function Zr(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=bt-r.length,n&&(a+=ba(n)),a+=r;l=e[t],r=l+"",n=bt-r.length,n&&(a+=ba(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Ni=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%en|0,l=a/en|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*en+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,f,h,m,v,_,S,E,T,C,P,R,I,O,M,k,H,z=r.constructor,ie=r.s==i.s?1:-1,B=r.d,L=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Sr+"Division by zero");for(d=r.e-i.e,k=L.length,O=B.length,_=new z(ie),S=_.d=[],f=0;L[f]==(B[f]||0);)++f;if(L[f]>(B[f]||0)&&--d,a==null?P=a=z.precision:l?P=a+(qt(r)-qt(i))+1:P=a,P<0)return new z(0);if(P=P/bt+2|0,f=0,k==1)for(h=0,L=L[0],P++;(f<O||h)&&P--;f++)R=h*en+(B[f]||0),S[f]=R/L|0,h=R%L|0;else{for(h=en/(L[0]+1)|0,h>1&&(L=e(L,h),B=e(B,h),k=L.length,O=B.length),I=k,E=B.slice(0,k),T=E.length;T<k;)E[T++]=0;H=L.slice(),H.unshift(0),M=L[0],L[1]>=en/2&&++M;do h=0,u=t(L,E,k,T),u<0?(C=E[0],k!=T&&(C=C*en+(E[1]||0)),h=C/M|0,h>1?(h>=en&&(h=en-1),m=e(L,h),v=m.length,T=E.length,u=t(m,E,v,T),u==1&&(h--,n(m,k<v?H:L,v))):(h==0&&(u=h=1),m=L.slice()),v=m.length,v<T&&m.unshift(0),n(E,m,T),u==-1&&(T=E.length,u=t(L,E,k,T),u<1&&(h++,n(E,k<T?H:L,T))),T=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[T++]=B[I]||0:(E=[B[I]],T=1);while((I++<O||E[0]!==void 0)&&P--)}return S[0]||S.shift(),_.e=d,dt(_,l?a+qt(_)+1:a)}})();function DD(e,t){var n,r,i,a,l,u,d=0,f=0,h=e.constructor,m=h.precision;if(qt(e)>16)throw Error(wx+qt(e));if(!e.s)return new h(Zn);for(St=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(io(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Zn),h.precision=u;;){if(i=dt(i.times(e),u),n=n.times(++d),l=a.plus(Ni(i,n,u)),Zr(l.d).slice(0,u)===Zr(a.d).slice(0,u)){for(;f--;)a=dt(a.times(a),u);return h.precision=m,t==null?(St=!0,dt(a,m)):a}a=l}}function qt(e){for(var t=e.e*bt,n=e.d[0];n>=10;n/=10)t++;return t}function xy(e,t,n){if(t>e.LN10.sd())throw St=!0,n&&(e.precision=n),Error(Sr+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function ba(e){for(var t="";e--;)t+="0";return t}function Xu(e,t){var n,r,i,a,l,u,d,f,h,m=1,v=10,_=e,S=_.d,E=_.constructor,T=E.precision;if(_.s<1)throw Error(Sr+(_.s?"NaN":"-Infinity"));if(_.eq(Zn))return new E(0);if(t==null?(St=!1,f=T):f=t,_.eq(10))return t==null&&(St=!0),xy(E,f);if(f+=v,E.precision=f,n=Zr(S),r=n.charAt(0),a=qt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=Zr(_.d),r=n.charAt(0),m++;a=qt(_),r>1?(_=new E("0."+n),a++):_=new E(r+"."+n.slice(1))}else return d=xy(E,f+2,T).times(a+""),_=Xu(new E(r+"."+n.slice(1)),f-v).plus(d),E.precision=T,t==null?(St=!0,dt(_,T)):_;for(u=l=_=Ni(_.minus(Zn),_.plus(Zn),f),h=dt(_.times(_),f),i=3;;){if(l=dt(l.times(h),f),d=u.plus(Ni(l,new E(i),f)),Zr(d.d).slice(0,f)===Zr(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(xy(E,f+2,T).times(a+""))),u=Ni(u,new E(m),f),E.precision=T,t==null?(St=!0,dt(u,T)):u;u=d,i+=2}}function iN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=fl(n/bt),e.d=[],r=(n+1)%bt,n<0&&(r+=bt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=bt;r<i;)e.d.push(+t.slice(r,r+=bt));t=t.slice(r),r=bt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),St&&(e.e>ph||e.e<-ph))throw Error(wx+n)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,n){var r,i,a,l,u,d,f,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=bt,i=t,f=m[h=0];else{if(h=Math.ceil((r+1)/bt),a=m.length,h>=a)return e;for(f=a=m[h],l=1;a>=10;a/=10)l++;r%=bt,i=r-bt+l}if(n!==void 0&&(a=io(10,l-i-1),u=f/a%10|0,d=t<0||m[h+1]!==void 0||f%a,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/io(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(a=qt(e),m.length=1,t=t-a-1,m[0]=io(10,(bt-t%bt)%bt),e.e=fl(-t/bt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=io(10,bt-r),m[h]=i>0?(f/io(10,l-i)%io(10,i)|0)*a:0),d)for(;;)if(h==0){(m[0]+=a)==en&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=en)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(St&&(e.e>ph||e.e<-ph))throw Error(wx+qt(e));return e}function kD(e,t){var n,r,i,a,l,u,d,f,h,m,v=e.constructor,_=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),St?dt(t,_):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=m.length):(n=m,r=f,u=d.length),i=Math.max(Math.ceil(_/bt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=en-1;--d[a],d[i]+=en}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,St?dt(t,_):t):new v(0)}function Co(e,t,n){var r,i=qt(e),a=Zr(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+ba(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ba(-i-1)+a,n&&(r=n-l)>0&&(a+=ba(r))):i>=l?(a+=ba(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+ba(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=ba(r))),e.s<0?"-"+a:a}function aN(e,t){if(e.length>t)return e.length=t,!0}function jD(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vo+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return iN(l,a.toString())}else if(typeof a!="string")throw Error(vo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,PF.test(a))iN(l,a);else throw Error(vo+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jD,i.config=i.set=RF,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function RF(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,n,r,i=["precision",1,dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(fl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(vo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vo+n+": "+r);return this}var Sx=jD(IF);Zn=new Sx(1);const it=Sx;function LD(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function UD(e,t,n){for(var r=new it(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var $D=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},zD=(e,t,n)=>{if(e.lte(0))return new it(0);var r=LD(e.toNumber()),i=new it(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new it(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new it(d.toNumber()):new it(Math.ceil(d.toNumber()))},MF=(e,t,n)=>{var r=new it(1),i=new it(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new it(10).pow(LD(e)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new it(Math.floor(e)))}else e===0?i=new it(Math.floor((t-1)/2)):n||(i=new it(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(i.add(new it(d-l).mul(r)).toNumber());return u},BD=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var l=zD(new it(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new it(0):(u=new it(t).add(n).div(2),u=u.sub(new it(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new it(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?BD(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new it(d).mul(l)),tickMax:u.add(new it(f).mul(l))})},DF=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=$D([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return n>r?f.reverse():f}if(u===d)return MF(u,i,a);var{step:h,tickMin:m,tickMax:v}=BD(u,d,l,a,0),_=UD(m,v.add(new it(.1).mul(h)),h);return n>r?_.reverse():_},kF=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=$D([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=zD(new it(u).sub(l).div(d-1),a,0),h=[...UD(new it(l),new it(u),f),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},jF=e=>e.rootProps.barCategoryGap,yc=e=>e.rootProps.stackOffset,qD=e=>e.rootProps.reverseStackOrder,Ex=e=>e.options.chartName,Tx=e=>e.rootProps.syncId,GD=e=>e.rootProps.syncMethod,Ax=e=>e.options.eventEmitter,LF=e=>e.rootProps.baseValue,gn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Jr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},pp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function mp(e,t,n){if(n!=="auto")return n;if(e!=null)return ii(e,t)?"category":"number"}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){UF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UF(e,t,n){return(t=$F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){var t=zF(e,"string");return typeof t=="symbol"?t:t+""}function zF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sN={allowDataOverflow:Qa.allowDataOverflow,allowDecimals:Qa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qa.angleAxisId,includeHidden:!1,name:void 0,reversed:Qa.reversed,scale:Qa.scale,tick:Qa.tick,tickCount:void 0,ticks:void 0,type:Qa.type,unit:void 0},lN={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:Jr.includeHidden,name:void 0,reversed:Jr.reversed,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:Jr.type,unit:void 0},BF=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Cx=X([BF,OM],(e,t)=>{var n;if(e!=null)return e;var r=(n=mp(t,"angleAxis",sN.type))!==null&&n!==void 0?n:"category";return mh(mh({},sN),{},{type:r})}),qF=(e,t)=>e.polarAxis.radiusAxis[t],Nx=X([qF,OM],(e,t)=>{var n;if(e!=null)return e;var r=(n=mp(t,"radiusAxis",lN.type))!==null&&n!==void 0?n:"category";return mh(mh({},lN),{},{type:r})}),gp=e=>e.polarOptions,Ox=X([Li,Ui,tn],VM),HD=X([gp,Ox],(e,t)=>{if(e!=null)return tr(e.innerRadius,t,0)}),FD=X([gp,Ox],(e,t)=>{if(e!=null)return tr(e.outerRadius,t,t*.8)}),GF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},VD=X([gp],GF);X([Cx,VD],pp);var KD=X([Ox,HD,FD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});X([Nx,KD],pp);var YD=X([ft,gp,HD,FD,Li,Ui],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:tr(l,i,i/2),cy:tr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Et=(e,t)=>t,bc=(e,t,n)=>n;function Ix(e){return e==null?void 0:e.id}function JD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=Ix(u);f.forEach((m,v)=>{var _=a==null||i?v:String(xt(m,a,null)),S=xt(m,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[h]:S}),l.set(_,E)})}}),Array.from(l.values())}function Px(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var vp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function yp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function HF(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var rn=e=>{var t=ft(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},hl=e=>e.tooltip.settings.axisId;function FF(e){if(e in Pu)return Pu[e]();var t="scale".concat(sc(e));if(t in Pu)return Pu[t]()}function uN(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],u=i[1];return l<=u?a>=l&&a<=u:a>=u&&a<=l},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,l)=>{var u=e(a);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var d=e.bandwidth();switch(l.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function cN(e,t,n){if(typeof e=="function")return uN(e.copy().domain(t).range(n));if(e!=null){var r=FF(e);if(r!=null)return r.domain(t).range(n),uN(r)}}var WD=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Di(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];Ve(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){VF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VF(e,t,n){return(t=KF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KF(e){var t=YF(e,"string");return typeof t=="symbol"?t:t+""}function YF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j0=[0,"auto"],Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XD=(e,t)=>e.cartesianAxis.xAxis[t],Bi=(e,t)=>{var n=XD(e,t);return n??Zt},Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cc},ZD=(e,t)=>e.cartesianAxis.yAxis[t],qi=(e,t)=>{var n=ZD(e,t);return n??Qt},JF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??JF},It=(e,t,n)=>{switch(t){case"xAxis":return Bi(e,n);case"yAxis":return qi(e,n);case"zAxis":return Rx(e,n);case"angleAxis":return Cx(e,n);case"radiusAxis":return Nx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},WF=(e,t,n)=>{switch(t){case"xAxis":return Bi(e,n);case"yAxis":return qi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pl=(e,t,n)=>{switch(t){case"xAxis":return Bi(e,n);case"yAxis":return qi(e,n);case"angleAxis":return Cx(e,n);case"radiusAxis":return Nx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},QD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Mx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ek=e=>e.graphicalItems.cartesianItems,XF=X([Et,bc],Mx),Dx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),xc=X([ek,It,XF],Dx,{memoizeOptions:{resultEqualityCheck:yp}}),tk=X([xc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Px)),nk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ZF=X([xc],nk),kx=e=>e.map(t=>t.data).filter(Boolean).flat(1),QF=X([xc],kx,{memoizeOptions:{resultEqualityCheck:yp}}),jx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Lx=X([QF,ID],jx),Ux=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:xt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:xt(i,r)}))):e.map(r=>({value:r})),bp=X([Lx,It,xc],Ux);function rk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Tf(e){if(ti(e)||e instanceof Date){var t=Number(e);if(Ve(t))return t}}function fN(e){if(Array.isArray(e)){var t=[Tf(e[0]),Tf(e[1])];return Di(t)?t:void 0}var n=Tf(e);if(n!=null)return[n,n]}function ki(e){return e.map(Tf).filter($n)}function eV(e,t,n){return!n||typeof t!="number"||ei(t)?[]:n.length?ki(n.flatMap(r=>{var i=xt(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!Ve(a)||!Ve(l)))return[t-a,t+l]})):[]}var Yt=e=>{var t=rn(e),n=hl(e);return pl(e,t,n)},_c=X([Yt],e=>e==null?void 0:e.dataKey),tV=X([tk,ID,Yt],JD),ik=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,h=f.map(Ix);return[u,{stackedData:w3(e,h,n),graphicalItems:f}]}))},ak=X([tV,tk,yc,qD],ik),ok=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=A3(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},nV=X([It],e=>e.allowDataOverflow),$x=e=>{var t;if(e==null||!("domain"in e))return j0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ki(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:j0},zx=X([It],$x),Bx=X([zx,nV],PD),rV=X([ak,zi,Et,Bx],ok,{memoizeOptions:{resultEqualityCheck:vp}}),xp=e=>e.errorBars,iV=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>rk(n,r)),vh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},qx=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var f,h,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(C=>rk(i,C)),v=xt(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),_=eV(u,v,m);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(a==null||S<a)&&(a=S),(l==null||E>l)&&(l=E)}var T=fN(v);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=fN(xt(u,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Ve(a)&&Ve(l))return[a,l]},aV=X([Lx,It,ZF,xp,Et],qx,{memoizeOptions:{resultEqualityCheck:vp}});function oV(e){var{value:t}=e;if(ti(t)||t instanceof Date)return t}var sV=(e,t,n)=>{var r=e.map(oV).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&TR(r))?WM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},sk=e=>e.referenceElements.dots,ml=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),lV=X([sk,Et,bc],ml),lk=e=>e.referenceElements.areas,uV=X([lk,Et,bc],ml),uk=e=>e.referenceElements.lines,cV=X([uk,Et,bc],ml),ck=(e,t)=>{if(e!=null){var n=ki(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},dV=X(lV,Et,ck),dk=(e,t)=>{if(e!=null){var n=ki(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},fV=X([uV,Et],dk);function hV(e){var t;if(e.x!=null)return ki([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ki(n)}function pV(e){var t;if(e.y!=null)return ki([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ki(n)}var fk=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?hV(r):pV(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},mV=X([cV,Et],fk),gV=X(dV,mV,fV,(e,t,n)=>vh(e,n,t)),Gx=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?vh(r,a,i):vh(a,i);return OF(t,f,e.allowDataOverflow)},vV=X([It,zx,Bx,rV,aV,gV,ft,Et],Gx,{memoizeOptions:{resultEqualityCheck:vp}}),yV=[0,1],Hx=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=ii(t,a);if(f&&u==null){var h;return WM(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?sV(r,e,f):i==="expand"?yV:l}},Fx=X([It,ft,Lx,bp,yc,Et,vV],Hx);function bV(e){return e in Pu}var hk=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(sc(r));return bV(a)?a:"point"}}},Ma=X([It,QD,Ex],hk);function Vx(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?cN(e.scale,n,r):cN(t,n,r)}var Kx=(e,t,n)=>{var r=$x(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Di(e))return DF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Di(e))return kF(e,t.tickCount,t.allowDecimals)}},Yx=X([Fx,pl,Ma],Kx),Jx=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Di(t)&&Array.isArray(n)&&n.length>0){var i,a,l=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,d=t[1],f=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,u),Math.max(d,f)]}return t},xV=X([It,Fx,Yx,Et],Jx),_V=X(bp,It,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ki(e.map(m=>m.value))).sort((m,v)=>m-v),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],f=r[u+1];if(!(d==null||f==null)){var h=f-d;n=Math.min(n,h)}}return n/l}}),pk=X(_V,ft,jF,tn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ve(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=tr(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),wV=(e,t,n)=>{var r=Bi(e,t);return r==null||typeof r.padding!="string"?0:pk(e,"xAxis",t,n,r.padding)},SV=(e,t,n)=>{var r=qi(e,t);return r==null||typeof r.padding!="string"?0:pk(e,"yAxis",t,n,r.padding)},EV=X(Bi,wV,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),TV=X(qi,SV,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),AV=X([tn,EV,ep,Qh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),CV=X([tn,ft,TV,ep,Qh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),wc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return AV(e,n,r);case"yAxis":return CV(e,n,r);case"zAxis":return(i=Rx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return VD(e);case"radiusAxis":return KD(e,n);default:return}},mk=X([It,wc],pp),NV=X([Ma,xV],WD),_p=X([It,Ma,NV,mk],Vx);X([xc,xp,Et],iV);function gk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wp=(e,t)=>t,Sp=(e,t,n)=>n,OV=X(Xh,wp,Sp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(gk)),IV=X(Zh,wp,Sp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(gk)),vk=(e,t)=>({width:e.width,height:t.height}),PV=(e,t)=>{var n=typeof t.width=="number"?t.width:cc;return{width:n,height:e.height}},RV=X(tn,Bi,vk),MV=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},DV=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},kV=X(Ui,tn,OV,wp,Sp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=vk(t,u);l==null&&(l=MV(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),jV=X(Li,tn,IV,wp,Sp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=PV(t,u);l==null&&(l=DV(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),LV=(e,t)=>{var n=Bi(e,t);if(n!=null)return kV(e,n.orientation,n.mirror)},UV=X([tn,Bi,LV,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),$V=(e,t)=>{var n=qi(e,t);if(n!=null)return jV(e,n.orientation,n.mirror)},zV=X([tn,qi,$V,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),BV=X(tn,qi,(e,t)=>{var n=typeof t.width=="number"?t.width:cc;return{width:n,height:e.height}}),yk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=ii(e,r),d=t.map(f=>f.value);if(l&&u&&a==="category"&&i&&TR(d))return d}},Wx=X([ft,bp,It,Et],yk),bk=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ii(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Xx=X([ft,bp,pl,Et],bk),hN=X([ft,WF,Ma,_p,Wx,Xx,wc,Yx,Et],(e,t,n,r,i,a,l,u,d)=>{if(t!=null){var f=ii(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),qV=(e,t,n,r,i,a,l,u,d)=>{if(!(t==null||r==null)){var f=ii(e,d),{type:h,ticks:m,tickCount:v}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/_:0;S=d==="angleAxis"&&a!=null&&a.length>=2?En(a[0]-a[1])*2*S:S;var E=m||i;return E?E.map((T,C)=>{var P=l?l.indexOf(T):T,R=r.map(P);return Ve(R)?{index:C,coordinate:R+S,value:T,offset:S}:null}).filter($n):f&&u?u.map((T,C)=>{var P=r.map(T);return Ve(P)?{coordinate:P+S,value:T,index:C,offset:S}:null}).filter($n):r.ticks?r.ticks(v).map((T,C)=>{var P=r.map(T);return Ve(P)?{coordinate:P+S,value:T,index:C,offset:S}:null}).filter($n):r.domain().map((T,C)=>{var P=r.map(T);return Ve(P)?{coordinate:P+S,value:l?l[T]:T,index:C,offset:S}:null}).filter($n)}},xk=X([ft,pl,Ma,_p,Yx,wc,Wx,Xx,Et],qV),GV=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ii(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?En(r[0]-r[1])*2*f:f,u&&a?a.map((h,m)=>{var v=n.map(h);return Ve(v)?{coordinate:v+f,value:h,index:m,offset:f}:null}).filter($n):n.ticks?n.ticks(d).map((h,m)=>{var v=n.map(h);return Ve(v)?{coordinate:v+f,value:h,index:m,offset:f}:null}).filter($n):n.domain().map((h,m)=>{var v=n.map(h);return Ve(v)?{coordinate:v+f,value:i?i[h]:h,index:m,offset:f}:null}).filter($n)}},_k=X([ft,pl,_p,wc,Wx,Xx,Et],GV),wk=X(It,_p,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),HV=X([It,Ma,Fx,mk],Vx);X((e,t,n)=>Rx(e,n),HV,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})});var FV=X([ft,Xh,Zh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Sk=e=>e.options.defaultTooltipEventType,Ek=e=>e.options.validateTooltipEventTypes;function Tk(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Zx(e,t){var n=Sk(e),r=Ek(e);return Tk(t,n,r)}function VV(e){return Ee(t=>Zx(t,e))}var Ak=(e,t)=>{var n,r=Number(t);if(!(ei(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},KV=e=>e.tooltip.settings,wa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},YV={itemInteraction:{click:wa,hover:wa},axisInteraction:{click:wa,hover:wa},keyboardInteraction:wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Ck=Bn({name:"tooltip",initialState:YV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:wt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=kr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:wt()},removeTooltipEntrySettings:{reducer(e,t){var n=kr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:wt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:JV,replaceTooltipEntrySettings:WV,removeTooltipEntrySettings:XV,setTooltipSettingsState:ZV,setActiveMouseOverItemIndex:Nk,mouseLeaveItem:QV,mouseLeaveChart:Ok,setActiveClickItemIndex:e8,setMouseOverAxisIndex:Ik,setMouseClickAxisIndex:t8,setSyncInteraction:L0,setKeyboardInteraction:U0}=Ck.actions,n8=Ck.reducer;function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){r8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r8(e,t,n){return(t=i8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o8(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function s8(e){return e.index!=null}var Pk=(e,t,n,r)=>{if(t==null)return wa;var i=o8(e,t,n);if(i==null)return wa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(s8(i)){if(a)return rf(rf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rf(rf({},wa),{},{coordinate:i.coordinate})};function l8(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function u8(e,t){var n=l8(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function c8(e,t,n){if(n==null||t==null)return!0;var r=xt(e,t);return r==null||!Di(n)?!0:u8(r,n)}var Qx=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Ve(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(a,u)),f=t[d];return f==null||c8(f,n,r)?String(d):null},Rk=(e,t,n,r,i,a,l)=>{if(a!=null){var u=l[0],d=u==null?void 0:u.getPosition(a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},Mk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Dk=e=>e.options.tooltipPayloadSearcher,gl=e=>e.tooltip;function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){d8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d8(e,t,n){return(t=f8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(e,t){return e??t}var kk=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,m=[];return e.reduce((v,_)=>{var S,{dataDefinedOnItem:E,settings:T}=_,C=p8(E,u),P=Array.isArray(C)?yM(C,f,h):C,R=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,I=T==null?void 0:T.nameKey,O;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?O=AR(P,r,i):O=a(P,t,d,I),Array.isArray(O))O.forEach(k=>{var H=gN(gN({},T),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push(mC({tooltipEntrySettings:H,dataKey:k.dataKey,payload:k.payload,value:xt(k.payload,k.dataKey),name:k.name}))});else{var M;v.push(mC({tooltipEntrySettings:T,dataKey:R,payload:O,value:xt(O,R),name:(M=xt(O,I))!==null&&M!==void 0?M:T==null?void 0:T.name}))}return v},m)}},e_=X([Yt,QD,Ex],hk),m8=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),g8=X([rn,hl],Mx),vl=X([m8,Yt,g8],Dx,{memoizeOptions:{resultEqualityCheck:yp}}),v8=X([vl],e=>e.filter(Px)),y8=X([vl],kx,{memoizeOptions:{resultEqualityCheck:yp}}),yl=X([y8,zi],jx),b8=X([v8,zi,Yt],JD),t_=X([yl,Yt,vl],Ux),jk=X([Yt],$x),x8=X([Yt],e=>e.allowDataOverflow),Lk=X([jk,x8],PD),_8=X([vl],e=>e.filter(Px)),w8=X([b8,_8,yc,qD],ik),S8=X([w8,zi,rn,Lk],ok),E8=X([vl],nk),T8=X([yl,Yt,E8,xp,rn],qx,{memoizeOptions:{resultEqualityCheck:vp}}),A8=X([sk,rn,hl],ml),C8=X([A8,rn],ck),N8=X([lk,rn,hl],ml),O8=X([N8,rn],dk),I8=X([uk,rn,hl],ml),P8=X([I8,rn],fk),R8=X([C8,P8,O8],vh),M8=X([Yt,jk,Lk,S8,T8,R8,ft,rn],Gx),Sc=X([Yt,ft,yl,t_,yc,rn,M8],Hx),D8=X([Sc,Yt,e_],Kx),k8=X([Yt,Sc,D8,rn],Jx),Uk=e=>{var t=rn(e),n=hl(e),r=!1;return wc(e,t,n,r)},$k=X([Yt,Uk],pp),zk=X([Yt,e_,k8,$k],Vx),j8=X([ft,t_,Yt,rn],yk),L8=X([ft,t_,Yt,rn],bk),U8=(e,t,n,r,i,a,l,u)=>{if(t){var{type:d}=t,f=ii(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?En(i[0]-i[1])*2*m:m,f&&l?l.map((v,_)=>{var S=r.map(v);return Ve(S)?{coordinate:S+m,value:v,index:_,offset:m}:null}).filter($n):r.domain().map((v,_)=>{var S=r.map(v);return Ve(S)?{coordinate:S+m,value:a?a[v]:v,index:_,offset:m}:null}).filter($n)}}},Gi=X([ft,Yt,e_,zk,Uk,j8,L8,rn],U8),n_=X([Sk,Ek,KV],(e,t,n)=>Tk(n.shared,e,t)),Bk=e=>e.tooltip.settings.trigger,r_=e=>e.tooltip.settings.defaultIndex,Ec=X([gl,n_,Bk,r_],Pk),al=X([Ec,yl,_c,Sc],Qx),qk=X([Gi,al],Ak),Gk=X([Ec],e=>{if(e)return e.dataKey}),$8=X([Ec],e=>{if(e)return e.graphicalItemId}),Hk=X([gl,n_,Bk,r_],Mk),z8=X([Li,Ui,ft,tn,Gi,r_,Hk],Rk),B8=X([Ec,z8],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),q8=X([Ec],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),G8=X([Hk,al,zi,_c,qk,Dk,n_],kk),H8=X([G8],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(r){F8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F8(e,t,n){return(t=V8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V8(e){var t=K8(e,"string");return typeof t=="symbol"?t:t+""}function K8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y8=()=>Ee(Yt),J8=()=>{var e=Y8(),t=Ee(Gi),n=Ee(zk);return Yf(!e||!n?void 0:yN(yN({},e),{},{scale:n}),t)};function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){W8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W8(e,t,n){return(t=X8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q8=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},eK=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return _s(_s(_s({},r),Bt(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return _s(_s(_s({},r),Bt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tK(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Fk=(e,t,n,r,i)=>{var a,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,h,m,v,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,T=void 0;if(!(_==null||S==null||E==null))if(En(S-_)!==En(E-S)){var C=[];if(En(E-S)===En(i[1]-i[0])){T=E;var P=S+i[1]-i[0];C[0]=Math.min(P,(P+_)/2),C[1]=Math.max(P,(P+_)/2)}else{T=_;var R=E+i[1]-i[0];C[0]=Math.min(S,(R+S)/2),C[1]=Math.max(S,(R+S)/2)}var I=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>I[0]&&e<=I[1]||e>=C[0]&&e<=C[1]){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}else{var M=Math.min(_,E),k=Math.max(_,E);if(e>(M+S)/2&&e<=(k+S)/2){var H;return(H=n[u])===null||H===void 0?void 0:H.index}}}else if(t)for(var z=0;z<l;z++){var ie=t[z];if(ie!=null){var B=t[z+1],L=t[z-1];if(z===0&&B!=null&&e<=(ie.coordinate+B.coordinate)/2||z===l-1&&L!=null&&e>(ie.coordinate+L.coordinate)/2||z>0&&z<l-1&&L!=null&&B!=null&&e>(ie.coordinate+L.coordinate)/2&&e<=(ie.coordinate+B.coordinate)/2)return ie.index}}return-1},Vk=()=>Ee(Ex),i_=(e,t)=>t,Kk=(e,t,n)=>n,a_=(e,t,n,r)=>r,nK=X(Gi,e=>zh(e,t=>t.coordinate)),o_=X([gl,i_,Kk,a_],Pk),s_=X([o_,yl,_c,Sc],Qx),rK=(e,t,n)=>{if(t!=null){var r=gl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Yk=X([gl,i_,Kk,a_],Mk),yh=X([Li,Ui,ft,tn,Gi,a_,Yk],Rk),iK=X([o_,yh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Jk=X([Gi,s_],Ak),aK=X([Yk,s_,zi,_c,Jk,Dk,i_],kk),oK=X([o_,s_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),sK=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&tK(e,l)){var u=C3(e,t),d=Fk(u,a,i,n,r),f=Q8(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},lK=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=H5(e,n);if(u){var d=N3(u,t),f=Fk(d,l,a,r,i),h=eK(t,a,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},uK=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?sK(e,t,r,i,a,l,u):lK(e,t,n,r,i,a,l)},cK=X(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),dK=X(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(gn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:HF}});function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=hK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mK={},gK={zIndexMap:Object.values(gn).reduce((e,t)=>_N(_N({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),mK)},vK=new Set(Object.values(gn));function yK(e){return vK.has(e)}var Wk=Bn({name:"zIndex",initialState:gK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:wt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!yK(n)&&delete e.zIndexMap[n])},prepare:wt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:wt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:wt()}}}),{registerZIndexPortal:bK,unregisterZIndexPortal:xK,registerZIndexPortalElement:_K,unregisterZIndexPortalElement:wK}=Wk.actions,SK=Wk.reducer;function Br(e){var{zIndex:t,children:n}=e,r=a6(),i=r&&t!==void 0&&t!==0,a=qn(),l=gt();A.useLayoutEffect(()=>i?(l(bK({zIndex:t})),()=>{l(xK({zIndex:t}))}):ll,[l,t,i]);var u=Ee(d=>cK(d,t,a));return i?u?Cb.createPortal(n,u):null:n}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){EK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EK(e,t,n){return(t=TK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CK(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function NK(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,m=n,v=r,_=i;if(!d||!m||h!=="ScatterChart"&&f!=="axis")return null;var S,E,T;if(h==="ScatterChart")S=m,E=i5,T=gn.cursorLine;else if(h==="BarChart")S=a5(u,m,a,l),E=FM,T=gn.cursorRectangle;else if(u==="radial"&&NR(m)){var{cx:C,cy:P,radius:R,startAngle:I,endAngle:O}=KM(m);S={cx:C,cy:P,startAngle:I,endAngle:O,innerRadius:R,outerRadius:R},E=JM,T=gn.cursorLine}else S={points:Y5(u,m,a)},E=Fs,T=gn.cursorLine;var M=typeof d=="object"&&"className"in d?d.className:void 0,k=af(af(af(af({stroke:"#ccc",pointerEvents:"none"},a),S),Zs(d)),{},{payload:v,payloadIndex:_,className:et("recharts-tooltip-cursor",M)});return A.createElement(Br,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},A.createElement(CK,{cursor:d,cursorComp:E,cursorProps:k}))}function OK(e){var t=J8(),n=NM(),r=ul(),i=Vk();return t==null||n==null||r==null||i==null?null:A.createElement(NK,$0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Xk=A.createContext(null),IK=()=>A.useContext(Xk),_y={exports:{}},SN;function PK(){return SN||(SN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function a(d,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||d,v),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],_]:d._events[S].push(_):(d._events[S]=_,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,S=new Array(_);v<_;v++)S[v]=m[v].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,v,_,S){var E=n?n+f:f;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,P,R;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,v),!0;case 5:return T.fn.call(T.context,h,m,v,_),!0;case 6:return T.fn.call(T.context,h,m,v,_,S),!0}for(R=1,P=new Array(C-1);R<C;R++)P[R-1]=arguments[R];T.fn.apply(T.context,P)}else{var I=T.length,O;for(R=0;R<I;R++)switch(T[R].once&&this.removeListener(f,T[R].fn,void 0,!0),C){case 1:T[R].fn.call(T[R].context);break;case 2:T[R].fn.call(T[R].context,h);break;case 3:T[R].fn.call(T[R].context,h,m);break;case 4:T[R].fn.call(T[R].context,h,m,v);break;default:if(!P)for(O=1,P=new Array(C-1);O<C;O++)P[O-1]=arguments[O];T[R].fn.apply(T[R].context,P)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,v){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!v||S.once)&&(!m||S.context===m)&&l(this,_);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==h||v&&!S[E].once||m&&S[E].context!==m)&&T.push(S[E]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(_y)),_y.exports}var RK=PK();const MK=$r(RK);var Zu=new MK,z0="recharts.syncEvent.tooltip",EN="recharts.syncEvent.brush",Zk=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!ei(n))return e[n]}},DK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Qk=Bn({name:"options",initialState:DK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kK=Qk.reducer,{createEventEmitter:jK}=Qk.actions;function LK(e){return e.tooltip.syncInteraction}var UK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e2=Bn({name:"chartData",initialState:UK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:TN,setDataStartEndIndexes:$K,setComputedData:Dle}=e2.actions,zK=e2.reducer,BK=["x","y"];function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){qK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qK(e,t,n){return(t=GK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e,t){if(e==null)return{};var n,r,i=VK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KK(){var e=Ee(Tx),t=Ee(Ax),n=gt(),r=Ee(GD),i=Ee(Gi),a=ul(),l=tp(),u=Ee(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return ll;var d=(f,h,m)=>{if(t!==m&&e===f){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:S,y:E}=_,T=FK(_,BK),{x:C,y:P,width:R,height:I}=h.payload.sourceViewBox,O=ws(ws({},T),{},{x:l.x+(R?(S-C)/R:0)*l.width,y:l.y+(I?(E-P)/I:0)*l.height});n(ws(ws({},h),{},{payload:ws(ws({},h.payload),{},{coordinate:O})}))}else n(h);return}if(i!=null){var M;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,k);M=i[H]}else r==="value"&&(M=i.find($=>String($.value)===h.payload.label));var{coordinate:z}=h.payload;if(M==null||h.payload.active===!1||z==null||l==null){n(L0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ie,y:B}=z,L=Math.min(ie,l.x+l.width),G=Math.min(B,l.y+l.height),J={x:a==="horizontal"?M.coordinate:L,y:a==="horizontal"?G:M.coordinate},ne=L0({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(M.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ne)}}};return Zu.on(z0,d),()=>{Zu.off(z0,d)}},[u,n,t,e,r,i,a,l])}function YK(){var e=Ee(Tx),t=Ee(Ax),n=gt();A.useEffect(()=>{if(e==null)return ll;var r=(i,a,l)=>{t!==l&&e===i&&n($K(a))};return Zu.on(EN,r),()=>{Zu.off(EN,r)}},[n,t,e])}function JK(){var e=gt();A.useEffect(()=>{e(jK())},[e]),KK(),YK()}function WK(e,t,n,r,i,a){var l=Ee(_=>rK(_,e,t)),u=Ee(Ax),d=Ee(Tx),f=Ee(GD),h=Ee(LK),m=h==null?void 0:h.active,v=tp();A.useEffect(()=>{if(!m&&d!=null&&u!=null){var _=L0({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Zu.emit(z0,d,_,u)}},[m,n,l,i,r,u,d,f,a,v])}function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){XK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XK(e,t,n){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e7(e){return e.dataKey}function t7(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(L6,t)}var ON=[],n7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Af(e){var t,n,r=Vt(e,n7),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:v,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:C,shared:P,trigger:R,defaultIndex:I,portal:O,axisId:M}=r,k=gt(),H=typeof I=="number"?String(I):I;A.useEffect(()=>{k(ZV({shared:P,trigger:R,axisId:M,active:i,defaultIndex:H}))},[k,P,R,M,i,H]);var z=tp(),ie=zM(),B=VV(P),{activeIndex:L,isActive:G}=(t=Ee(ce=>oK(ce,B,R,H)))!==null&&t!==void 0?t:{},J=Ee(ce=>aK(ce,B,R,H)),ne=Ee(ce=>Jk(ce,B,R,H)),$=Ee(ce=>iK(ce,B,R,H)),Z=J,F=IK(),le=(n=i??G)!==null&&n!==void 0?n:!1,[he,j]=qR([Z,le]),ee=B==="axis"?ne:void 0;WK(B,R,$,ee,L,le);var de=O??F;if(de==null||z==null||B==null)return null;var fe=Z??ON;le||(fe=ON),f&&fe.length&&(fe=LR(fe.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),v,e7));var _e=fe.length>0,pe=A.createElement(H6,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:le,coordinate:$,hasPayload:_e,offset:m,position:_,reverseDirection:S,useTranslate3d:E,viewBox:z,wrapperStyle:T,lastBoundingBox:he,innerRef:j,hasPortalFromProps:!!O},t7(d,NN(NN({},r),{},{payload:fe,label:ee,active:le,activeIndex:L,coordinate:$,accessibilityLayer:ie})));return A.createElement(A.Fragment,null,Cb.createPortal(pe,de),le&&A.createElement(OK,{cursor:C,tooltipEventType:B,coordinate:$,payload:fe,index:L}))}var Ks=e=>null;Ks.displayName="Cell";function r7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class o7{constructor(t){r7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){l7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l7(e,t,n){return(t=u7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d7={cacheSize:2e3,enableCache:!0},t2=s7({},d7),PN=new o7(t2.cacheSize),f7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RN="recharts_measurement_span";function h7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var MN=(e,t)=>{try{var n=document.getElementById(RN);n||(n=document.createElement("span"),n.setAttribute("id",RN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,f7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ku=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hc.isSsr)return{width:0,height:0};if(!t2.enableCache)return MN(t,n);var r=h7(t,n),i=PN.get(r);if(i)return i;var a=MN(t,n);return PN.set(r,a),a},n2;function p7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,y7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,b7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x7=["cm","mm","pt","pc","in","Q","px"];function _7(e){return x7.includes(e)}var $s="NaN";function w7(e,t){return e*b7[t]}class pn{static parse(t){var n,[,r,i]=(n=y7.exec(t))!==null&&n!==void 0?n:[];return r==null?pn.NaN:new pn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ei(t)&&(this.unit=""),n!==""&&!v7.test(n)&&(this.num=NaN,this.unit=""),_7(n)&&(this.num=w7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new pn(NaN,""):new pn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pn(NaN,""):new pn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pn(NaN,""):new pn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pn(NaN,""):new pn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ei(this.num)}}n2=pn;p7(pn,"NaN",new n2(NaN,""));function r2(e){if(e==null||e.includes($s))return $s;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=DN.exec(t))!==null&&n!==void 0?n:[],l=pn.parse(r??""),u=pn.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return $s;t=t.replace(DN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,v]=(f=kN.exec(t))!==null&&f!==void 0?f:[],_=pn.parse(h??""),S=pn.parse(v??""),E=m==="+"?_.add(S):_.subtract(S);if(E.isNaN())return $s;t=t.replace(kN,E.toString())}return t}var jN=/\(([^()]*)\)/;function S7(e){for(var t=e,n;(n=jN.exec(t))!=null;){var[,r]=n;t=t.replace(jN,r2(r))}return t}function E7(e){var t=e.replace(/\s+/g,"");return t=S7(t),t=r2(t),t}function T7(e){try{return E7(e)}catch{return $s}}function wy(e){var t=T7(e.slice(5,-1));return t===$s?"":t}var A7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],C7=["dx","dy","angle","className","breakAll"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function LN(e,t){if(e==null)return{};var n,r,i=N7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i2=/[ \f\n\r\t\v\u2028\u2029]+/,a2=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];yn(t)||(n?i=t.toString().split(""):i=t.toString().split(i2));var a=i.map(u=>({word:u,width:ku(u,r).width})),l=n?0:ku("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function O7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var o2=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),s2=e=>e.reduce((t,n)=>t.width>n.width?t:n),I7="",UN=(e,t,n,r,i,a,l,u)=>{var d=e.slice(0,t),f=a2({breakAll:n,style:r,children:d+I7});if(!f)return[!1,[]];var h=o2(f.wordsWithComputedWidth,a,l,u),m=h.length>i||s2(h).width>Number(a);return[m,h]},P7=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=e,f=xe(a),h=String(l),m=o2(t,r,n,i);if(!f||i)return m;var v=m.length>a||s2(m).width>Number(r);if(!v)return m;for(var _=0,S=h.length-1,E=0,T;_<=S&&E<=h.length-1;){var C=Math.floor((_+S)/2),P=C-1,[R,I]=UN(h,P,d,u,a,r,n,i),[O]=UN(h,C,d,u,a,r,n,i);if(!R&&!O&&(_=C+1),R&&O&&(S=C-1),!R&&O){T=I;break}E++}return T||m},$N=e=>{var t=yn(e)?[]:e.toString().split(i2);return[{words:t,width:void 0}]},R7=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!hc.isSsr){var u,d,f=a2({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;u=h,d=m}else return $N(r);return P7({breakAll:a,children:r,maxLines:l,style:i},u,d,t,!!n)}return $N(r)},l2="#808080",M7={angle:0,breakAll:!1,capHeight:"0.71em",fill:l2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ep=A.forwardRef((e,t)=>{var n=Vt(e,M7),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,m=LN(n,A7),v=A.useMemo(()=>R7({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:_,dy:S,angle:E,className:T,breakAll:C}=m,P=LN(m,C7);if(!ti(r)||!ti(i)||v.length===0)return null;var R=Number(r)+(xe(_)?_:0),I=Number(i)+(xe(S)?S:0);if(!Ve(R)||!Ve(I))return null;var O;switch(h){case"start":O=wy("calc(".concat(l,")"));break;case"middle":O=wy("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:O=wy("calc(".concat(v.length-1," * -").concat(a,")"));break}var M=[],k=v[0];if(d&&k!=null){var H=k.width,{width:z}=m;M.push("scale(".concat(xe(z)&&xe(H)?z/H:1,")"))}return E&&M.push("rotate(".concat(E,", ").concat(R,", ").concat(I,")")),M.length&&(P.transform=M.join(" ")),A.createElement("text",B0({},On(P),{ref:t,x:R,y:I,className:et("recharts-text",T),textAnchor:f,fill:u.includes("url")?l2:u}),v.map((ie,B)=>{var L=ie.words.join(C?"":" ");return A.createElement("tspan",{x:R,dy:B===0?O:a,key:"".concat(L,"-").concat(B)},L)}))});Ep.displayName="Text";function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){D7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L7=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:l,height:u,upperWidth:d,lowerWidth:f}=Kb(t),h=a,m=a+(d-f)/2,v=(h+m)/2,_=(d+f)/2,S=h+d/2,E=u>=0?1:-1,T=E*r,C=E>0?"end":"start",P=E>0?"start":"end",R=d>=0?1:-1,I=R*r,O=R>0?"end":"start",M=R>0?"start":"end",k=i;if(n==="top"){var H={x:h+d/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:C};return k&&(H.height=Math.max(l-k.y,0),H.width=d),H}if(n==="bottom"){var z={x:m+f/2,y:l+u+T,horizontalAnchor:"middle",verticalAnchor:P};return k&&(z.height=Math.max(k.y+k.height-(l+u),0),z.width=f),z}if(n==="left"){var ie={x:v-I,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return k&&(ie.width=Math.max(ie.x-k.x,0),ie.height=u),ie}if(n==="right"){var B={x:v+_+I,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"};return k&&(B.width=Math.max(k.x+k.width-B.x,0),B.height=u),B}var L=k?{width:_,height:u}:{};return n==="insideLeft"?Wr({x:v+I,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"},L):n==="insideRight"?Wr({x:v+_-I,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"},L):n==="insideTop"?Wr({x:h+d/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:P},L):n==="insideBottom"?Wr({x:m+f/2,y:l+u-T,horizontalAnchor:"middle",verticalAnchor:C},L):n==="insideTopLeft"?Wr({x:h+I,y:l+T,horizontalAnchor:M,verticalAnchor:P},L):n==="insideTopRight"?Wr({x:h+d-I,y:l+T,horizontalAnchor:O,verticalAnchor:P},L):n==="insideBottomLeft"?Wr({x:m+I,y:l+u-T,horizontalAnchor:M,verticalAnchor:C},L):n==="insideBottomRight"?Wr({x:m+f-I,y:l+u-T,horizontalAnchor:O,verticalAnchor:C},L):n&&typeof n=="object"&&(xe(n.x)||So(n.x))&&(xe(n.y)||So(n.y))?Wr({x:a+tr(n.x,_),y:l+tr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},L):Wr({x:S,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},U7=["labelRef"],$7=["content"];function BN(e,t){if(e==null)return{};var n,r,i=z7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(r){B7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ti.apply(null,arguments)}var u2=A.createContext(null),H7=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return A.createElement(u2.Provider,{value:d},u)},c2=()=>{var e=A.useContext(u2),t=tp();return e||(t?Kb(t):void 0)},F7=A.createContext(null),V7=()=>{var e=A.useContext(F7),t=Ee(YD);return e||t},K7=e=>{var{value:t,formatter:n}=e,r=yn(e.children)?t:e.children;return typeof n=="function"?n(r):r},l_=e=>e!=null&&typeof e=="function",Y7=(e,t)=>{var n=En(t-e),r=Math.min(Math.abs(t-e),360);return n*r},J7=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:v,clockWise:_}=i,S=(f+h)/2,E=Y7(m,v),T=E>=0?1:-1,C,P;switch(t){case"insideStart":C=m+T*a,P=_;break;case"insideEnd":C=v-T*a,P=!_;break;case"end":C=v+T*a,P=_;break;default:throw new Error("Unsupported position ".concat(t))}P=E<=0?P:!P;var R=Bt(u,d,S,C),I=Bt(u,d,S,C+(P?1:-1)*359),O="M".concat(R.x,",").concat(R.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),M=yn(e.id)?$u("recharts-radial-line-"):e.id;return A.createElement("text",Ti({},r,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:M,d:O})),A.createElement("textPath",{xlinkHref:"#".concat(M)},n))},W7=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:m}=Bt(r,i,l+t,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:_,y:S}=Bt(r,i,v,f);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Cf=e=>e!=null&&"cx"in e&&xe(e.cx),X7={angle:0,offset:5,zIndex:gn.label,position:"middle",textBreakAll:!1};function Z7(e){if(!Cf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function xa(e){var t=Vt(e,X7),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:u,className:d="",textBreakAll:f,labelRef:h}=t,m=V7(),v=c2(),_=i==="center"?v:m??v,S,E,T;n==null?S=_:Cf(n)?S=n:S=Kb(n);var C=Z7(S);if(!S||yn(a)&&yn(l)&&!A.isValidElement(u)&&typeof u!="function")return null;var P=Ru(Ru({},t),{},{viewBox:S});if(A.isValidElement(u)){var{labelRef:R}=P,I=BN(P,U7);return A.cloneElement(u,I)}if(typeof u=="function"){var{content:O}=P,M=BN(P,$7);if(E=A.createElement(u,M),A.isValidElement(E))return E}else E=K7(t);var k=On(t);if(Cf(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return J7(t,i,E,k,S);T=W7(S,t.offset,t.position)}else{if(!C)return null;var H=L7({viewBox:C,position:i,offset:t.offset,parentViewBox:Cf(r)?void 0:r});T=Ru(Ru({x:H.x,y:H.y,textAnchor:H.horizontalAnchor,verticalAnchor:H.verticalAnchor},H.width!==void 0?{width:H.width}:{}),H.height!==void 0?{height:H.height}:{})}return A.createElement(Br,{zIndex:t.zIndex},A.createElement(Ep,Ti({ref:h,className:et("recharts-label",d)},k,T,{textAnchor:O7(k.textAnchor)?k.textAnchor:T.textAnchor,breakAll:f}),E))}xa.displayName="Label";var Q7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(xa,Ti({key:"label-implicit"},r)):ti(e)?A.createElement(xa,Ti({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===xa?A.cloneElement(e,Ru({key:"label-implicit"},r)):A.createElement(xa,Ti({key:"label-implicit",content:e},r)):l_(e)?A.createElement(xa,Ti({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(xa,Ti({},e,{key:"label-implicit"},r)):null};function e9(e){var{label:t,labelRef:n}=e,r=c2();return Q7(t,r,n)||null}var Sy={},Ey={},GN;function t9(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ey)),Ey}var Ty={},HN;function n9(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Ty)),Ty}var FN;function r9(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t9(),n=n9(),r=Lb();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Sy)),Sy}var Ay,VN;function i9(){return VN||(VN=1,Ay=r9().last),Ay}var a9=i9();const o9=$r(a9);var s9=["valueAccessor"],l9=["dataKey","clockWise","id","textBreakAll","zIndex"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function KN(e,t){if(e==null)return{};var n,r,i=u9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c9=e=>Array.isArray(e.value)?o9(e.value):e.value,d2=A.createContext(void 0),d9=d2.Provider,f2=A.createContext(void 0),f9=f2.Provider;function h9(){return A.useContext(d2)}function p9(){return A.useContext(f2)}function Nf(e){var{valueAccessor:t=c9}=e,n=KN(e,s9),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,d=KN(n,l9),f=h9(),h=p9(),m=f||h;return!m||!m.length?null:A.createElement(Br,{zIndex:u??gn.label},A.createElement(vn,{className:"recharts-label-list"},m.map((v,_)=>{var S,E=yn(r)?t(v,_):xt(v.payload,r),T=yn(a)?{}:{id:"".concat(a,"-").concat(_)};return A.createElement(xa,bh({key:"label-".concat(_)},On(v),d,T,{fill:(S=n.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:E,textBreakAll:l,viewBox:v.viewBox,index:_,zIndex:0}))})))}Nf.displayName="LabelList";function h2(e){var{label:t}=e;return t?t===!0?A.createElement(Nf,{key:"labelList-implicit"}):A.isValidElement(t)||l_(t)?A.createElement(Nf,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Nf,bh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}var p2=e=>{var{cx:t,cy:n,r,className:i}=e,a=et("recharts-dot",i);return xe(t)&&xe(n)&&xe(r)?A.createElement("circle",q0({},rr(e),kb(e),{className:a,cx:t,cy:n,r})):null},m2=e=>e.graphicalItems.polarItems,m9=X([Et,bc],Mx),Tp=X([m2,It,m9],Dx),g9=X([Tp],kx),Ap=X([g9,hp],jx),v9=X([Ap,It,Tp],Ux);X([Ap,It,Tp],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,l=xt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:xt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var YN=()=>{},y9=X([Ap,It,Tp,xp,Et],qx),b9=X([It,zx,Bx,YN,y9,YN,ft,Et],Gx),g2=X([It,ft,Ap,v9,yc,Et,b9],Hx),x9=X([g2,pl,Ma],Kx),_9=X([It,g2,x9,Et],Jx);X([Ma,_9],WD);var w9={radiusAxis:{},angleAxis:{}},v2=Bn({name:"polarAxis",initialState:w9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kle,removeRadiusAxis:jle,addAngleAxis:Lle,removeAngleAxis:Ule}=v2.actions,S9=v2.reducer;function y2(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){E9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E9(e,t,n){return(t=T9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C9=(e,t)=>t,u_=X([m2,C9],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),N9=[],c_=(e,t,n)=>(n==null?void 0:n.length)===0?N9:n,b2=X([hp,u_,c_],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>WN(WN({},t.presentationProps),a.props))),i!=null)return i}}),O9=X([b2,u_,c_],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,l=xt(r,t.nameKey,t.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Wh(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),I9=X([b2,u_,c_,tn],(e,t,n,r)=>{if(!(t==null||e==null))return LY({offset:r,pieSettings:t,displayedData:e,cells:n})}),Cy={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN;function P9(){if(XN)return ut;XN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case d:case f:case v:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case m:case h:return E;case a:return E;default:return T}}case t:return T}}}return ut.ContextConsumer=a,ut.ContextProvider=l,ut.Element=e,ut.ForwardRef=u,ut.Fragment=n,ut.Lazy=m,ut.Memo=h,ut.Portal=t,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=d,ut.SuspenseList=f,ut.isContextConsumer=function(E){return S(E)===a},ut.isContextProvider=function(E){return S(E)===l},ut.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},ut.isForwardRef=function(E){return S(E)===u},ut.isFragment=function(E){return S(E)===n},ut.isLazy=function(E){return S(E)===m},ut.isMemo=function(E){return S(E)===h},ut.isPortal=function(E){return S(E)===t},ut.isProfiler=function(E){return S(E)===i},ut.isStrictMode=function(E){return S(E)===r},ut.isSuspense=function(E){return S(E)===d},ut.isSuspenseList=function(E){return S(E)===f},ut.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},ut.typeOf=S,ut}var ZN;function R9(){return ZN||(ZN=1,Cy.exports=P9()),Cy.exports}var M9=R9(),QN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eO=null,Ny=null,x2=e=>{if(e===eO&&Array.isArray(Ny))return Ny;var t=[];return A.Children.forEach(e,n=>{yn(n)||(M9.isFragment(n)?t=t.concat(x2(n.props.children)):t.push(n))}),Ny=t,eO=e,t};function _2(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>QN(i)):r=[QN(t)],x2(e).forEach(i=>{var a=wo(i,"type.displayName")||wo(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var w2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Oy={},tO;function D9(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Oy)),Oy}var Iy,nO;function k9(){return nO||(nO=1,Iy=D9().isPlainObject),Iy}var j9=k9();const L9=$r(j9);var rO,iO,aO,oO,sO;function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(r){U9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U9(e,t,n){return(t=$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}function Eu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cO=(e,t,n,r,i)=>{var a=n-r,l;return l=Nt(rO||(rO=Eu(["M ",",",""])),e,t),l+=Nt(iO||(iO=Eu(["L ",",",""])),e+n,t),l+=Nt(aO||(aO=Eu(["L ",",",""])),e+n-a/2,t+i),l+=Nt(oO||(oO=Eu(["L ",",",""])),e+n-a/2-r,t+i),l+=Nt(sO||(sO=Eu(["L ",","," Z"])),e,t),l},B9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q9=e=>{var t=Vt(e,B9),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,v=A.useRef(null),[_,S]=A.useState(-1),E=A.useRef(i),T=A.useRef(a),C=A.useRef(l),P=A.useRef(n),R=A.useRef(r),I=op(e,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var J=v.current.getTotalLength();J&&S(J)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var O=et("recharts-trapezoid",u);if(!m)return A.createElement("g",null,A.createElement("path",xh({},On(t),{className:O,d:cO(n,r,i,a,l)})));var M=E.current,k=T.current,H=C.current,z=P.current,ie=R.current,B="0px ".concat(_===-1?1:_,"px"),L="".concat(_,"px 0px"),G=BM(["strokeDasharray"],f,d);return A.createElement(ap,{animationId:I,key:I,canBegin:_>0,duration:f,easing:d,isActive:m,begin:h},J=>{var ne=mn(M,i,J),$=mn(k,a,J),Z=mn(H,l,J),F=mn(z,n,J),le=mn(ie,r,J);v.current&&(E.current=ne,T.current=$,C.current=Z,P.current=F,R.current=le);var he=J>0?{transition:G,strokeDasharray:L}:{strokeDasharray:B};return A.createElement("path",xh({},On(t),{className:O,d:cO(F,le,ne,$,Z),ref:v,style:uO(uO({},he),t.style)}))})},G9=["option","shapeType","activeClassName"];function H9(e,t){if(e==null)return{};var n,r,i=F9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){V9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J9(e,t){return _h(_h({},t),e)}function W9(e,t){return e==="symbols"}function fO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(FM,n);case"trapezoid":return A.createElement(q9,n);case"sector":return A.createElement(JM,n);case"symbols":if(W9(t))return A.createElement(Db,n);break;case"curve":return A.createElement(Fs,n);default:return null}}function X9(e){return A.isValidElement(e)?e.props:e}function Z9(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=H9(e,G9),a;if(A.isValidElement(t))a=A.cloneElement(t,_h(_h({},i),X9(t)));else if(typeof t=="function")a=t(i,i.index);else if(L9(t)&&typeof t!="boolean"){var l=J9(t,i);a=A.createElement(fO,{shapeType:n,elementProps:l})}else{var u=i;a=A.createElement(fO,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(vn,{className:r},a):a}var Q9=(e,t,n)=>{var r=gt();return(i,a)=>l=>{e==null||e(i,a,l),r(Nk({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},eY=e=>{var t=gt();return(n,r)=>i=>{e==null||e(n,r,i),t(QV())}},tY=(e,t,n)=>{var r=gt();return(i,a)=>l=>{e==null||e(i,a,l),r(e8({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function S2(e){var{tooltipEntrySettings:t}=e,n=gt(),r=qn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(JV(t)):i.current!==t&&n(WV({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(XV(i.current)),i.current=null)},[n]),null}function nY(e){var{legendPayload:t}=e,n=gt(),r=qn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(LM(t)):i.current!==t&&n(UM({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n($M(i.current)),i.current=null)},[n]),null}function rY(e){var{legendPayload:t}=e,n=gt(),r=Ee(ft),i=A.useRef(null);return A.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(LM(t)):i.current!==t&&n(UM({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n($M(i.current)),i.current=null)},[n]),null}var Py,iY=()=>{var[e]=A.useState(()=>$u("uid-"));return e},aY=(Py=F$.useId)!==null&&Py!==void 0?Py:iY;function oY(e,t){var n=aY();return t||(e?"".concat(e,"-").concat(n):n)}var sY=A.createContext(void 0),E2=e=>{var{id:t,type:n,children:r}=e,i=oY("recharts-".concat(n),t);return A.createElement(sY.Provider,{value:i},r(i))},lY={cartesianItems:[],polarItems:[]},T2=Bn({name:"graphicalItems",initialState:lY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:wt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=kr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:wt()},removeCartesianGraphicalItem:{reducer(e,t){var n=kr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:wt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:wt()},removePolarGraphicalItem:{reducer(e,t){var n=kr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:wt()}}}),{addCartesianGraphicalItem:uY,replaceCartesianGraphicalItem:cY,removeCartesianGraphicalItem:dY,addPolarGraphicalItem:fY,removePolarGraphicalItem:hY}=T2.actions,pY=T2.reducer,mY=e=>{var t=gt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(uY(e)):n.current!==e&&t(cY({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(dY(n.current)),n.current=null)},[t]),null},gY=A.memo(mY);function vY(e){var t=gt();return A.useLayoutEffect(()=>(t(fY(e)),()=>{t(hY(e))}),[t,e]),null}var yY=["key"],bY=["onMouseEnter","onClick","onMouseLeave"],xY=["id"],_Y=["id"];function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return(t=SY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}function Cp(e,t){if(e==null)return{};var n,r,i=TY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AY(e){var t=A.useMemo(()=>_2(e.children,Ks),[e.children]),n=Ee(r=>O9(r,e.id,t));return n==null?null:A.createElement(rY,{legendPayload:n})}var CY=A.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:u,hide:d,tooltipType:f,id:h}=e,m={dataDefinedOnItem:r.map(v=>v.tooltipPayload),getPosition:v=>{var _;return(_=r[Number(v)])===null||_===void 0?void 0:_.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:l,dataKey:t,nameKey:n,name:Wh(u,t),hide:d,type:f,color:l,unit:"",graphicalItemId:h}};return A.createElement(S2,{tooltipEntrySettings:m})}),NY=(e,t)=>e>t?"start":e<t?"end":"middle",OY=(e,t,n)=>tr(typeof t=="function"?t(e):t,n,n*.8),IY=(e,t,n)=>{var{top:r,left:i,width:a,height:l}=t,u=VM(a,l),d=i+tr(e.cx,a,a/2),f=r+tr(e.cy,l,l/2),h=tr(e.innerRadius,u,0),m=OY(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:m,maxRadius:v}},PY=(e,t)=>{var n=En(t-e),r=Math.min(Math.abs(t-e),360);return n*r},RY=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var n=et("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Cp(t,yY);return A.createElement(Fs,Ia({},i,{type:"linear",className:n}))},MY=(e,t,n)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),A.isValidElement(r)))return r;var i=et("recharts-pie-label-text",y2(e));return A.createElement(Ep,Ia({},t,{alignmentBaseline:"middle",className:i}),r)};function DY(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!t)return null;var u=rr(n),d=Zs(i),f=Zs(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=t.map((v,_)=>{var S=(v.startAngle+v.endAngle)/2,E=Bt(v.cx,v.cy,v.outerRadius+h,S),T=Ot(Ot(Ot(Ot({},u),v),{},{stroke:"none"},d),{},{index:_,textAnchor:NY(E.x,v.cx)},E),C=Ot(Ot(Ot(Ot({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:_,points:[Bt(v.cx,v.cy,v.outerRadius,S),E],key:"line"});return A.createElement(Br,{zIndex:gn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},A.createElement(vn,null,a&&RY(a,C),MY(i,T,xt(v,l))))});return A.createElement(vn,{className:"recharts-pie-labels"},m)}function kY(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(h2,{label:i}):A.createElement(DY,{sectors:t,props:n,showLabels:r})}function jY(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:l}=e,u=Ee(al),d=Ee(Gk),f=Ee($8),{onMouseEnter:h,onClick:m,onMouseLeave:v}=i,_=Cp(i,bY),S=Q9(h,i.dataKey,l),E=eY(v),T=tY(m,i.dataKey,l);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((C,P)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var R=f==null||f===l,I=String(P)===u&&(d==null||i.dataKey===d)&&R,O=u?r:null,M=n&&I?n:O,k=Ot(Ot({},C),{},{stroke:C.stroke,tabIndex:-1,[wM]:P,[SM]:l});return A.createElement(vn,Ia({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(P),tabIndex:-1,className:"recharts-pie-sector"},jb(_,C,P),{onMouseEnter:S(C,P),onMouseLeave:E(C,P),onClick:T(C,P)}),A.createElement(Z9,Ia({option:a??M,index:P,shapeType:"sector",isActive:I},k)))}))}function LY(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:h,tooltipType:m}=n,v=Math.abs(n.minAngle),_=PY(u,d),S=Math.abs(_),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=r.filter(M=>xt(M,f,0)!==0).length,C=(S>=360?T:T-1)*E,P=S-T*v-C,R=r.reduce((M,k)=>{var H=xt(k,f,0);return M+(xe(H)?H:0)},0),I;if(R>0){var O;I=r.map((M,k)=>{var H=xt(M,f,0),z=xt(M,h,k),ie=IY(n,a,M),B=(xe(H)?H:0)/R,L,G=Ot(Ot({},M),i&&i[k]&&i[k].props);k?L=O.endAngle+En(_)*E*(H!==0?1:0):L=u;var J=L+En(_)*((H!==0?v:0)+B*P),ne=(L+J)/2,$=(ie.innerRadius+ie.outerRadius)/2,Z=[{name:z,value:H,payload:G,dataKey:f,type:m,graphicalItemId:n.id}],F=Bt(ie.cx,ie.cy,$,ne);return O=Ot(Ot(Ot(Ot({},n.presentationProps),{},{percent:B,cornerRadius:typeof l=="string"?parseFloat(l):l,name:z,tooltipPayload:Z,midAngle:ne,middleRadius:$,tooltipPosition:F},G),ie),{},{value:H,dataKey:f,startAngle:L,endAngle:J,payload:G,paddingAngle:En(_)*E}),O})}return I}function UY(e){var{showLabels:t,sectors:n,children:r}=e,i=A.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return A.createElement(f9,{value:t?i:void 0},r)}function $Y(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:m,onAnimationEnd:v}=t,_=op(t,"recharts-pie-"),S=n.current,[E,T]=A.useState(!1),C=A.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),P=A.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return A.createElement(UY,{showLabels:!E,sectors:i},A.createElement(ap,{animationId:_,begin:l,duration:u,isActive:a,easing:d,onAnimationStart:P,onAnimationEnd:C,key:_},R=>{var I,O=[],M=i&&i[0],k=(I=M==null?void 0:M.startAngle)!==null&&I!==void 0?I:0;return i==null||i.forEach((H,z)=>{var ie=S&&S[z],B=z>0?wo(H,"paddingAngle",0):0;if(ie){var L=mn(ie.endAngle-ie.startAngle,H.endAngle-H.startAngle,R),G=Ot(Ot({},H),{},{startAngle:k+B,endAngle:k+L+B});O.push(G),k=G.endAngle}else{var{endAngle:J,startAngle:ne}=H,$=mn(0,J-ne,R),Z=Ot(Ot({},H),{},{startAngle:k+B,endAngle:k+$+B});O.push(Z),k=Z.endAngle}}),n.current=O,A.createElement(vn,null,A.createElement(jY,{sectors:O,activeShape:f,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),A.createElement(kY,{showLabels:!E,sectors:i,props:t}),t.children)}var zY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gn.area};function BY(e){var{id:t}=e,n=Cp(e,xY),{hide:r,className:i,rootTabIndex:a}=e,l=A.useMemo(()=>_2(e.children,Ks),[e.children]),u=Ee(h=>I9(h,t,l)),d=A.useRef(null),f=et("recharts-pie",i);return r||u==null?(d.current=null,A.createElement(vn,{tabIndex:a,className:f})):A.createElement(Br,{zIndex:e.zIndex},A.createElement(CY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),A.createElement(vn,{tabIndex:a,className:f},A.createElement($Y,{props:Ot(Ot({},n),{},{sectors:u}),previousSectorsRef:d,id:t})))}function Of(e){var t=Vt(e,zY),{id:n}=t,r=Cp(t,_Y),i=rr(r);return A.createElement(E2,{id:n,type:"pie"},a=>A.createElement(A.Fragment,null,A.createElement(vY,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),A.createElement(AY,Ia({},r,{id:a})),A.createElement(BY,Ia({},r,{id:a}))))}Of.displayName="Pie";var qY=["points"];function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return(t=HY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}function VY(e,t){if(e==null)return{};var n,r,i=KY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YY(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=et(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=VY(a,qY);return A.createElement(p2,wh({},u,{className:i}))}function JY(e,t){return e==null?!1:t?!0:e.length===1}function WY(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:d,zIndex:f=gn.scatter}=e;if(!JY(t,n))return null;var h=w2(n),m=iB(n),v=t.map((S,E)=>{var T,C,P=Ry(Ry(Ry({r:3},l),m),{},{index:E,cx:(T=S.x)!==null&&T!==void 0?T:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:S.value,payload:S.payload,points:t});return A.createElement(YY,{key:"dot-".concat(E),option:n,dotProps:P,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),A.createElement(Br,{zIndex:f},A.createElement(vn,wh({className:r},_),v))}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){XY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XY(e,t,n){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A2=0,eJ={xAxis:{},yAxis:{},zAxis:{}},C2=Bn({name:"cartesianAxis",initialState:eJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:wt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:wt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:wt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:wt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:wt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:wt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:wt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:wt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:wt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...l,r].slice(-3);e.yAxis[n]=gO(gO({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:tJ,replaceXAxis:nJ,removeXAxis:rJ,addYAxis:iJ,replaceYAxis:aJ,removeYAxis:oJ,addZAxis:$le,replaceZAxis:zle,removeZAxis:Ble,updateYAxisWidth:sJ}=C2.actions,lJ=C2.reducer,uJ=X([tn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),cJ=X([uJ,Li,Ui],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),d_=()=>Ee(cJ),dJ=()=>Ee(H8);function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mJ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=My(My(My({},u),Zs(i)),kb(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(p2,d),A.createElement(vn,{className:"recharts-active-dot",clipPath:l},f)};function yO(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=gn.activeDot}=e,u=Ee(al),d=dJ();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return yn(f)?null:A.createElement(Br,{zIndex:l},A.createElement(mJ,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var N2=e=>{var{chartData:t}=e,n=gt(),r=qn();return A.useEffect(()=>r?()=>{}:(n(TN(t)),()=>{n(TN(void 0))}),[t,n,r]),null},bO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},O2=Bn({name:"brush",initialState:bO,reducers:{setBrushSettings(e,t){return t.payload==null?bO:t.payload}}}),{setBrushSettings:qle}=O2.actions,gJ=O2.reducer;function vJ(e){return(e%180+180)%180}var yJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vJ(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},bJ={dots:[],areas:[],lines:[]},I2=Bn({name:"referenceElements",initialState:bJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=kr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=kr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=kr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Gle,removeDot:Hle,addArea:Fle,removeArea:Vle,addLine:Kle,removeLine:Yle}=I2.actions,xJ=I2.reducer,_J=A.createContext(void 0),wJ=e=>{var{children:t}=e,[n]=A.useState("".concat($u("recharts"),"-clip")),r=d_();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return A.createElement(_J.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function P2(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function SJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return yJ(r,n)}function EJ(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Qu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function TJ(e,t){return P2(e,t+1)}function AJ(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,m=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:P2(r,f)};var E=d,T,C=()=>(T===void 0&&(T=n(S,E)),T),P=S.coordinate,R=d===0||Qu(e,P,C,h,u);R||(d=0,h=l,f+=1),R&&(h=P+e*(C()/2+i),d+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function CJ(e,t,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var h=(l-1)%f,m=u,v=!0,_=function(){var I=r[E];if(I==null)return 0;var O=E,M,k=()=>(M===void 0&&(M=n(I,O)),M),H=I.coordinate,z=E===h||Qu(e,H,k,m,d);if(!z)return v=!1,1;z&&(m=H+e*(k()/2+i))},S,E=h;E<l&&(S=_(),!(S!==0&&S===1));E+=f);if(v){for(var T=[],C=h;C<l;C+=f){var P=r[C];P!=null&&T.push(P)}return T}}return[]}function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(r){NJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NJ(e,t,n){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PJ(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:d}=t,f=function(v){var _=a[v];if(_==null)return 1;var S=_,E,T=()=>(E===void 0&&(E=n(_,v)),E);if(v===l-1){var C=e*(S.coordinate+e*T()/2-d);a[v]=S=_n(_n({},S),{},{tickCoord:C>0?S.coordinate-C*e:S.coordinate})}else a[v]=S=_n(_n({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var P=Qu(e,S.tickCoord,T,u,d);P&&(d=S.tickCoord-e*(T()/2+i),a[v]=_n(_n({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return a}function RJ(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(a){var h=r[u-1];if(h!=null){var m=n(h,u-1),v=e*(h.coordinate+e*m/2-f);if(l[u-1]=h=_n(_n({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var _=Qu(e,h.tickCoord,()=>m,d,f);_&&(f=h.tickCoord-e*(m/2+i),l[u-1]=_n(_n({},h),{},{isShow:!0}))}}}for(var S=a?u-1:u,E=function(P){var R=l[P];if(R==null)return 1;var I=R,O,M=()=>(O===void 0&&(O=n(R,P)),O);if(P===0){var k=e*(I.coordinate-e*M()/2-d);l[P]=I=_n(_n({},I),{},{tickCoord:k<0?I.coordinate-k*e:I.coordinate})}else l[P]=I=_n(_n({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var H=Qu(e,I.tickCoord,M,d,f);H&&(d=I.tickCoord+e*(M()/2+i),l[P]=_n(_n({},I),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return l}function f_(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(xe(d)||hc.isSsr){var v;return(v=TJ(i,xe(d)?d:0))!==null&&v!==void 0?v:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?ku(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(O,M)=>{var k=typeof f=="function"?f(O.value,M):O.value;return S==="width"?SJ(ku(k,{fontSize:t,letterSpacing:n}),E,m):ku(k,{fontSize:t,letterSpacing:n})[S]},C=i[0],P=i[1],R=i.length>=2&&C!=null&&P!=null?En(P.coordinate-C.coordinate):1,I=EJ(a,R,S);return d==="equidistantPreserveStart"?AJ(R,I,T,i,l):d==="equidistantPreserveEnd"?CJ(R,I,T,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=RJ(R,I,T,i,l,d==="preserveStartEnd"):_=PJ(R,I,T,i,l),_.filter(O=>O.isShow))}var MJ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+u+(n?r:0);return Math.round(f)}return 0},DJ=["axisLine","width","height","className","hide","ticks","axisType"];function kJ(e,t){if(e==null)return{};var n,r,i=jJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(null,arguments)}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){LJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gn.axis};function zJ(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Ct(Ct(Ct({},d),rr(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);f=Ct(Ct({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);f=Ct(Ct({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return A.createElement("line",No({},f,{className:et("recharts-cartesian-axis-line",wo(u,"className"))}))}function BJ(e,t,n,r,i,a,l,u,d){var f,h,m,v,_,S,E=u?-1:1,T=e.tickSize||l,C=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,v=n+ +!u*i,m=v-E*T,S=m-E*d,_=C;break;case"left":m=v=e.coordinate,h=t+ +!u*r,f=h-E*T,_=f-E*d,S=C;break;case"right":m=v=e.coordinate,h=t+ +u*r,f=h+E*T,_=f+E*d,S=C;break;default:f=h=e.coordinate,v=n+ +u*i,m=v+E*T,S=m+E*d,_=C;break}return{line:{x1:f,y1:m,x2:h,y2:v},tick:{x:_,y:S}}}function qJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function GJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function HJ(e){var{option:t,tickProps:n,value:r}=e,i,a=et(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,Ct(Ct({},n),{},{className:a}));else if(typeof t=="function")i=t(Ct(Ct({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=et(l,y2(t))),i=A.createElement(Ep,No({},n,{className:l}),r)}return i}var FJ=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:m,x:v,y:_,width:S,height:E,tickSize:T,tickMargin:C,fontSize:P,letterSpacing:R,getTicksConfig:I,events:O,axisType:M}=e,k=f_(Ct(Ct({},I),{},{ticks:n}),P,R),H=qJ(h,m),z=GJ(h,m),ie=rr(I),B=Zs(r),L={};typeof i=="object"&&(L=i);var G=Ct(Ct({},ie),{},{fill:"none"},L),J=k.map(Z=>Ct({entry:Z},BJ(Z,v,_,S,E,h,T,m,C))),ne=J.map(Z=>{var{entry:F,line:le}=Z;return A.createElement(vn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},i&&A.createElement("line",No({},G,le,{className:et("recharts-cartesian-axis-tick-line",wo(i,"className"))})))}),$=J.map((Z,F)=>{var le,he,{entry:j,tick:ee}=Z,de=Ct(Ct(Ct(Ct({verticalAnchor:z},ie),{},{textAnchor:H,stroke:"none",fill:a},ee),{},{index:F,payload:j,visibleTicksCount:k.length,tickFormatter:l,padding:d},f),{},{angle:(le=(he=f==null?void 0:f.angle)!==null&&he!==void 0?he:ie.angle)!==null&&le!==void 0?le:0}),fe=Ct(Ct({},de),B);return A.createElement(vn,No({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},jb(O,j,F)),r&&A.createElement(HJ,{option:r,tickProps:fe,value:"".concat(typeof l=="function"?l(j.value,F):j.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},$.length>0&&A.createElement(Br,{zIndex:gn.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},$)),ne.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},ne))}),VJ=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:d}=e,f=kJ(e,DJ),[h,m]=A.useState(""),[v,_]=A.useState(""),S=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return MJ({ticks:S.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=A.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var P=C[0];if(P){var R=window.getComputedStyle(P),I=R.fontSize,O=R.letterSpacing;(I!==h||O!==v)&&(m(I),_(O))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Br,{zIndex:e.zIndex},A.createElement(vn,{className:et("recharts-cartesian-axis",a)},A.createElement(zJ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:rr(e)}),A.createElement(FJ,{ref:E,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(H7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(e9,{label:e.label,labelRef:e.labelRef}),e.children)))}),h_=A.forwardRef((e,t)=>{var n=Vt(e,Oi);return A.createElement(VJ,No({},n,{ref:t}))});h_.displayName="CartesianAxis";var KJ=["x1","y1","x2","y2","key"],YJ=["offset"],JJ=["xAxisId","yAxisId"],WJ=["xAxisId","yAxisId"];function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){XJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(null,arguments)}function Sh(e,t){if(e==null)return{};var n,r,i=eW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function R2(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:d,key:f}=n,h=Sh(n,KJ),m=(i=rr(h))!==null&&i!==void 0?i:{},{offset:v}=m,_=Sh(m,YJ);r=A.createElement("line",ho({},_,{x1:a,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function nW(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Sh(e,JJ),d=i.map((f,h)=>{var m=wn(wn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return A.createElement(R2,{key:"line-".concat(h),option:r,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function rW(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Sh(e,WJ),d=i.map((f,h)=>{var m=wn(wn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return A.createElement(R2,{option:r,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function iW(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var _=f[v+1],S=_==null,E=S?i+l-m:_-m;if(E<=0)return null;var T=v%t.length;return A.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:E,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function aW(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var _=f[v+1],S=_==null,E=S?i+l-m:_-m;if(E<=0)return null;var T=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:E,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var oW=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return bM(f_(wn(wn(wn({},Oi),n),{},{ticks:xM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},sW=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return bM(f_(wn(wn(wn({},Oi),n),{},{ticks:xM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},lW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gn.grid};function M2(e){var t=Yb(),n=Jb(),r=NM(),i=wn(wn({},Vt(e,lW)),{},{x:xe(e.x)?e.x:r.left,y:xe(e.y)?e.y:r.top,width:xe(e.width)?e.width:r.width,height:xe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:_}=i,S=qn(),E=Ee(z=>hN(z,"xAxis",a,S)),T=Ee(z=>hN(z,"yAxis",l,S));if(!ni(f)||!ni(h)||!xe(u)||!xe(d))return null;var C=i.verticalCoordinatesGenerator||oW,P=i.horizontalCoordinatesGenerator||sW,{horizontalPoints:R,verticalPoints:I}=i;if((!R||!R.length)&&typeof P=="function"){var O=v&&v.length,M=P({yAxis:T?wn(wn({},T),{},{ticks:O?v:T.ticks}):void 0,width:t??f,height:n??h,offset:r},O?!0:m);Jf(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(R=M)}if((!I||!I.length)&&typeof C=="function"){var k=_&&_.length,H=C({xAxis:E?wn(wn({},E),{},{ticks:k?_:E.ticks}):void 0,width:t??f,height:n??h,offset:r},k?!0:m);Jf(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(I=H)}return A.createElement(Br,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(tW,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(iW,ho({},i,{horizontalPoints:R})),A.createElement(aW,ho({},i,{verticalPoints:I})),A.createElement(nW,ho({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:T})),A.createElement(rW,ho({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:T}))))}M2.displayName="CartesianGrid";var uW={},D2=Bn({name:"errorBars",initialState:uW,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jle,replaceErrorBar:Wle,removeErrorBar:Xle}=D2.actions,cW=D2.reducer;function k2(e,t){var n,r,i=Ee(f=>Bi(f,e)),a=Ee(f=>qi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function dW(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=d_(),{needClipX:a,needClipY:l,needClip:u}=k2(t,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:m}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?d:d-h/2,y:l?f:f-m/2,width:a?h:h*2,height:l?m:m*2}))}function fW(e){var t=Zs(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var Dy={exports:{}},ky={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function hW(){if(SO)return ky;SO=1;var e=sl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return ky.useSyncExternalStoreWithSelector=function(d,f,h,m,v){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function T(O){if(!C){if(C=!0,P=O,O=m(O),v!==void 0&&S.hasValue){var M=S.value;if(v(M,O))return R=M}return R=O}if(M=R,n(P,O))return M;var k=m(O);return v!==void 0&&v(M,k)?(P=O,M):(P=O,R=k)}var C=!1,P,R,I=h===void 0?null:h;return[function(){return T(f())},I===null?void 0:function(){return T(I())}]},[f,h,m,v]);var E=r(d,_[0],_[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},ky}var EO;function pW(){return EO||(EO=1,Dy.exports=hW()),Dy.exports}pW();function mW(e){e()}function gW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mW(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var TO={notify(){},get:()=>[]};function vW(e,t){let n,r=TO,i=0,a=!1;function l(E){h();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),m())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return a}function h(){i++,n||(n=e.subscribe(d),r=gW())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=TO)}function v(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return S}var yW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bW=yW(),xW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_W=xW(),wW=()=>bW||_W?A.useLayoutEffect:A.useEffect,SW=wW();function AO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function EW(e,t){if(AO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!AO(e[n[i]],t[n[i]]))return!1;return!0}var jy=Symbol.for("react-redux-context"),Ly=typeof globalThis<"u"?globalThis:{};function TW(){if(!A.createContext)return{};const e=Ly[jy]??(Ly[jy]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var AW=TW();function CW(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const d=vW(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);SW(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||AW;return A.createElement(u.Provider,{value:a},t)}var NW=CW,OW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function IW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function p_(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(OW.has(r)){if(e[r]==null&&t[r]==null)continue;if(!EW(e[r],t[r]))return!1}else if(!IW(e[r],t[r]))return!1;return!0}function m_(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:A2}function g_(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:A2}var j2=(e,t,n)=>wk(e,"xAxis",m_(e,t),n),L2=(e,t,n)=>_k(e,"xAxis",m_(e,t),n),U2=(e,t,n)=>wk(e,"yAxis",g_(e,t),n),$2=(e,t,n)=>_k(e,"yAxis",g_(e,t),n),PW=X([ft,j2,U2,L2,$2],(e,t,n,r,i)=>ii(e,"xAxis")?Yf(t,r,!1):Yf(n,i,!1)),RW=(e,t)=>t,z2=X([ek,RW],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),B2=e=>{var t=ft(e),n=ii(t,"xAxis");return n?"yAxis":"xAxis"},MW=(e,t)=>{var n=B2(e);return n==="yAxis"?g_(e,t):m_(e,t)},DW=(e,t,n)=>ak(e,B2(e),MW(e,t),n),kW=X([z2,DW],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=Ix(e);if(!(r==null||i==null)){var a=(n=t[r])===null||n===void 0?void 0:n.stackedData,l=a==null?void 0:a.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),jW=X([ft,j2,U2,L2,$2,kW,NF,PW,z2,LF],(e,t,n,r,i,a,l,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:v}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=d,S;if(_&&_.length>0?S=_:S=h==null?void 0:h.slice(m,v+1),S!=null)return tX({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:d,stackedData:a,displayedData:S,chartBaseValue:f,bandSize:u})}}),LW=["id"],UW=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}function q2(e,t){if(e==null)return{};var n,r,i=$W(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $W(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){zW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zW(e,t,n){return(t=BW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eh(e,t){return e&&e!=="none"?e:t}var GW=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:Eh(r,i),value:Wh(n,t),payload:e}]},HW=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d,tooltipType:f,id:h}=e,m={dataDefinedOnItem:n,getPosition:ll,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Wh(l,t),hide:u,type:f,color:Eh(r,a),unit:d,graphicalItemId:h}};return A.createElement(S2,{tooltipEntrySettings:m})});function FW(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:l}=r,u=rr(r);return A.createElement(WY,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:t})}function VW(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var l,u,d={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zs(zs({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement(d9,{value:t?i:void 0},n)}function NO(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:l,type:u,stroke:d,connectNulls:f,isRange:h}=a,{id:m}=a,v=q2(a,LW),_=rr(v),S=On(v);return A.createElement(A.Fragment,null,(t==null?void 0:t.length)>1&&A.createElement(vn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(Fs,yo({},S,{id:m,points:t,connectNulls:f,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(Fs,yo({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&h&&A.createElement(Fs,yo({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}))),A.createElement(FW,{points:t,props:v,clipPathId:i}))}function KW(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:l}=e,u=(t=a[0])===null||t===void 0?void 0:t.y,d=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!Ve(u)||!Ve(d))return null;var f=r*Math.abs(u-d),h=Math.max(...a.map(m=>m.x||0));return xe(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.x||0),h)),xe(h)?A.createElement("rect",{x:0,y:u<d?u:u-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}function YW(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:l}=e,u=(t=a[0])===null||t===void 0?void 0:t.x,d=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!Ve(u)||!Ve(d))return null;var f=r*Math.abs(u-d),h=Math.max(...a.map(m=>m.y||0));return xe(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.y||0),h)),xe(h)?A.createElement("rect",{x:u<d?u:u-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function JW(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?A.createElement(KW,{alpha:t,points:r,baseLine:i,strokeWidth:a}):A.createElement(YW,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function WW(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:m,onAnimationStart:v,onAnimationEnd:_}=r,S=A.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=op(S,"recharts-area-"),T=Wb(),[C,P]=A.useState(!1),R=!C,I=A.useCallback(()=>{typeof _=="function"&&_(),P(!1)},[_]),O=A.useCallback(()=>{typeof v=="function"&&v(),P(!0)},[v]);if(T==null)return null;var M=i.current,k=a.current;return A.createElement(VW,{showLabels:R,points:l},r.children,A.createElement(ap,{animationId:E,begin:f,duration:h,isActive:d,easing:m,onAnimationEnd:I,onAnimationStart:O,key:E},H=>{if(M){var z=M.length/l.length,ie=H===1?l:l.map((L,G)=>{var J=Math.floor(G*z);if(M[J]){var ne=M[J];return zs(zs({},L),{},{x:mn(ne.x,L.x,H),y:mn(ne.y,L.y,H)})}return L}),B;return xe(u)?B=mn(k,u,H):yn(u)||ei(u)?B=mn(k,0,H):B=u.map((L,G)=>{var J=Math.floor(G*z);if(Array.isArray(k)&&k[J]){var ne=k[J];return zs(zs({},L),{},{x:mn(ne.x,L.x,H),y:mn(ne.y,L.y,H)})}return L}),H>0&&(i.current=ie,a.current=B),A.createElement(NO,{points:ie,baseLine:B,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=l,a.current=u),A.createElement(vn,null,d&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(JW,{alpha:H,points:l,baseLine:u,layout:T,strokeWidth:r.strokeWidth}))),A.createElement(vn,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(NO,{points:l,baseLine:u,needClip:t,clipPathId:n,props:r})))}),A.createElement(h2,{label:r.label}))}function XW(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),a=A.useRef();return A.createElement(WW,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class ZW extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:l,needClip:u,xAxisId:d,yAxisId:f,width:h,height:m,id:v,baseLine:_,zIndex:S}=this.props;if(t)return null;var E=et("recharts-area",i),T=v,{r:C,strokeWidth:P}=fW(n),R=w2(n),I=C*2+P,O=u?"url(#clipPath-".concat(R?"":"dots-").concat(T,")"):void 0;return A.createElement(Br,{zIndex:S},A.createElement(vn,{className:E},u&&A.createElement("defs",null,A.createElement(dW,{clipPathId:T,xAxisId:d,yAxisId:f}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(T)},A.createElement("rect",{x:l-I/2,y:a-I/2,width:h+I,height:m+I}))),A.createElement(XW,{needClip:u,clipPathId:T,props:this.props})),A.createElement(yO,{points:r,mainColor:Eh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(_)&&A.createElement(yO,{points:_,mainColor:Eh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var G2={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:gn.area};function QW(e){var t,n=Vt(e,G2),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:h,hide:m,isAnimationActive:v,legendType:_,stroke:S,xAxisId:E,yAxisId:T}=n,C=q2(n,UW),P=ul(),R=Vk(),{needClip:I}=k2(E,T),O=qn(),{points:M,isRange:k,baseLine:H}=(t=Ee(J=>jW(J,e.id,O)))!==null&&t!==void 0?t:{},z=d_();if(P!=="horizontal"&&P!=="vertical"||z==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:ie,width:B,x:L,y:G}=z;return!M||!M.length?null:A.createElement(ZW,yo({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:H,connectNulls:u,dot:d,fill:f,fillOpacity:h,height:ie,hide:m,layout:P,isAnimationActive:v==="auto"?!hc.isSsr:v,isRange:k,legendType:_,needClip:I,points:M,stroke:S,width:B,left:L,top:G,xAxisId:E,yAxisId:T}))}var eX=(e,t,n,r,i)=>{var a=n??t;if(xe(a))return a;var l=e==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]};function tX(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:h,xAxisTicks:m,yAxisTicks:v,bandSize:_}=e,S=i&&i.length,E=eX(a,l,n,u,d),T=a==="horizontal",C=!1,P=f.map((I,O)=>{var M,k,H,z;if(S)z=i[h+O];else{var ie=xt(I,r);Array.isArray(ie)?(z=ie,C=!0):z=[E,ie]}var B=(M=(k=z)===null||k===void 0?void 0:k[1])!==null&&M!==void 0?M:null,L=B==null||S&&!t&&xt(I,r)==null;if(T){var G;return{x:fC({axis:u,ticks:m,bandSize:_,entry:I,index:O}),y:L?null:(G=d.scale.map(B))!==null&&G!==void 0?G:null,value:z,payload:I}}return{x:L?null:(H=u.scale.map(B))!==null&&H!==void 0?H:null,y:fC({axis:d,ticks:v,bandSize:_,entry:I,index:O}),value:z,payload:I}}),R;return S||C?R=P.map(I=>{var O,M=Array.isArray(I.value)?I.value[0]:null;if(T){var k;return{x:I.x,y:M!=null&&I.y!=null&&(k=d.scale.map(M))!==null&&k!==void 0?k:null,payload:I.payload}}return{x:M!=null&&(O=u.scale.map(M))!==null&&O!==void 0?O:null,y:I.y,payload:I.payload}}):R=T?d.scale.map(E):u.scale.map(E),{points:P,baseLine:R??0,isRange:C}}function nX(e){var t=Vt(e,G2),n=qn();return A.createElement(E2,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(nY,{legendPayload:GW(t)}),A.createElement(HW,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),A.createElement(gY,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:S3(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(QW,yo({},t,{id:r}))))}var G0=A.memo(nX,p_);G0.displayName="Area";var rX=["domain","range"],iX=["domain","range"];function OO(e,t){if(e==null)return{};var n,r,i=aX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function H2(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=OO(e,rX),{domain:a,range:l}=t,u=OO(t,iX);return!IO(n,a)||!IO(r,l)?!1:p_(i,u)}var oX=["type"],sX=["dangerouslySetInnerHTML","ticks","scale"],lX=["id","scale"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(r){uX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uX(e,t,n){return(t=cX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F0(e,t){if(e==null)return{};var n,r,i=fX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hX(e){var t=gt(),n=A.useRef(null),r=Wb(),{type:i}=e,a=F0(e,oX),l=mp(r,"xAxis",i),u=A.useMemo(()=>{if(l!=null)return RO(RO({},a),{},{type:l})},[a,l]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(tJ(u)):n.current!==u&&t(nJ({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(rJ(n.current)),n.current=null)},[t]),null}var pX=e=>{var{xAxisId:t,className:n}=e,r=Ee(EM),i=qn(),a="xAxis",l=Ee(C=>xk(C,a,t,i)),u=Ee(C=>RV(C,t)),d=Ee(C=>UV(C,t)),f=Ee(C=>XD(C,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:v}=e,_=F0(e,sX),{id:S,scale:E}=f,T=F0(f,lX);return A.createElement(h_,H0({},_,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:et("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},mX={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Oi.axisLine,height:Zt.height,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,label:!1,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Oi.tickLine,tickSize:Oi.tickSize,type:Zt.type,xAxisId:0},gX=e=>{var t=Vt(e,mX);return A.createElement(A.Fragment,null,A.createElement(hX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(pX,t))},F2=A.memo(gX,H2);F2.displayName="XAxis";var vX=["type"],yX=["dangerouslySetInnerHTML","ticks","scale"],bX=["id","scale"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(r){xX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xX(e,t,n){return(t=_X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _X(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(e,t){if(e==null)return{};var n,r,i=SX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EX(e){var t=gt(),n=A.useRef(null),r=Wb(),{type:i}=e,a=K0(e,vX),l=mp(r,"yAxis",i),u=A.useMemo(()=>{if(l!=null)return DO(DO({},a),{},{type:l})},[l,a]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(iJ(u)):n.current!==u&&t(aJ({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(oJ(n.current)),n.current=null)},[t]),null}function TX(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),l=A.useRef(null),u=Ee(EM),d=qn(),f=gt(),h="yAxis",m=Ee(M=>BV(M,t)),v=Ee(M=>zV(M,t)),_=Ee(M=>xk(M,h,t,d)),S=Ee(M=>ZD(M,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!m||l_(i)||A.isValidElement(i)||S==null)){var M=a.current;if(M){var k=M.getCalculatedWidth();Math.round(m.width)!==Math.round(k)&&f(sJ({id:t,width:k}))}}},[_,m,f,i,t,r,S]),m==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:C}=e,P=K0(e,yX),{id:R,scale:I}=S,O=K0(S,bX);return A.createElement(h_,V0({},P,O,{ref:a,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:et("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:_,axisType:h}))}var AX={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:Oi.axisLine,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,label:!1,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:Oi.tickLine,tickSize:Oi.tickSize,type:Qt.type,width:Qt.width,yAxisId:0},CX=e=>{var t=Vt(e,AX);return A.createElement(A.Fragment,null,A.createElement(EX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(TX,t))},V2=A.memo(CX,H2);V2.displayName="YAxis";var NX=(e,t)=>t,v_=X([NX,ft,YD,rn,$k,Gi,nK,tn],uK),y_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},K2=wr("mouseClick"),Y2=uc();Y2.startListening({actionCreator:K2,effect:(e,t)=>{var n=e.payload,r=v_(t.getState(),y_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(t8({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Y0=wr("mouseMove"),J2=uc(),of=null;J2.startListening({actionCreator:Y0,effect:(e,t)=>{var n=e.payload;of!==null&&cancelAnimationFrame(of);var r=y_(n);of=requestAnimationFrame(()=>{var i=t.getState(),a=Zx(i,i.tooltip.settings.shared);if(a==="axis"){var l=v_(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(Ik({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(Ok())}of=null})}});function OX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var kO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W2=Bn({name:"rootProps",initialState:kO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:kO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),IX=W2.reducer,{updateOptions:PX}=W2.actions,RX=null,MX={updatePolarOptions:(e,t)=>t.payload},X2=Bn({name:"polarOptions",initialState:RX,reducers:MX}),{updatePolarOptions:DX}=X2.actions,kX=X2.reducer,Z2=wr("keyDown"),Q2=wr("focus"),b_=uc();b_.startListening({actionCreator:Z2,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Qx(i,yl(n),_c(n),Sc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Gi(n);if(a==="Enter"){var f=yh(n,"axis","hover",String(i.index));t.dispatch(U0({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=FV(n),m=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,_=u+v*m;if(!(d==null||_>=d.length||_<0)){var S=yh(n,"axis","hover",String(_));t.dispatch(U0({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});b_.startListening({actionCreator:Q2,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=yh(n,"axis","hover",String(a));t.dispatch(U0({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var yr=wr("externalEvent"),ej=uc(),Uy=new Map;ej.startListening({actionCreator:yr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Uy.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:B8(u),activeDataKey:Gk(u),activeIndex:al(u),activeLabel:qk(u),activeTooltipIndex:al(u),isTooltipActive:q8(u)};n(d,r)}finally{Uy.delete(i)}});Uy.set(i,l)}}});var jX=X([gl],e=>e.tooltipItemPayloads),LX=X([jX,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),tj=wr("touchMove"),nj=uc();nj.startListening({actionCreator:tj,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Zx(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=v_(r,y_({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(Ik({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(wM),m=(u=f.getAttribute(SM))!==null&&u!==void 0?u:void 0,v=vl(r).find(E=>E.id===m);if(h==null||v==null||m==null)return;var{dataKey:_}=v,S=LX(r,h,m);t.dispatch(Nk({activeDataKey:_,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var UX=HR({brush:gJ,cartesianAxis:lJ,chartData:zK,errorBars:cW,graphicalItems:pY,layout:p3,legend:b6,options:kK,polarAxis:S9,polarOptions:kX,referenceElements:xJ,rootProps:IX,tooltip:n8,zIndex:SK}),$X=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $q({reducer:UX,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Y2.middleware,J2.middleware,b_.middleware,ej.middleware,nj.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(aM({type:"raf"}))},devTools:{serialize:{replacer:OX},name:"recharts-".concat(n)}})};function rj(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=qn(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=$X(t,r));var l=$b;return A.createElement(NW,{context:l,store:a.current},n)}function zX(e){var{layout:t,margin:n}=e,r=gt(),i=qn();return A.useEffect(()=>{i||(r(d3(t)),r(c3(n)))},[r,i,t,n]),null}var ij=A.memo(zX,p_);function aj(e){var t=gt();return A.useEffect(()=>{t(PX(e))},[t,e]),null}function jO(e){var{zIndex:t,isPanorama:n}=e,r=A.useRef(null),i=gt();return A.useLayoutEffect(()=>(r.current&&i(_K({zIndex:t,element:r.current,isPanorama:n})),()=>{i(wK({zIndex:t,isPanorama:n}))}),[i,t,n]),A.createElement("g",{tabIndex:-1,ref:r})}function LO(e){var{children:t,isPanorama:n}=e,r=Ee(dK);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(jO,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>A.createElement(jO,{key:l,zIndex:l,isPanorama:n})))}var BX=["children"];function qX(e,t){if(e==null)return{};var n,r,i=GX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Th.apply(null,arguments)}var HX={width:"100%",height:"100%",display:"block"},FX=A.forwardRef((e,t)=>{var n=Yb(),r=Jb(),i=zM();if(!ni(n)||!ni(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),A.createElement(Ab,Th({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:HX,ref:t}),a)}),VX=e=>{var{children:t}=e,n=Ee(ep);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return A.createElement(Ab,{width:r,height:i,x:l,y:a},t)},UO=A.forwardRef((e,t)=>{var{children:n}=e,r=qX(e,BX),i=qn();return i?A.createElement(VX,null,A.createElement(LO,{isPanorama:!0},n)):A.createElement(FX,Th({ref:t},r),A.createElement(LO,{isPanorama:!1},n))});function KX(){var e=gt(),[t,n]=A.useState(null),r=Ee(O3);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ve(a)&&a!==r&&e(h3(a))}},[t,e,r]),n}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){JX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JX(e,t,n){return(t=WX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(null,arguments)}var ZX=()=>(JK(),null);function Ah(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var QX=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,l]=A.useState({containerWidth:Ah((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ah((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{l(m=>{var v=Math.round(f),_=Math.round(h);return m.containerWidth===v&&m.containerHeight===_?m:{containerWidth:v,containerHeight:_}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();u(h,m);var v=S=>{var E=S[0];if(E!=null){var{width:T,height:C}=E.contentRect;u(T,C)}},_=new ResizeObserver(v);_.observe(f),i.current=_}},[t,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(dc,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",Na({ref:d},e)))}),eZ=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:Ah(n),containerHeight:Ah(r)}),l=A.useCallback((d,f)=>{a(h=>{var m=Math.round(d),v=Math.round(f);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(dc,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Na({ref:u},e)))}),tZ=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(dc,{width:n,height:r}),A.createElement("div",Na({ref:t},e)))}),nZ=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?A.createElement(eZ,Na({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?A.createElement(tZ,Na({},e,{width:n,height:r,ref:t})):A.createElement(A.Fragment,null,A.createElement(dc,{width:n,height:r}),A.createElement("div",Na({ref:t},e)))});function rZ(e){return e?QX:nZ}var iZ=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:P,dispatchTouchEvents:R=!0}=e,I=A.useRef(null),O=gt(),[M,k]=A.useState(null),[H,z]=A.useState(null),ie=KX(),B=Vb(),L=(B==null?void 0:B.width)>0?B.width:C,G=(B==null?void 0:B.height)>0?B.height:i,J=A.useCallback(te=>{ie(te),typeof t=="function"&&t(te),k(te),z(te),te!=null&&(I.current=te)},[ie,t,k,z]),ne=A.useCallback(te=>{O(K2(te)),O(yr({handler:a,reactEvent:te}))},[O,a]),$=A.useCallback(te=>{O(Y0(te)),O(yr({handler:f,reactEvent:te}))},[O,f]),Z=A.useCallback(te=>{O(Ok()),O(yr({handler:h,reactEvent:te}))},[O,h]),F=A.useCallback(te=>{O(Y0(te)),O(yr({handler:m,reactEvent:te}))},[O,m]),le=A.useCallback(()=>{O(Q2())},[O]),he=A.useCallback(te=>{O(Z2(te.key))},[O]),j=A.useCallback(te=>{O(yr({handler:l,reactEvent:te}))},[O,l]),ee=A.useCallback(te=>{O(yr({handler:u,reactEvent:te}))},[O,u]),de=A.useCallback(te=>{O(yr({handler:d,reactEvent:te}))},[O,d]),fe=A.useCallback(te=>{O(yr({handler:v,reactEvent:te}))},[O,v]),_e=A.useCallback(te=>{O(yr({handler:E,reactEvent:te}))},[O,E]),pe=A.useCallback(te=>{R&&O(tj(te)),O(yr({handler:S,reactEvent:te}))},[O,R,S]),ce=A.useCallback(te=>{O(yr({handler:_,reactEvent:te}))},[O,_]),tt=rZ(P);return A.createElement(Xk.Provider,{value:M},A.createElement(sR.Provider,{value:H},A.createElement(tt,{width:L??(T==null?void 0:T.width),height:G??(T==null?void 0:T.height),className:et("recharts-wrapper",r),style:YX({position:"relative",cursor:"default",width:L,height:G},T),onClick:ne,onContextMenu:j,onDoubleClick:ee,onFocus:le,onKeyDown:he,onMouseDown:de,onMouseEnter:$,onMouseLeave:Z,onMouseMove:F,onMouseUp:fe,onTouchEnd:ce,onTouchMove:pe,onTouchStart:_e,ref:J},A.createElement(ZX,null),n)))}),aZ=["width","height","responsive","children","className","style","compact","title","desc"];function oZ(e,t){if(e==null)return{};var n,r,i=sZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oj=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:d,title:f,desc:h}=e,m=oZ(e,aZ),v=rr(m);return d?A.createElement(A.Fragment,null,A.createElement(dc,{width:n,height:r}),A.createElement(UO,{otherAttributes:v,title:f,desc:h},a)):A.createElement(iZ,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(UO,{otherAttributes:v,title:f,desc:h,ref:t},A.createElement(wJ,null,a)))});function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(null,arguments)}var lZ={top:5,right:5,bottom:5,left:5},uZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},cZ=A.forwardRef(function(t,n){var r,i=Vt(t.categoricalChartProps,uZ),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(rj,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement(N2,{chartData:f.data}),A.createElement(ij,{layout:i.layout,margin:i.margin}),A.createElement(aj,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(oj,J0({},i,{ref:n})))});function dZ(e){var t=gt();return A.useEffect(()=>{t(DX(e))},[t,e]),null}var fZ=["layout"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function hZ(e,t){if(e==null)return{};var n,r,i=pZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mZ={top:5,right:5,bottom:5,left:5},sj={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gZ=A.forwardRef(function(t,n){var r,i=Vt(t.categoricalChartProps,sj),{layout:a}=i,l=hZ(i,fZ),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(rj,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},A.createElement(N2,{chartData:i.data}),A.createElement(ij,{layout:a,margin:i.margin}),A.createElement(aj,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(dZ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(oj,W0({},l,{ref:n})))});function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){vZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vZ(e,t,n){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xZ=["item"],_Z=BO(BO({},sj),{},{layout:"centric",startAngle:0,endAngle:360}),$y=A.forwardRef((e,t)=>{var n=Vt(e,_Z);return A.createElement(gZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xZ,tooltipPayloadSearcher:Zk,categoricalChartProps:n,ref:t})}),wZ=["axis"],SZ=A.forwardRef((e,t)=>A.createElement(cZ,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wZ,tooltipPayloadSearcher:Zk,categoricalChartProps:e,ref:t}));const EZ=e=>{if(!e)return"";const t=e.split("T")[0],[n,r,i]=t.split("-");return`${i}/${r}/${n}`},qO=({transactions:e,investments:t,bills:n})=>{const r=e.filter(m=>!m.description.includes("[INVESTIMENTO]")),i=r.filter(m=>m.type==="INCOME").reduce((m,v)=>m+v.amount,0),a=r.filter(m=>m.type==="EXPENSE").reduce((m,v)=>m+v.amount,0),l=i-a;t.filter(m=>m.type==="INCOME").reduce((m,v)=>m+v.amount,0),t.filter(m=>m.type==="EXPENSE").reduce((m,v)=>m+v.amount,0);const u=n.reduce((m,v)=>m+v.entrada,0),d=n.reduce((m,v)=>m+v.saida,0),h=r.reduce((m,v)=>{const _=new Date(v.date),S=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}`,E=_.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});let T=m.find(C=>C.month===S);return T||(T={month:S,name:E,income:0,expense:0},m.push(T)),v.type==="INCOME"?T.income+=v.amount:T.expense+=v.amount,m},[]).sort((m,v)=>m.month.localeCompare(v.month)).slice(-4);return x.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[x.jsx(Tu,{title:"Saldo Atual",value:l,icon:x.jsx(rR,{size:16,className:"text-blue-500"}),trend:"+12%",trendPositive:!0,iconBg:"bg-blue-50"}),x.jsx(Tu,{title:"Entradas (Ms)",value:i,icon:x.jsx(jh,{size:16,className:"text-emerald-500"}),trend:"+5%",trendPositive:!0,iconBg:"bg-emerald-50"}),x.jsx(Tu,{title:"Sadas (Ms)",value:a,icon:x.jsx(wb,{size:16,className:"text-rose-500"}),trend:"+2%",trendPositive:!1,iconBg:"bg-rose-50"}),x.jsx(Tu,{title:"Contas a Receber",value:u,icon:x.jsx(nR,{size:16,className:"text-green-600"}),trend:"A Receber",trendPositive:!0,iconBg:"bg-green-50"}),x.jsx(Tu,{title:"Contas a Pagar",value:d,icon:x.jsx(tR,{size:16,className:"text-orange-600"}),trend:"A Pagar",trendPositive:!1,iconBg:"bg-orange-50"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover-lift",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Fluxo de Caixa (ltimos Meses)"}),x.jsx("div",{className:"h-[280px]",children:h.length>0?x.jsx(Ef,{width:"100%",height:"100%",children:x.jsxs(SZ,{data:h,children:[x.jsxs("defs",{children:[x.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),x.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),x.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),x.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),x.jsx(M2,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),x.jsx(F2,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),x.jsx(V2,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},tickFormatter:m=>`R$${(m/1e3).toFixed(0)}k`}),x.jsx(Af,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",fontSize:"12px"}}),x.jsx(G0,{type:"monotone",dataKey:"income",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorIncome)",name:"Receitas"}),x.jsx(G0,{type:"monotone",dataKey:"expense",stroke:"#ef4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorExpense)",name:"Despesas"})]})}):x.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:x.jsx("p",{children:"Nenhuma transao registrada"})})})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover-lift",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:"ltimas Movimentaes"}),x.jsxs("div",{className:"space-y-3",children:[r.sort((m,v)=>{const _=new Date(m.date).getTime();return new Date(v.date).getTime()-_}).slice(0,4).map((m,v)=>x.jsx(AZ,{name:m.description,date:EZ(m.date),category:m.categoryId||"Geral",amount:m.amount,type:m.type==="INCOME"?"income":"expense"},v)),r.length===0&&x.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"Nenhuma transao registrada"})]})]})]})]})},TZ=e=>{const t=Math.abs(e);return t>=1e6?(e/1e6).toFixed(2).replace(".",",")+" Mi":t>=1e3?(e/1e3).toFixed(1).replace(".",",")+" mil":e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},Tu=({title:e,value:t,icon:n,trend:r,trendPositive:i,iconBg:a})=>{const[l,u]=A.useState(!1);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 cursor-pointer transition-all hover:shadow-md",onClick:()=>u(!0),title:"Clique para ver detalhes",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("div",{className:`${a} p-2 rounded-lg`,children:n}),i!==null&&x.jsx("span",{className:`text-xs font-medium ${i?"text-emerald-600":"text-rose-600"}`,children:r}),i===null&&x.jsx("span",{className:"text-xs font-medium text-gray-500",children:r})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 mb-1",children:e}),x.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["R$ ",TZ(t)]})]})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in",onClick:()=>u(!1),children:x.jsx("div",{className:"bg-white rounded-3xl p-12 max-w-2xl w-full shadow-2xl animate-in zoom-in",onClick:d=>d.stopPropagation(),children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:`${a} p-6 rounded-2xl inline-block mb-6`,children:Uu.cloneElement(n,{size:48})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:e}),x.jsxs("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:["R$ ",t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i!==null&&x.jsx("p",{className:`text-lg font-medium ${i?"text-emerald-600":"text-rose-600"}`,children:r}),x.jsx("button",{onClick:()=>u(!1),className:"mt-8 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Fechar"})]})})})]})},AZ=({name:e,date:t,category:n,amount:r,type:i})=>x.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="income"?"bg-emerald-50":"bg-rose-50"}`,children:i==="income"?x.jsx(jh,{size:14,className:"text-emerald-500"}):x.jsx(wb,{size:14,className:"text-rose-500"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:e}),x.jsxs("p",{className:"text-xs text-gray-500",children:[t,"  ",n]})]})]}),x.jsxs("p",{className:`text-sm font-bold ${i==="income"?"text-emerald-600":"text-rose-600"}`,children:["R$ ",r.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]});function Np(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function CZ(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?a(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}const NZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class x_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class OZ extends x_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class GO extends x_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class HO extends x_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var X0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(X0||(X0={}));class IZ{constructor(t,{headers:n={},customFetch:r,region:i=X0.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=NZ(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return CZ(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:u,method:d,body:f,signal:h,timeout:m}=r;let v={},{region:_}=r;_||(_=this.region);const S=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let T=h;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const C=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:E,signal:T}).catch(O=>{throw new OZ(O)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new GO(C);if(!C.ok)throw new HO(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return R==="application/json"?I=yield C.json():R==="application/octet-stream"||R==="application/pdf"?I=yield C.blob():R==="text/event-stream"?I=C:R==="multipart/form-data"?I=yield C.formData():I=yield C.text(),{data:I,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof HO||u instanceof GO?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var Xt={},Ss={},Es={},Ts={},As={},Cs={},PZ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ol=PZ();const RZ=ol.fetch,lj=ol.fetch.bind(ol),uj=ol.Headers,MZ=ol.Request,DZ=ol.Response,kZ=Object.freeze(Object.defineProperty({__proto__:null,Headers:uj,Request:MZ,Response:DZ,default:lj,fetch:RZ},Symbol.toStringTag,{value:"Module"})),jZ=B$(kZ);var sf={},FO;function cj(){if(FO)return sf;FO=1,Object.defineProperty(sf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sf.default=e,sf}var VO;function dj(){if(VO)return Cs;VO=1;var e=Cs&&Cs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Cs,"__esModule",{value:!0});const t=e(jZ),n=e(cj());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,v,_;let S=null,E=null,T=null,C=f.status,P=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=M:E=JSON.parse(M))}const I=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),O=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&O&&O.length>1&&(T=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,C=406,P="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const I=await f.text();try{S=JSON.parse(I),Array.isArray(S)&&f.status===404&&(E=[],S=null,C=200,P="OK")}catch{f.status===404&&I===""?(C=204,P="No Content"):S={message:I}}if(S&&this.isMaybeSingle&&(!((_=S==null?void 0:S.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,C=200,P="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:E,count:T,status:C,statusText:P}});return this.shouldThrowOnError||(d=d.catch(f=>{var h,m,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Cs.default=r,Cs}var KO;function fj(){if(KO)return As;KO=1;var e=As&&As.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(As,"__esModule",{value:!0});const t=e(dj());class n extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return As.default=n,As}var YO;function __(){if(YO)return Ts;YO=1;var e=Ts&&Ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ts,"__esModule",{value:!0});const t=e(fj());class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Ts.default=n,Ts}var JO;function hj(){if(JO)return Es;JO=1;var e=Es&&Es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Es,"__esModule",{value:!0});const t=e(__());class n{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Es.default=n,Es}var WO;function LZ(){if(WO)return Ss;WO=1;var e=Ss&&Ss.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ss,"__esModule",{value:!0});const t=e(hj()),n=e(__());class r{constructor(a,{headers:l={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:d=!1,count:f}={}){var h;let m;const v=new URL(`${this.url}/rpc/${a}`);let _;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{v.searchParams.append(E,T)})):(m="POST",_=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:m,url:v,headers:S,schema:this.schemaName,body:_,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ss.default=r,Ss}var XO;function UZ(){if(XO)return Xt;XO=1;var e=Xt&&Xt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const t=e(LZ());Xt.PostgrestClient=t.default;const n=e(hj());Xt.PostgrestQueryBuilder=n.default;const r=e(__());Xt.PostgrestFilterBuilder=r.default;const i=e(fj());Xt.PostgrestTransformBuilder=i.default;const a=e(dj());Xt.PostgrestBuilder=a.default;const l=e(cj());return Xt.PostgrestError=l.default,Xt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Xt}var $Z=UZ();const zZ=$r($Z),{PostgrestClient:BZ,PostgrestQueryBuilder:Zle,PostgrestFilterBuilder:Qle,PostgrestTransformBuilder:eue,PostgrestBuilder:tue,PostgrestError:nue}=zZ;class qZ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const GZ="2.95.3",HZ=`realtime-js/${GZ}`,FZ="1.0.0",pj="2.0.0",ZO=pj,Z0=1e4,VZ=1e3,KZ=100;var _a;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_a||(_a={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var Pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pr||(Pr={}));var Q0;(function(e){e.websocket="websocket"})(Q0||(Q0={}));var so;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(so||(so={}));class YZ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,a;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,u.length),S.setUint8(E++,l.length),S.setUint8(E++,f.length),S.setUint8(E++,m.length),S.setUint8(E++,n),Array.from(d,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(l,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(E++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+r.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(r),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,u,d]=r;return n({join_ref:i,ref:a,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+a));d=d+a;const m=r.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,S={type:this.BROADCAST_EVENT,event:h,payload:_};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class mj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const QO=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=JZ(l,e,t,i),a),{}):{}},JZ=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=n[e];return a&&!r.includes(a)?gj(a,l):eb(l)},gj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return QZ(t,n)}switch(e){case pt.bool:return WZ(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return XZ(t);case pt.json:case pt.jsonb:return ZZ(t);case pt.timestamp:return eQ(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return eb(t);default:return eb(t)}},eb=e=>e,WZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},QZ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>gj(t,u))}return e},eQ=e=>typeof e=="string"?e.replace(" ","T"):e,vj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class zy{constructor(t,n,r={},i=Z0){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eI||(eI={}));class ju{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ju.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=ju.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ju.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(a,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const m=a[f];if(m){const v=h.map(T=>T.presence_ref),_=m.map(T=>T.presence_ref),S=h.filter(T=>_.indexOf(T.presence_ref)<0),E=m.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(d[f]=E)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const m=t[u].map(_=>_.presence_ref),v=h.filter(_=>m.indexOf(_.presence_ref)<0);t[u].unshift(...v)}r(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tI||(tI={}));var Lu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lu||(Lu={}));var Si;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Si||(Si={}));class Bs{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zy(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new mj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new ju(this),this.broadcastEndpointURL=vj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Lu.PRESENCE]&&this.bindings[Lu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Si.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Si.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(Si.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,C=[];for(let P=0;P<T;P++){const R=E[P],{filter:{event:I,schema:O,table:M,filter:k}}=R,H=_&&_[P];if(H&&H.event===I&&Bs.isFilterValueEqual(H.schema,O)&&Bs.isFilterValueEqual(H.table,M)&&Bs.isFilterValueEqual(H.filter,k))C.push(Object.assign(Object.assign({},R),{id:H.id}));else{this.unsubscribe(),this.state=Ht.errored,t==null||t(Si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Si.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ht.errored,t==null||t(Si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ht.joined&&t===Lu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zy(this,Pr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zy(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>KZ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=Pr;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var S,E,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var S,E,T,C,P,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const I=_.id,O=(S=_.filter)===null||S===void 0?void 0:S.event;return I&&((E=n.ids)===null||E===void 0?void 0:E.includes(I))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const I=(P=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:E,table:T,commit_timestamp:C,type:P,errors:R}=S;v=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:C,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(S))}_.callback(v,r)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Bs.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pr.close,{},t)}_onError(t){this._on(Pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=QO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=QO(t.columns,t.old_record)),n}}const By=()=>{},lf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tQ=[1e3,2e3,5e3,1e4],nQ=1e4,rQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iQ{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Z0,this.transport=null,this.heartbeatIntervalMs=lf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=By,this.ref=0,this.reconnectTimer=null,this.vsn=ZO,this.logger=By,this.conn=null,this.sendBuffer=[],this.serializer=new YZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Q0.websocket}`,this.httpEndpoint=vj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qZ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _a.connecting:return so.Connecting;case _a.open:return so.Open;case _a.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Bs(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VZ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},lf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===_a.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_a.open||this.conn.readyState===_a.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rQ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:HZ};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,l,u,d,f,h,m,v,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Z0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:lf.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:By,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:ZO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(S=>tQ[S-1]||nQ),this.vsn){case FZ:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((S,E)=>E(JSON.parse(S)));break;case pj:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ec=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aQ(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function oQ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sQ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const u=aQ(e.baseUrl,r,i),d=await oQ(e.auth),f=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),h=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&h?JSON.parse(h):h;if(!f.ok){const _=m?v:void 0,S=_==null?void 0:_.error;throw new ec((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function uf(e){return e.join("")}var lQ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:uf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uf(e.namespace)}`}),!0}catch(t){if(t instanceof ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ec&&n.status===409)return;throw n}}};function Ns(e){return e.join("")}var uQ=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ns(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ns(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ns(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ns(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ns(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ns(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ec&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ec&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},cQ=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sQ({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new lQ(this.client,t),this.tableOps=new uQ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Op=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ip(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var cf=class extends Op{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yj=class extends Op{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const dQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tb=e=>{if(Array.isArray(e))return e.map(n=>tb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=tb(r)}),t},hQ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function pQ(e,t){if(tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mQ(e){var t=pQ(e,"string");return tc(t)=="symbol"?t:t+""}function gQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){gQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const rI=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},vQ=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";t(new cf(rI(l),a,u,r))}).catch(()=>{if(r==="vectors"){const l=a+"";t(new cf(i.statusText||`HTTP ${a} error`,a,l,r))}else{const l=a+"";t(new cf(i.statusText||`HTTP ${a} error`,a,l,r))}});else{const l=a+"";t(new cf(i.statusText||`HTTP ${a} error`,a,l,r))}}else t(new yj(rI(e),e,r))},yQ=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Ie(Ie({},i),n):(fQ(r)?(i.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Ie(Ie({},i),n))};async function Au(e,t,n,r,i,a,l){return new Promise((u,d)=>{e(n,yQ(t,r,i,a)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(l==="vectors"){const h=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!h||!h.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>vQ(f,d,r,l))})}function bj(e="storage"){return{get:async(t,n,r,i)=>Au(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,a)=>Au(t,"POST",n,i,a,r,e),put:async(t,n,r,i,a)=>Au(t,"PUT",n,i,a,r,e),head:async(t,n,r,i)=>Au(t,"HEAD",n,Ie(Ie({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>Au(t,"DELETE",n,i,a,r,e)}}const bQ=bj("storage"),{get:nc,post:Ir,put:nb,head:xQ,remove:w_}=bQ,Qn=bj("vectors");var bl=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=dQ(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ip(n))return{data:null,error:n};throw n}}},_Q=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ip(t))return{data:null,error:t};throw t}}};let xj;xj=Symbol.toStringTag;var wQ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xj]="BlobDownloadBuilder",this.promise=null}asStream(){return new _Q(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ip(t))return{data:null,error:t};throw t}}};const SQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var EQ=class extends bl{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a;const l=Ie(Ie({},iI),r);let u=Ie(Ie({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=Ie(Ie({},u),r.headers));const f=i._removeEmptyFolders(t),h=i._getFinalPath(f),m=await(e=="PUT"?nb:Ir)(i.fetch,`${i.url}/object/${h}`,a,Ie({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:f,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),l=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let d;const f=Ie({upsert:iI.upsert},r),h=Ie(Ie({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{path:a,fullPath:(await nb(i.fetch,u.toString(),d,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=Ie({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Ir(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+a.url),u=l.searchParams.get("token");if(!u)throw new Op("No token returned by API");return{signedUrl:l.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Ir(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Ir(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await Ir(r.fetch,`${r.url}/object/sign/${i}`,Ie({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Ir(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(l=>Ie(Ie({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),u=()=>nc(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0},n);return new wQ(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>tb(await nc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await xQ(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ip(r)&&r instanceof yj){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await w_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=Ie(Ie(Ie({},SQ),t),{},{prefix:e||""});return await Ir(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Ie({},e);return await Ir(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const TQ="2.95.3",Tc={"X-Client-Info":`storage-js/${TQ}`};var AQ=class extends bl{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),l=Ie(Ie({},Tc),t);super(a,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await nc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await nc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Ir(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await nb(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ir(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await w_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},CQ=class extends bl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Ie(Ie({},Tc),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ir(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await nc(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await w_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!hQ(e))throw new Op("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new cQ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},NQ=class extends bl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Ie(Ie({},Tc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Qn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Qn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},OQ=class extends bl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Ie(Ie({},Tc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},IQ=class extends bl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Ie(Ie({},Tc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},PQ=class extends IQ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new RQ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},RQ=class extends NQ{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new MQ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},MQ=class extends OQ{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ie(Ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},DQ=class extends AQ{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new EQ(this.url,this.headers,e,this.fetch)}get vectors(){return new PQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CQ(this.url+"/iceberg",this.headers,this.fetch)}};const kQ="2.39.3";let Mu="";typeof Deno<"u"?Mu="deno":typeof document<"u"?Mu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mu="react-native":Mu="node";const jQ={"X-Client-Info":`supabase-js-${Mu}/${kQ}`};var LQ=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?a(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const UQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=lj:t=fetch,(...n)=>t(...n)},$Q=()=>typeof Headers>"u"?uj:Headers,zQ=(e,t,n)=>{const r=UQ(n),i=$Q();return(a,l)=>LQ(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))})};function BQ(e){return e.replace(/\/$/,"")}function qQ(e,t){const{db:n,auth:r,realtime:i,global:a}=e,{db:l,auth:u,realtime:d,global:f}=t;return{db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign({},f),a)}}const _j="2.95.3",ks=30*1e3,rb=3,qy=rb*ks,GQ="http://localhost:9999",HQ="supabase.auth.token",FQ={"X-Client-Info":`gotrue-js/${_j}`},ib="X-Supabase-Api-Version",wj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KQ=600*1e3;class rc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YQ extends rc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JQ(e){return Te(e)&&e.name==="AuthApiError"}class lo extends rc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hi extends rc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Xn extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gy(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Os extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class df extends Hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ff extends Hi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WQ(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class aI extends Hi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XQ extends Hi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ab extends Hi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hy(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class oI extends Hi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ob extends Hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sI=` 	
\r=`.split(""),ZQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sI.length;t+=1)e[sI[t].charCodeAt(0)]=-2;for(let t=0;t<Ch.length;t+=1)e[Ch[t].charCodeAt(0)]=t;return e})();function lI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ch[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ch[r]),t.queuedBits-=6}}function Sj(e,t,n){const r=ZQ[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uI(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{tee(l,r,n)};for(let l=0;l<e.length;l+=1)Sj(e.charCodeAt(l),i,a);return t.join("")}function QQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eee(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}QQ(r,t)}}function tee(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ys(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Sj(e.charCodeAt(i),n,r);return new Uint8Array(t)}function nee(e){const t=[];return eee(e,n=>t.push(n)),new Uint8Array(t)}function po(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>lI(i,n,r)),lI(null,n,r),t.join("")}function ree(e){return Math.round(Date.now()/1e3)+e}function iee(){return Symbol("auth-callback")}const fn=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},Ej=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function aee(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Tj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",js=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},to=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},dn=async(e,t)=>{await e.removeItem(t)};class Pp{constructor(){this.promise=new Pp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pp.promiseConstructor=Promise;function hf(e){const t=e.split(".");if(t.length!==3)throw new ob("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!VQ.test(t[r]))throw new ob("JWT not in base64url format");return{header:JSON.parse(uI(t[0])),payload:JSON.parse(uI(t[1])),signature:Ys(t[2]),raw:{header:t[0],payload:t[1]}}}async function see(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lee(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function uee(e){return("0"+e.toString(16)).substr(-2)}function cee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,uee).join("")}async function dee(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function fee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dee(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Is(e,t,n=!1){const r=cee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await js(e,`${t}-code-verifier`,i);const a=await fee(r);return[a,r===a?"plain":"s256"]}const hee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pee(e){const t=e.headers.get(ib);if(!t||!t.match(hee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(e){if(!vee.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fy(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yee(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function cI(e){return JSON.parse(JSON.stringify(e))}const ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bee=[502,503,504];async function dI(e){var t;if(!oee(e))throw new ab(ao(e),0);if(bee.includes(e.status))throw new ab(ao(e),e.status);let n;try{n=await e.json()}catch(a){throw new lo(ao(a),a)}let r;const i=pee(e);if(i&&i.getTime()>=wj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oI(ao(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new oI(ao(n),e.status,n.weak_password.reasons);throw new YQ(ao(n),e.status||500,r)}const xee=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Oe(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[ib]||(a[ib]=wj["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await _ee(e,t,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function _ee(e,t,n,r,i,a){const l=xee(t,r,i,a);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new ab(ao(d),0)}if(u.ok||await dI(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await dI(d)}}function Or(e){var t;let n=null;Eee(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ree(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fI(e){const t=Or(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wee(e){return{data:e,error:null}}function See(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,l=Np(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function hI(e){return e}function Eee(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vy=["global","local","others"];class Tee{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Tj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Vy[0]){if(Vy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vy.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sa})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Np(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:See,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sa})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:hI});if(h.error)throw h.error;const m=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ps(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sa})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ps(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Sa})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ps(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sa})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ps(t.userId);try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ps(t.userId),Ps(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:hI});if(h.error)throw h.error;const m=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function pI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Rs={debug:!!(globalThis&&Ej()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Aj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Aee extends Aj{}async function Cee(e,t,n){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Aee(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Nee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Oee(e){return parseInt(e,16)}function Iee(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Pee(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:m,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=Cj(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${_}

${E}`;let C=`URI: ${m}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let P=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}C+=P}return`${T}
${C}`}class zt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Nh extends zt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ree({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Nj(l)){if(a.rp.id!==l)return new zt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Mee({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Nj(r)){if(n.rpId!==r)return new zt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Dee{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kee=new Dee;function jee(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Np(e,["challenge","user","excludeCredentials"]),a=Ys(t).buffer,l=Object.assign(Object.assign({},n),{id:Ys(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ys(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Lee(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Np(e,["challenge","allowCredentials"]),i=Ys(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ys(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Uee(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:po(new Uint8Array(e.response.attestationObject)),clientDataJSON:po(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $ee(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:po(new Uint8Array(i.authenticatorData)),clientDataJSON:po(new Uint8Array(i.clientDataJSON)),signature:po(new Uint8Array(i.signature)),userHandle:i.userHandle?po(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function mI(){var e,t;return!!(fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zee(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nh("Browser returned unexpected credential type",t)}:{data:null,error:new Nh("Empty credential response",t)}}catch(t){return{data:null,error:Ree({error:t,options:e})}}}async function Bee(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nh("Browser returned unexpected credential type",t)}:{data:null,error:new Nh("Empty credential response",t)}}catch(t){return{data:null,error:Mee({error:t,options:e})}}}const qee={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Gee={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const u=r[a];t(u)?r[a]=Oh(u,l):r[a]=Oh(l)}else r[a]=l}return r}function Hee(e,t){return Oh(qee,e,t||{})}function Fee(e,t){return Oh(Gee,e,t||{})}class Vee{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const f=i??kee.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const m=r;if(m)h.name=`${h.id}:${m}`;else{const _=(await this.client.getUser()).data.user,S=((l=_==null?void 0:_.user_metadata)===null||l===void 0?void 0:l.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";h.name=`${h.id}:${S}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=Hee(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:v}=await zee({publicKey:h,signal:f});return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const h=Fee(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:v}=await Bee(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new lo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new rc("rpId is required for WebAuthn authentication")};try{if(!mI())return{data:null,error:new lo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new lo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new rc("rpId is required for WebAuthn registration")};try{if(!mI())return{data:null,error:new lo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new lo("Unexpected error in register",l)}}}}Nee();const Kee={url:GQ,storageKey:HQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gI(e,t,n){return await n()}const Ms={};class ic{get jwks(){var t,n;return(n=(t=Ms[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ms[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Kee),t);if(this.storageKey=a.storageKey,this.instanceID=(n=ic.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ic.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&fn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Tee({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Tj(a.fetch),this.lock=a.lock||gI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&fn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Cee:this.lock=gI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vee(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ej()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=pI(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_j}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(fn()&&(n=aee(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),fn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),WQ(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?this._returnResult({error:n}):this._returnResult({error:new lo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Or}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:m,options:v}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Is(this.storage,this.storageKey)),a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:S},xform:Or})}else if("phone"in t){const{phone:h,password:m,options:v}=t;a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Or})}else throw new df("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await dn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:u}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:fI})}else if("phone"in t){const{phone:a,password:l,options:u}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:fI})}else throw new df("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Os;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,l,u,d,f,h,m,v;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:C,options:P}=t;let R;if(fn())if(typeof T=="object")R=T;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")R=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const I=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),O=await R.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Cj(O[0]);let k=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const z=await R.request({method:"eth_chainId"});k=Oee(z)}const H={domain:I.host,address:M,statement:C,uri:I.href,version:"1",chainId:k,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};_=Pee(H),S=await R.request({method:"personal_sign",params:[Iee(_),M]})}try{const{data:E,error:T}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Or});if(T)throw T;if(!E||!E.session||!E.user){const C=new Os;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Te(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,a,l,u,d,f,h,m,v,_;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:C,statement:P,options:R}=t;let I;if(fn())if(typeof C=="object")I=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))I=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const O=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const M=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),P?{statement:P}:null));let k;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")k=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)k=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),E=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((m=(h=R==null?void 0:R.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...R.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const M=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:T,error:C}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:po(E)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Or});if(C)throw C;if(!T||!T.session||!T.user){const P=new Os;return this._returnResult({data:{user:null,session:null},error:P})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(Te(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await to(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new XQ;const{data:a,error:l}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Or});if(await dn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new Os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=t,u=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Or}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new Os;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Is(this.storage,this.storageKey));const{error:m}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new df("You must provide either an email or phone number.")}catch(u){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Or});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Is(this.storage,this.storageKey));const f=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:wee});return!((a=f.data)===null||a===void 0)&&a.url&&fn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Xn;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:u}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new df("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await to(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Fy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=yee(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sa}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Sa})})}catch(n){if(Te(n))return Gy(n)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Xn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Is(this.storage,this.storageKey));const{data:f,error:h}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Sa});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=hf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Xn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!fn())throw new ff("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ff(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new aI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ff("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new aI("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!a||!u||!l||!f)throw new ff("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let v=h+m;d&&(v=parseInt(d));const _=v-h;_*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=v-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:E,error:T}=await this._getUser(a);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!Gy(a))return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(JQ(u)&&(u.status===404||u.status===401||u.status===403)||Gy(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=iee(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Is(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,d,f,h;const{data:m,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return fn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Te(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,m=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Or}),{data:v,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Os}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(i){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lee(async i=>(i>0&&await see(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Or})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Hy(a)&&Date.now()+l-r<ks})}catch(r){if(this._debug(n,"error",r),Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),fn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await to(this.storage,this.storageKey);if(i&&this.userStorage){let l=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await js(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Fy()}else if(i&&!i.user&&!i.user){const l=await to(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await dn(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,i)):i.user=Fy()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qy;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${qy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Hy(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pp;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Xn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Te(a)){const l={data:null,error:a};return Hy(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await js(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=cI(i);await js(this.storage,this.storageKey,a)}else{const i=cI(n);await js(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ks}ms, refresh threshold is ${rb} ticks`),i<=rb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Aj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Is(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Uee(t.webauthn.credential_response):$ee(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:jee(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Lee(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,a;if(t)try{const{payload:_}=hf(t);let S=null;_.aal&&(S=_.aal);let E=S;const{data:{user:T},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((r=(n=T==null?void 0:T.factors)===null||n===void 0?void 0:n.filter(I=>I.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const R=_.amr||[];return{data:{currentLevel:S,nextLevel:E,currentAuthenticationMethods:R},error:null}}catch(_){if(Te(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=hf(l.access_token);let f=null;d.aal&&(f=d.aal);let h=f;((a=(i=l.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Xn});const l=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&fn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Xn});const l=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&fn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xn})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+KQ>i)return r;const{data:a,error:l}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});r=_.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:d}}=hf(r);n!=null&&n.allowExpired||mee(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:l},error:null}}const h=gee(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,nee(`${u}.${d}`)))throw new ob("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}}ic.nextInstanceID={};class Yee extends ic{constructor(t){super(t)}}var Jee=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?a(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const Wee={headers:jQ},Xee={schema:"public"},Zee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qee={};class ete{constructor(t,n,r){var i,a,l,u,d,f,h,m;if(this.supabaseUrl=t,this.supabaseKey=n,this.from=T=>this.rest.from(T),this.schema=T=>this.rest.schema(T),this.rpc=(T,C={},P)=>this.rest.rpc(T,C,P),!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const v=BQ(t);this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,this.functionsUrl=`${v}/functions/v1`;const _=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:Xee,realtime:Qee,auth:Object.assign(Object.assign({},Zee),{storageKey:_}),global:Wee},E=qQ(r??{},S);this.storageKey=(a=(i=E.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=(l=E.global)===null||l===void 0?void 0:l.headers)!==null&&u!==void 0?u:{},this.auth=this._initSupabaseAuthClient((d=E.auth)!==null&&d!==void 0?d:{},this.headers,(f=E.global)===null||f===void 0?void 0:f.fetch),this.fetch=zQ(n,this._getAccessToken.bind(this),(h=E.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},E.realtime)),this.rest=new BZ(`${v}/rest/v1`,{headers:this.headers,schema:(m=E.db)===null||m===void 0?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new IZ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new DQ(this.storageUrl,this.headers,this.fetch)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Jee(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:l,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yee({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,debug:u,fetch:f})}_initRealtimeClient(t){return new iQ(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tte=(e,t,n)=>new ete(e,t,n),nte=void 0,rte=void 0,ke=tte(nte,rte),bo=({isOpen:e,title:t,message:n,confirmText:r="Confirmar",cancelText:i="Cancelar",onConfirm:a,onCancel:l,type:u="warning"})=>{if(!e)return null;const f={danger:{bg:"bg-red-100",icon:"text-red-600",button:"bg-red-600 hover:bg-red-700",border:"border-red-200"},warning:{bg:"bg-amber-100",icon:"text-amber-600",button:"bg-amber-600 hover:bg-amber-700",border:"border-amber-200"},info:{bg:"bg-blue-100",icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700",border:"border-blue-200"}}[u];return x.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 animate-fadeIn",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scaleIn",children:[x.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[x.jsx("div",{className:`w-12 h-12 rounded-full ${f.bg} flex items-center justify-center flex-shrink-0`,children:x.jsx(Eb,{className:f.icon,size:24})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t}),x.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:n})]}),x.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:x.jsx(Oa,{size:20})})]}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[x.jsx("button",{onClick:l,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:i}),x.jsx("button",{onClick:()=>{a(),l()},className:`flex-1 px-4 py-2.5 ${f.button} text-white rounded-lg transition-colors font-medium`,children:r})]})]}),x.jsx("style",{children:`
                @keyframes fadeIn {
                    from {
                        opacity: 0;
                    }
                    to {
                        opacity: 1;
                    }
                }

                @keyframes scaleIn {
                    from {
                        opacity: 0;
                        transform: scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: scale(1);
                    }
                }

                .animate-fadeIn {
                    animation: fadeIn 0.2s ease-out;
                }

                .animate-scaleIn {
                    animation: scaleIn 0.2s ease-out;
                }
            `})]})},vI=e=>{if(!e)return"";const[t,n,r]=e.split("T")[0].split("-");return`${r}/${n}/${t}`},ite=({transactions:e,setTransactions:t,categories:n,setCategories:r})=>{var Mt,ar,Ki,Ro,Mo,Do,Ac,Cc,bn;const[i,a]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState("idle"),[v,_]=A.useState({isOpen:!1,transactionId:null}),S=Uu.useRef(null),[E,T]=A.useState(null),[C,P]=A.useState(null),[R,I]=A.useState(null);Uu.useEffect(()=>{const K=()=>P(null);return window.addEventListener("click",K),()=>window.removeEventListener("click",K)},[]);const[O,M]=A.useState({description:"",amount:"",type:"INCOME",date:new Date().toISOString().split("T")[0],categoryId:"",subCategoryId:"",notas:"",tags:[]}),[k,H]=A.useState(""),[z,ie]=A.useState("date"),[B,L]=A.useState("desc"),[G,J]=A.useState(""),[ne,$]=A.useState(""),[Z,F]=A.useState(""),[le,he]=A.useState(""),[j,ee]=A.useState(null),de=(K,ve)=>{console.log(" Atualizando cor localmente:",{categoryId:K,newColor:ve}),r(me=>me.map(Se=>String(Se.id)===String(K)?{...Se,color:ve}:Se))},fe=A.useMemo(()=>{const K=e.flatMap(ve=>ve.tags||[]).filter(ve=>ve&&ve.trim()!=="");return Array.from(new Set(K)).sort()},[e]),_e=async K=>{K.preventDefault(),u(!0),m("idle");const ve={Descrio:O.description,Valor:parseFloat(O.amount),tipo:O.type,Data:O.date,categoria_id:O.categoryId&&O.categoryId!==""?O.categoryId:null,subcategoria_id:O.subCategoryId&&O.subCategoryId!==""?O.subCategoryId:null,notas:O.notas||null,tags:O.tags.length>0?O.tags:null};try{if(d){const{data:me,error:Se}=await ke.from("Fluxo de caixa").update(ve).eq("id",d).select();if(Se)throw Se;const Ue={id:me[0].id,date:me[0].Data,description:me[0].Descrio,amount:me[0].Valor,type:me[0].tipo,categoryId:me[0].categoria_id,subCategoryId:me[0].subcategoria_id,notas:me[0].notas||"",tags:me[0].tags||[]};t(at=>at.map($e=>$e.id===d?Ue:$e))}else{const{data:me,error:Se}=await ke.from("Fluxo de caixa").insert([ve]).select();if(Se)throw Se;const Ue={id:me[0].id,date:me[0].Data,description:me[0].Descrio,amount:me[0].Valor,type:me[0].tipo,categoryId:me[0].categoria_id,subCategoryId:me[0].subcategoria_id,notas:me[0].notas||"",tags:me[0].tags||[]};t(at=>[Ue,...at])}m("success"),setTimeout(()=>Ce(),1e3)}catch(me){console.error("Erro ao salvar:",me),m("error"),alert("Falha ao sincronizar com o banco de dados.")}finally{u(!1)}},pe=K=>{f(K.id);let ve=K.date;if(K.date&&!K.date.match(/^\d{4}-\d{2}-\d{2}$/)){const me=new Date(K.date);isNaN(me.getTime())||(ve=me.toISOString().split("T")[0])}M({description:K.description,amount:K.amount.toString(),type:K.type,date:ve,categoryId:K.categoryId,subCategoryId:K.subCategoryId||"",notas:K.notas||"",tags:K.tags||[]}),a(!0)},ce=async K=>{_({isOpen:!0,transactionId:K})},tt=async()=>{if(v.transactionId)try{const{error:K}=await ke.from("Fluxo de caixa").delete().eq("id",v.transactionId);if(K)throw K;t(ve=>ve.filter(me=>me.id!==v.transactionId))}catch(K){console.error("Erro ao deletar:",K),alert("Erro ao remover do banco de dados.")}},te=async()=>{const K=` ATENO! Esta ao ir EXCLUIR TODOS OS ${e.length} REGISTROS da tabela "Fluxo de caixa" no Supabase.

Esta ao  IRREVERSVEL!

Digite "EXCLUIR TUDO" para confirmar:`,ve=prompt(K);if(ve==="EXCLUIR TUDO")try{const{error:me}=await ke.from("Fluxo de caixa").delete().neq("id",0);if(me)throw me;t([]),alert(` Sucesso! Todos os ${e.length} registros foram excludos do Supabase.`)}catch(me){console.error("Erro ao deletar todos os registros:",me),alert(" Erro ao excluir registros do banco de dados.")}else ve!==null&&alert(" Excluso cancelada. Texto de confirmao incorreto.")},Ce=()=>{a(!1),f(null),m("idle"),M({description:"",amount:"",type:"INCOME",date:new Date().toISOString().split("T")[0],categoryId:"",subCategoryId:""})},ue=[...e.filter(K=>{var ve;if(k){const me=k.toLowerCase(),Se=vI(K.date),Ue=K.description.toLowerCase(),at=K.amount.toString(),$e=((ve=n.find(Dt=>Dt.id===K.categoryId))==null?void 0:ve.name)||"";if(!(Se.includes(me)||Ue.includes(me)||at.includes(me)||$e.toLowerCase().includes(me)))return!1}if(G){const me=new Date(K.date),Se=new Date(G);if(me<Se)return!1}if(ne){const me=new Date(K.date),Se=new Date(ne);if(Se.setHours(23,59,59,999),me>Se)return!1}if(Z){if(Z==="SEM_CATEGORIA"){if(K.categoryId&&K.categoryId!=="")return!1}else if(String(K.categoryId)!==String(Z))return!1}return!(le&&String(K.subCategoryId)!==String(le)||K.description.includes("[INVESTIMENTO]"))})].sort((K,ve)=>{var Se,Ue;let me=0;switch(z){case"date":me=new Date(K.date).getTime()-new Date(ve.date).getTime();break;case"description":me=K.description.localeCompare(ve.description);break;case"amount":me=K.amount-ve.amount;break;case"category":const at=((Se=n.find(ze=>ze.id===K.categoryId))==null?void 0:Se.name)||"",$e=((Ue=n.find(ze=>ze.id===ve.categoryId))==null?void 0:Ue.name)||"";me=at.localeCompare($e);break}return B==="asc"?me:-me}),Ye=A.useMemo(()=>{const K={},ve={};ue.forEach($e=>{const ze=n.find(Gr=>String(Gr.id)===String($e.categoryId)),Dt=(ze==null?void 0:ze.name)||"Sem Categoria",kt=(ze==null?void 0:ze.id)||null;$e.type==="INCOME"?(K[Dt]||(K[Dt]={value:0,id:kt}),K[Dt].value+=$e.amount):(ve[Dt]||(ve[Dt]={value:0,id:kt}),ve[Dt].value+=$e.amount)});const me=Object.entries(K).map(([$e,ze])=>{var Dt;return{name:$e,value:ze.value,id:ze.id,percentage:0,color:ze.id?(Dt=n.find(kt=>String(kt.id)===String(ze.id)))==null?void 0:Dt.color:void 0}}),Se=Object.entries(ve).map(([$e,ze])=>{var Dt;return{name:$e,value:ze.value,id:ze.id,percentage:0,color:ze.id?(Dt=n.find(kt=>String(kt.id)===String(ze.id)))==null?void 0:Dt.color:void 0}}).sort(($e,ze)=>ze.value-$e.value),Ue=me.reduce(($e,ze)=>$e+ze.value,0),at=Se.reduce(($e,ze)=>$e+ze.value,0);return me.forEach($e=>{$e.percentage=Ue>0?$e.value/Ue*100:0}),Se.forEach($e=>{$e.percentage=at>0?$e.value/at*100:0}),{incomeData:me,expenseData:Se,totalIncome:Ue,totalExpense:at}},[ue,n]),Me=["#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#34d399","#2dd4bf","#22d3ee"],ht=["#dc2626","#4f46e5","#7c3aed","#ea580c","#0891b2","#db2777","#2563eb","#d97706","#475569","#059669"];return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center gap-4",children:[x.jsxs("div",{className:"relative w-96",children:[x.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),x.jsx("input",{type:"text",placeholder:"Buscar por data, descrio ou valor...",value:k,onChange:K=>H(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),x.jsxs("div",{className:"flex gap-3 items-center",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Ordenar por:"}),x.jsxs("select",{value:z,onChange:K=>ie(K.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:[x.jsx("option",{value:"date",children:"Data"}),x.jsx("option",{value:"description",children:"Descrio"}),x.jsx("option",{value:"amount",children:"Valor"}),x.jsx("option",{value:"category",children:"Categoria"})]})]}),x.jsxs("select",{value:B,onChange:K=>L(K.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:[x.jsx("option",{value:"asc",children:"Crescente"}),x.jsx("option",{value:"desc",children:"Decrescente"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[e.length>0&&x.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-colors border-2 border-rose-600 hover:border-rose-700",children:[x.jsx(Eb,{size:18})," Limpar Tudo"]}),x.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[x.jsx(Aa,{size:18})," Novo Registro"]})]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Perodo:"}),x.jsx("input",{type:"date",value:G,onChange:K=>J(K.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),x.jsx("span",{className:"text-slate-500",children:"at"}),x.jsx("input",{type:"date",value:ne,onChange:K=>$(K.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Categoria:"}),x.jsxs("select",{value:Z,onChange:K=>{F(K.target.value),he("")},className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm min-w-[150px]",children:[x.jsx("option",{value:"",children:"Todas"}),x.jsx("option",{value:"SEM_CATEGORIA",children:"Sem Categoria"}),n.map(K=>x.jsx("option",{value:K.id,children:K.name},K.id))]})]}),Z&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Subcategoria:"}),x.jsxs("select",{value:le,onChange:K=>he(K.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm min-w-[150px]",children:[x.jsx("option",{value:"",children:"Todas"}),(ar=(Mt=n.find(K=>String(K.id)===String(Z)))==null?void 0:Mt.subCategories)==null?void 0:ar.map(K=>x.jsx("option",{value:K.id,children:K.name},K.id))]})]}),(G||ne||Z||le)&&x.jsx("button",{onClick:()=>{J(""),$(""),F(""),he("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-indigo-600 font-medium transition-colors",children:"Limpar Filtros"}),x.jsxs("div",{className:"ml-auto text-sm text-slate-600",children:[x.jsx("span",{className:"font-medium",children:ue.length})," de ",x.jsx("span",{className:"font-medium",children:e.length})," transaes"]})]}),e.length>0&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsx("input",{type:"color",ref:S,className:"hidden",value:(R==null?void 0:R.color)||((Ki=n.find(K=>String(K.id)===String(E)))==null?void 0:Ki.color)||"#000000",onChange:K=>{E&&(I({categoryId:E,color:K.target.value}),P(`fs-${E}`))}}),Ye.incomeData.length>0&&x.jsxs("div",{onClick:()=>ee("INCOME"),className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 hover:shadow-md transition-all cursor-pointer group relative hover:border-indigo-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),"Entradas por Categoria"]}),x.jsxs("div",{className:"text-center mb-4",children:[x.jsxs("p",{className:"text-3xl font-bold text-emerald-600",children:["R$ ",Ye.totalIncome.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Total de Entradas"})]}),x.jsx(Ef,{width:"100%",height:350,children:x.jsxs($y,{children:[x.jsx(Of,{data:Ye.incomeData,cx:"40%",cy:"50%",labelLine:!1,label:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",children:Ye.incomeData.map((K,ve)=>x.jsx(Ks,{fill:K.color||Me[ve%Me.length]},`cell-${ve}`))}),x.jsx(Af,{formatter:K=>`R$ ${K.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px 12px"}}),x.jsx(w0,{layout:"vertical",align:"right",verticalAlign:"middle",iconType:"circle",content:K=>{const{payload:ve}=K;return x.jsx("ul",{className:"space-y-2 ml-4",children:ve==null?void 0:ve.map((me,Se)=>{const Ue=me.payload,at=Me[Se%Me.length],$e=Ue.color||at;return x.jsx("li",{className:"flex items-center justify-between text-[11px] font-medium text-slate-600 py-1",children:x.jsxs("div",{className:"flex items-center min-w-0",children:[x.jsx("div",{className:"w-3 h-3 rounded-full mr-2 shrink-0 shadow-sm border border-slate-100",style:{backgroundColor:$e}}),x.jsx("span",{className:"truncate max-w-[80px]",children:me.value}),x.jsxs("span",{className:"ml-1 text-slate-400 shrink-0",children:["(",Ue.percentage.toFixed(1),"%)"]})]})},`item-${Se}`)})})}})]})}),x.jsx("div",{className:"mt-2 text-center text-xs text-slate-400 italic",children:"Clique no grfico para ampliar e editar"})]}),Ye.expenseData.length>0&&x.jsxs("div",{onClick:()=>ee("EXPENSE"),className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 hover:shadow-md transition-all cursor-pointer group relative hover:border-rose-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),"Sadas por Categoria"]}),x.jsxs("div",{className:"text-center mb-4",children:[x.jsxs("p",{className:"text-3xl font-bold text-rose-600",children:["R$ ",Ye.totalExpense.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Total de Sadas"})]}),x.jsx(Ef,{width:"100%",height:350,children:x.jsxs($y,{children:[x.jsx(Of,{data:Ye.expenseData,cx:"40%",cy:"50%",labelLine:!1,label:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",children:Ye.expenseData.map((K,ve)=>x.jsx(Ks,{fill:K.color||ht[ve%ht.length]},`cell-${ve}`))}),x.jsx(Af,{formatter:K=>`R$ ${K.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px 12px"}}),x.jsx(w0,{layout:"vertical",align:"right",verticalAlign:"middle",iconType:"circle",content:K=>{const{payload:ve}=K;return x.jsx("ul",{className:"space-y-2 ml-4",children:ve==null?void 0:ve.map((me,Se)=>{const Ue=me.payload,at=ht[Se%ht.length],$e=Ue.color||at;return x.jsx("li",{className:"flex items-center justify-between text-[11px] font-medium text-slate-600 py-1",children:x.jsxs("div",{className:"flex items-center min-w-0",children:[x.jsx("div",{className:"w-3 h-3 rounded-full mr-2 shrink-0 shadow-sm border border-slate-100",style:{backgroundColor:$e}}),x.jsx("span",{className:"truncate max-w-[80px]",children:me.value}),x.jsxs("span",{className:"ml-1 text-slate-400 shrink-0",children:["(",Ue.percentage.toFixed(1),"%)"]})]})},`item-${Se}`)})})}})]})}),x.jsx("div",{className:"mt-2 text-center text-xs text-slate-400 italic",children:"Clique no grfico para ampliar e editar"})]})]}),x.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Data"}),x.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Descrio"}),x.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Categoria"}),x.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Subcategoria"}),x.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),x.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center",children:"Aes"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:ue.length>0?ue.map(K=>{var me;const ve=n.find(Se=>String(Se.id)===String(K.categoryId));return(me=ve==null?void 0:ve.subCategories)==null||me.find(Se=>String(Se.id)===String(K.subCategoryId)),x.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:vI(K.date)}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`p-1 rounded-full ${K.type==="INCOME"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:K.type==="INCOME"?x.jsx(xf,{size:14}):x.jsx(bf,{size:14})}),x.jsx("span",{className:"text-sm font-medium text-slate-800",children:K.description})]})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("select",{value:K.categoryId||"",onChange:async Se=>{const Ue=Se.target.value;try{const{error:at}=await ke.from("Fluxo de caixa").update({categoria_id:Ue,subcategoria_id:null}).eq("id",K.id);if(at)throw at;t($e=>$e.map(ze=>ze.id===K.id?{...ze,categoryId:Ue,subCategoryId:""}:ze))}catch(at){console.error("Erro ao atualizar categoria:",at),alert("Erro ao atualizar categoria")}},className:"text-sm text-slate-700 bg-transparent border border-slate-200 rounded px-2 py-1 hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[x.jsx("option",{value:"",children:"Sem Categoria"}),n.filter(Se=>Se.type===K.type).map(Se=>x.jsx("option",{value:Se.id,children:Se.name},Se.id))]})}),x.jsx("td",{className:"px-6 py-4",children:ve&&ve.subCategories.length>0?x.jsxs("select",{value:K.subCategoryId||"",onChange:async Se=>{const Ue=Se.target.value;try{const{error:at}=await ke.from("Fluxo de caixa").update({subcategoria_id:Ue||null}).eq("id",K.id);if(at)throw at;t($e=>$e.map(ze=>ze.id===K.id?{...ze,subCategoryId:Ue}:ze))}catch(at){console.error("Erro ao atualizar subcategoria:",at),alert("Erro ao atualizar subcategoria")}},className:"text-sm text-slate-600 bg-transparent border border-slate-200 rounded px-2 py-1 hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[x.jsx("option",{value:"",children:"Nenhuma"}),ve.subCategories.map(Se=>x.jsx("option",{value:Se.id,children:Se.name},Se.id))]}):x.jsx("span",{className:"text-xs text-slate-400",children:"-"})}),x.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${K.type==="INCOME"?"text-emerald-600":"text-rose-600"}`,children:[K.type==="INCOME"?"+":"-"," R$ ",K.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("button",{onClick:()=>pe(K),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",children:x.jsx(xo,{size:16})}),x.jsx("button",{onClick:()=>ce(K.id),className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",children:x.jsx(Sn,{size:16})})]})})]},K.id)}):x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400 font-medium",children:'Nenhum dado encontrado em "Fluxo de caixa"'})})})]})}),i&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-8 py-6 flex justify-between items-center",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:d?"Editar Registro":"Novo Registro"}),x.jsx("button",{onClick:Ce,className:"text-slate-400 hover:text-slate-600 transition-colors",children:""})]}),x.jsxs("form",{onSubmit:_e,className:"p-8 space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsx("button",{type:"button",onClick:()=>M({...O,type:"INCOME"}),className:`py-3 rounded-xl border-2 font-bold transition-all ${O.type==="INCOME"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-100 text-slate-400"}`,children:"Entrada"}),x.jsx("button",{type:"button",onClick:()=>M({...O,type:"EXPENSE"}),className:`py-3 rounded-xl border-2 font-bold transition-all ${O.type==="EXPENSE"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 text-slate-400"}`,children:"Sada"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Descrio"}),x.jsx("input",{type:"text",required:!0,value:O.description,onChange:K=>M({...O,description:K.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data"}),x.jsx("input",{type:"date",required:!0,value:O.date,onChange:K=>M({...O,date:K.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor"}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:O.amount,onChange:K=>M({...O,amount:K.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Categoria"}),x.jsxs("select",{required:!0,value:O.categoryId,onChange:K=>M({...O,categoryId:K.target.value,subCategoryId:""}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[x.jsx("option",{value:"",children:"Selecione..."}),n.filter(K=>K.type===O.type).map(K=>x.jsx("option",{value:K.id,children:K.name},K.id))]})]})]}),O.categoryId&&x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Subcategoria ",((Mo=(Ro=n.find(K=>String(K.id)===String(O.categoryId)))==null?void 0:Ro.subCategories)==null?void 0:Mo.length)>0?"":"(Esta categoria no tem subcategorias)"]}),x.jsxs("select",{value:O.subCategoryId,onChange:K=>M({...O,subCategoryId:K.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:!((Ac=(Do=n.find(K=>String(K.id)===String(O.categoryId)))==null?void 0:Do.subCategories)!=null&&Ac.length),children:[x.jsx("option",{value:"",children:"Nenhuma"}),(bn=(Cc=n.find(K=>String(K.id)===String(O.categoryId)))==null?void 0:Cc.subCategories)==null?void 0:bn.map(K=>x.jsx("option",{value:K.id,children:K.name},K.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas"}),x.jsx("textarea",{value:O.notas,onChange:K=>M({...O,notas:K.target.value}),placeholder:"Adicione observaes sobre este lanamento...",rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tags"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",value:O.tags.join(", "),onChange:K=>{const me=K.target.value.split(",").map(Se=>Se.trim()).filter(Se=>Se!=="");M({...O,tags:me})},placeholder:"Digite tags separadas por vrgula (ex: urgente, fiscal, recorrente)",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),O.tags.length>0&&x.jsx("div",{className:"flex flex-wrap gap-2",children:O.tags.map((K,ve)=>x.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-100 text-indigo-700 text-sm rounded-full",children:[K,x.jsx("button",{type:"button",onClick:()=>{const me=O.tags.filter((Se,Ue)=>Ue!==ve);M({...O,tags:me})},className:"hover:text-indigo-900",children:""})]},ve))}),fe.length>0&&x.jsxs("div",{className:"border-t border-slate-200 pt-2",children:[x.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tags disponveis (clique para adicionar):"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:fe.map((K,ve)=>{const me=O.tags.includes(K);return x.jsx("button",{type:"button",onClick:()=>{me||M({...O,tags:[...O.tags,K]})},disabled:me,className:`px-3 py-1 text-sm rounded-full transition-colors ${me?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-slate-50 text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 border border-slate-200 hover:border-indigo-300"}`,children:K},ve)})})]})]})]}),h==="success"&&x.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-200 rounded-lg flex items-center gap-2 text-emerald-700",children:[x.jsx(Sb,{size:20}),x.jsx("span",{className:"font-medium",children:"Registro salvo com sucesso!"})]}),x.jsxs("div",{className:"flex gap-4 pt-6 border-t border-slate-200",children:[x.jsx("button",{type:"button",disabled:l,onClick:Ce,className:"flex-1 py-3 text-slate-600 font-medium hover:bg-slate-50 rounded-lg transition-colors border border-slate-200",children:"Cancelar"}),x.jsxs("button",{type:"submit",disabled:l,className:"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[l&&x.jsx(Xs,{size:16,className:"animate-spin"}),d?"Atualizar":"Sincronizar"]})]})]})]})}),x.jsx(bo,{isOpen:v.isOpen,title:"Excluir Transao",message:"Deseja realmente excluir este registro do Fluxo de Caixa? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",type:"danger",onConfirm:tt,onCancel:()=>_({isOpen:!1,transactionId:null})}),j&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md flex items-center justify-center z-[100] p-4 sm:p-8 animate-in fade-in transition-all",onClick:()=>ee(null),children:x.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in duration-300",onClick:K=>K.stopPropagation(),children:[x.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[x.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[x.jsx("div",{className:`w-4 h-4 rounded-full ${j==="INCOME"?"bg-emerald-500":"bg-rose-500"}`}),j==="INCOME"?"Anlise Detalhada de Entradas":"Anlise Detalhada de Sadas"]}),x.jsx("button",{onClick:()=>ee(null),className:"p-2 hover:bg-slate-200 rounded-full text-slate-400 transition-colors",children:x.jsx(Oa,{size:24})})]}),x.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[x.jsx("div",{className:"lg:col-span-2 bg-slate-50 rounded-2xl p-6 min-h-[400px]",children:x.jsx(Ef,{width:"100%",height:"100%",children:x.jsxs($y,{children:[x.jsx(Of,{data:j==="INCOME"?Ye.incomeData:Ye.expenseData,cx:"50%",cy:"50%",labelLine:!0,label:({name:K,percentage:ve})=>`${K} (${ve.toFixed(1)}%)`,outerRadius:"80%",fill:"#8884d8",dataKey:"value",paddingAngle:2,children:(j==="INCOME"?Ye.incomeData:Ye.expenseData).map((K,ve)=>x.jsx(Ks,{fill:K.color||(j==="INCOME"?Me[ve%Me.length]:ht[ve%ht.length])},`cell-${ve}`))}),x.jsx(Af,{formatter:K=>`R$ ${K.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,contentStyle:{backgroundColor:"white",border:"none",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",padding:"12px 16px"}})]})})}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:`p-6 rounded-2xl ${j==="INCOME"?"bg-emerald-50":"bg-rose-50"}`,children:[x.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Valor Total"}),x.jsxs("p",{className:`text-4xl font-black ${j==="INCOME"?"text-emerald-700":"text-rose-700"}`,children:["R$ ",(j==="INCOME"?Ye.totalIncome:Ye.totalExpense).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-6 shadow-sm overflow-hidden",children:[x.jsx("h4",{className:"text-sm font-bold text-slate-800 mb-4 border-b border-slate-50 pb-2",children:"Distribuio por Categoria"}),x.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:(j==="INCOME"?Ye.incomeData:Ye.expenseData).map((K,ve)=>{const me=j==="INCOME"?Me[ve%Me.length]:ht[ve%ht.length],Se=K.color||me;return x.jsxs("div",{className:"flex items-center justify-between group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-3 h-3 rounded-full shrink-0 border border-slate-100",style:{backgroundColor:Se}}),x.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-indigo-600 transition-colors truncate",children:K.name})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-sm font-bold text-slate-900",children:["R$ ",K.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsxs("p",{className:"text-[10px] font-bold text-slate-400",children:[K.percentage.toFixed(1),"%"]})]}),K.id&&x.jsxs("div",{className:"relative shrink-0",children:[x.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),P(C===`fs-${K.id}`?null:`fs-${K.id}`)},className:"p-2 hover:bg-white rounded-lg text-slate-400 hover:text-indigo-600 transition-colors",children:x.jsx(QP,{size:16})}),C===`fs-${K.id}`&&x.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-slate-200 rounded-xl shadow-2xl z-[100] min-w-[200px] overflow-hidden animate-in slide-in-from-top-2 duration-150",onClick:Ue=>Ue.stopPropagation(),children:R&&String(R.categoryId)===String(K.id)?x.jsxs("div",{className:"p-3 space-y-2 bg-slate-50/50",children:[x.jsxs("div",{className:"flex items-center gap-2 px-1",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),x.jsx("p",{className:"text-[10px] font-bold text-emerald-700 uppercase tracking-wider",children:"Salvar alterao?"})]}),x.jsxs("button",{onClick:Ue=>{Ue.preventDefault(),de(String(K.id),R.color),I(null),P(null)},className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-all shadow-md shadow-emerald-100 text-[11px] font-bold active:scale-95",children:[x.jsx("div",{className:"w-3 h-3 rounded-full border border-white/30",style:{backgroundColor:R.color}}),"Confirmar e Mudar"]}),x.jsx("button",{onClick:()=>{I(null),P(null)},className:"w-full px-3 py-1.5 text-slate-400 hover:text-slate-600 text-[10px] font-bold transition-colors hover:bg-slate-100 rounded-md",children:"Cancelar"})]}):x.jsxs("button",{onClick:()=>{T(K.id),setTimeout(()=>{var Ue;return(Ue=S.current)==null?void 0:Ue.click()},0)},className:"w-full flex items-center gap-3 px-4 py-4 text-left hover:bg-indigo-50 text-slate-700 font-bold transition-colors group active:bg-indigo-100",children:[x.jsx("div",{className:"w-5 h-5 rounded-full border border-slate-200 group-hover:scale-110 transition-transform shadow-inner",style:{backgroundColor:Se}}),x.jsx("span",{className:"text-sm",children:"Alterar Cor"})]})})]})]})]},ve)})})]}),x.jsx("button",{onClick:()=>ee(null),className:"w-full py-4 bg-slate-800 text-white rounded-2xl font-bold hover:bg-slate-900 transition-all shadow-lg shadow-slate-200",children:"Fechar Visualizao"})]})]})})]})})]})},ate=e=>{if(!e)return"";const t=e.split("T")[0],[n,r,i]=t.split("-");return`${i}/${r}/${n}`},ote=({investments:e,setInvestments:t,setTransactions:n})=>{var B;const[r,i]=A.useState(!1),[a,l]=A.useState(!1),[u,d]=A.useState("idle"),[f,h]=A.useState(null),[m,v]=A.useState({isOpen:!1,investment:null}),[_,S]=A.useState({description:"",amount:"",type:"INCOME",date_lancamento:new Date().toISOString().split("T")[0]}),[E,T]=A.useState(""),C=L=>{h(L.id),S({description:L.description,amount:L.amount.toString(),type:L.type,date_lancamento:L.date_lancamento}),i(!0)},P=()=>{i(!1),h(null),S({description:"",amount:"",type:"INCOME",date_lancamento:new Date().toISOString().split("T")[0]}),d("idle")},R=async L=>{L.preventDefault(),l(!0),d("syncing");try{const G=parseFloat(_.amount),J={descrio:_.description,entrada:_.type==="INCOME"?G:0,sada:_.type==="EXPENSE"?G:0,data_lancamento:_.date_lancamento};if(f){const{data:ne,error:$}=await ke.from("investimento").update(J).eq("id",f).select();if($)throw $;const Z={id:ne[0].id,description:ne[0].descrio,amount:ne[0].entrada||ne[0].sada||0,type:ne[0].entrada?"INCOME":"EXPENSE",date_lancamento:ne[0].data_lancamento};t(F=>F.map(le=>le.id===f?Z:le))}else{const{data:ne,error:$}=await ke.from("investimento").insert([J]).select();if($)throw $;const Z={id:ne[0].id,description:ne[0].descrio,amount:ne[0].entrada||ne[0].sada||0,type:ne[0].entrada?"INCOME":"EXPENSE",date_lancamento:ne[0].data_lancamento};t(F=>[Z,...F])}d("success"),setTimeout(()=>P(),1e3)}catch(G){console.error(" Erro ao salvar:",G),d("error"),alert(`Erro: ${G.message}`)}finally{l(!1)}},I=async L=>{const G=e.find(J=>J.id===L);G&&v({isOpen:!0,investment:G})},O=async()=>{if(m.investment)try{const L=`[INVESTIMENTO] ${m.investment.description}`,{error:G}=await ke.from("Fluxo de caixa").delete().eq("Descrio",L);if(G)throw G;const{error:J}=await ke.from("investimento").delete().eq("id",m.investment.id);if(J)throw J;t(ne=>ne.filter($=>$.id!==m.investment.id)),n(ne=>ne.filter($=>$.description!==L))}catch(L){console.error("Erro ao deletar:",L),alert(`Erro ao remover: ${L.message}`)}},M=async()=>{const L=` ATENO! Esta ao ir EXCLUIR TODOS OS ${e.length} INVESTIMENTOS da tabela "investimento" no Supabase.\\n\\nEsta ao  IRREVERSVEL!\\n\\nDigite "EXCLUIR TUDO" para confirmar:`;if(prompt(L)==="EXCLUIR TUDO")try{const{error:J}=await ke.from("investimento").delete().neq("id",0);if(J)throw J;t([]),alert(` Sucesso! Todos os ${e.length} investimentos foram excludos do Supabase.`)}catch(J){console.error("Erro ao excluir tudo:",J),alert(`Erro: ${J.message}`)}else alert(' Operao cancelada. Digite exatamente "EXCLUIR TUDO" para confirmar.')},k=e.filter(L=>L.type==="INCOME").reduce((L,G)=>L+G.amount,0),H=e.filter(L=>L.type==="EXPENSE").reduce((L,G)=>L+G.amount,0),z=k-H,ie=e.filter(L=>L.description.toLowerCase().includes(E.toLowerCase())||L.amount.toString().includes(E)||L.date_lancamento.includes(E));return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Investimentos"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gerencie suas entradas e sadas de investimentos"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[x.jsx(Sn,{size:16}),"Excluir Tudo"]}),x.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[x.jsx(Aa,{size:16}),"Novo Investimento"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-sm font-medium text-green-700",children:"Entradas"}),x.jsx(xf,{className:"text-green-600",size:20})]}),x.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["R$ ",k.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-6 rounded-xl border border-red-200",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-sm font-medium text-red-700",children:"Sadas"}),x.jsx(bf,{className:"text-red-600",size:20})]}),x.jsxs("p",{className:"text-2xl font-bold text-red-900",children:["R$ ",H.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsxs("div",{className:`bg-gradient-to-br ${z>=0?"from-blue-50 to-indigo-50 border-blue-200":"from-orange-50 to-amber-50 border-orange-200"} p-6 rounded-xl border`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:`text-sm font-medium ${z>=0?"text-blue-700":"text-orange-700"}`,children:"Saldo"}),x.jsx(az,{className:z>=0?"text-blue-600":"text-orange-600",size:20})]}),x.jsxs("p",{className:`text-2xl font-bold ${z>=0?"text-blue-900":"text-orange-900"}`,children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),x.jsx("input",{type:"text",placeholder:"Buscar por descrio, valor ou data...",value:E,onChange:L=>T(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:x.jsxs("div",{className:"overflow-x-auto",children:[x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),x.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.map(L=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ate(L.date_lancamento)}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L.description}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${L.type==="INCOME"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[L.type==="INCOME"?x.jsx(xf,{size:12}):x.jsx(bf,{size:12}),L.type==="INCOME"?"Entrada":"Sada"]})}),x.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-semibold text-right ${L.type==="INCOME"?"text-green-600":"text-red-600"}`,children:["R$ ",L.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("button",{onClick:()=>C(L),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:x.jsx(xo,{size:16})}),x.jsx("button",{onClick:()=>I(L.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:x.jsx(Sn,{size:16})})]})})]},L.id))})]}),ie.length===0&&x.jsx("div",{className:"text-center py-12 text-gray-500",children:x.jsx("p",{children:"Nenhum investimento encontrado"})})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:f?"Editar Investimento":"Novo Investimento"}),x.jsxs("form",{onSubmit:R,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),x.jsx("input",{type:"text",required:!0,value:_.description,onChange:L=>S({..._,description:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Aes da Petrobras"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("button",{type:"button",onClick:()=>S({..._,type:"INCOME"}),className:`px-4 py-2 rounded-lg font-medium transition-all ${_.type==="INCOME"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[x.jsx(xf,{size:16,className:"inline mr-1"}),"Entrada"]}),x.jsxs("button",{type:"button",onClick:()=>S({..._,type:"EXPENSE"}),className:`px-4 py-2 rounded-lg font-medium transition-all ${_.type==="EXPENSE"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[x.jsx(bf,{size:16,className:"inline mr-1"}),"Sada"]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:_.amount,onChange:L=>S({..._,amount:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0,00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Lanamento"}),x.jsx("input",{type:"date",required:!0,value:_.date_lancamento,onChange:L=>S({..._,date_lancamento:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u!=="idle"&&x.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${u==="syncing"?"bg-blue-50 text-blue-700":u==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[u==="syncing"&&x.jsx(Xs,{size:16,className:"animate-spin"}),u==="success"&&x.jsx(Sb,{size:16}),u==="error"&&x.jsx(Eb,{size:16}),x.jsxs("span",{className:"text-sm font-medium",children:[u==="syncing"&&"Salvando...",u==="success"&&"Salvo com sucesso!",u==="error"&&"Erro ao salvar"]})]}),x.jsxs("div",{className:"flex gap-2 pt-2",children:[x.jsx("button",{type:"button",onClick:P,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:a,children:"Cancelar"}),x.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?x.jsxs(x.Fragment,{children:[x.jsx(Xs,{size:16,className:"animate-spin"}),"Salvando..."]}):f?"Atualizar":"Salvar"})]})]})]})}),x.jsx(bo,{isOpen:m.isOpen,title:"Excluir Investimento",message:`Deseja realmente excluir o investimento "${(B=m.investment)==null?void 0:B.description}"? Isso tambm remover o lanamento correspondente no Fluxo de Caixa. Esta ao no pode ser desfeita.`,confirmText:"Excluir",cancelText:"Cancelar",type:"danger",onConfirm:O,onCancel:()=>v({isOpen:!1,investment:null})})]})},yI=e=>{if(!e)return"";const[t,n,r]=e.split("T")[0].split("-");return`${r}/${n}/${t}`},ste=({bills:e,setBills:t,setTransactions:n})=>{var ie;const[r,i]=A.useState(!1),[a,l]=A.useState(null),[u,d]=A.useState({isOpen:!1,billId:null}),[f,h]=A.useState(!1),[m,v]=A.useState({isOpen:!1,bill:null}),[_,S]=A.useState({data:new Date().toISOString().split("T")[0],nome_cliente:"",descricao:"",entrada:"",saida:""}),[E,T]=A.useState(""),[C,P]=A.useState(()=>{const B=new Date;return`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}`}),R=B=>{l(B.id),S({data:B.data,nome_cliente:B.nome_cliente||"",descricao:B.descricao,entrada:B.entrada.toString(),saida:B.saida.toString()}),i(!0)},I=async B=>{B.preventDefault();const L=parseFloat(_.entrada)||0,G=parseFloat(_.saida)||0;if(L===0&&G===0){alert("Preencha pelo menos um dos campos: A Receber ou A Pagar");return}const J={data:_.data,nome_cliente:_.nome_cliente,descricao:_.descricao,entrada:L,sada:G};console.log(" Tentando salvar:",J);try{if(a){const{data:ne,error:$}=await ke.from("contas_pagar_receber").update(J).eq("id",a).select();if($)throw $;const Z={id:ne[0].id,data:ne[0].data,nome_cliente:ne[0].nome_cliente,descricao:ne[0].descricao,entrada:ne[0].entrada,saida:ne[0].sada};t(F=>F.map(le=>le.id===a?Z:le))}else{const{data:ne,error:$}=await ke.from("contas_pagar_receber").insert([J]).select();if($)throw $;const Z={id:ne[0].id,data:ne[0].data,nome_cliente:ne[0].nome_cliente,descricao:ne[0].descricao,entrada:ne[0].entrada,saida:ne[0].sada};t(F=>[Z,...F])}i(!1),l(null),S({data:new Date().toISOString().split("T")[0],nome_cliente:"",descricao:"",entrada:"",saida:""})}catch(ne){console.error(" Erro completo ao salvar:",ne),console.error(" Detalhes do erro:",{message:ne.message,details:ne.details,hint:ne.hint,code:ne.code}),alert(`Falha ao sincronizar: ${ne.message||"Erro desconhecido"}

Verifique o console para mais detalhes.`)}},O=async B=>{d({isOpen:!0,billId:B})},M=async()=>{if(u.billId)try{const{error:B}=await ke.from("contas_pagar_receber").delete().eq("id",u.billId);if(B)throw B;t(L=>L.filter(G=>G.id!==u.billId))}catch{alert("Erro ao deletar conta")}},k=async B=>{v({isOpen:!0,bill:B})},H=async()=>{if(!m.bill)return;const B=m.bill;try{const L=B.entrada>0,G=L?B.entrada:B.saida,{data:J,error:ne}=await ke.from("Fluxo de caixa").insert([{Data:new Date().toISOString().split("T")[0],Descrio:`[PAGO] ${B.nome_cliente?B.nome_cliente+" - ":""}${B.descricao}`,Valor:L?G:-G,tipo:(L?G:-G)>=0?"INCOME":"EXPENSE",Saldo:0}]).select();if(ne)throw ne;const $={id:J[0].id,date:J[0].Data,description:J[0].Descrio,amount:Math.abs(J[0].Valor),balance:J[0].Saldo,type:J[0].Valor>=0?"INCOME":"EXPENSE",categoryId:"",subCategoryId:""};n(F=>[$,...F]);const{error:Z}=await ke.from("contas_pagar_receber").delete().eq("id",B.id);if(Z)throw Z;t(F=>F.filter(le=>le.id!==B.id)),alert("Pagamento registrado com sucesso!")}catch(L){console.error("Erro ao registrar pagamento:",L),alert(`Erro: ${L.message}`)}},z=e.filter(B=>{if(C){const[F,le]=C.split("-"),[he,j]=B.data.split("-");if(F!==he||le!==j)return!1}if(!E)return!0;const L=E.toLowerCase(),G=yI(B.data),J=B.descricao.toLowerCase(),ne=(B.nome_cliente||"").toLowerCase(),$=B.entrada.toString(),Z=B.saida.toString();return G.includes(L)||J.includes(L)||ne.includes(L)||$.includes(L)||Z.includes(L)});return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex justify-between items-center",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[x.jsx("div",{className:"flex items-center gap-3 bg-white border border-gray-200 rounded-xl px-4 py-2 shadow-sm hover:border-blue-400 transition-colors group",children:x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter leading-none mb-1",children:"Perodo de Referncia"}),x.jsx("input",{type:"month",value:C,onChange:B=>P(B.target.value),className:"bg-transparent border-none focus:outline-none text-sm font-bold text-gray-700 cursor-pointer"})]})}),x.jsxs("div",{className:"relative w-80 group",children:[x.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",size:18}),x.jsx("input",{type:"text",placeholder:"Buscar por descrio, cliente...",value:E,onChange:B=>T(B.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 shadow-sm transition-all"})]}),x.jsxs("button",{onClick:()=>{l(null),S({data:new Date().toISOString().split("T")[0],descricao:"",entrada:"",saida:""}),i(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[x.jsx(Aa,{size:18}),"Nova Conta"]}),x.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg hover:bg-red-100 transition-colors font-medium shadow-sm",children:[x.jsx(Sn,{size:18}),"Excluir Tudo"]})]})}),x.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Data"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Cliente"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Descrio"}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-green-700 uppercase",children:"A Receber"}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-red-700 uppercase",children:"A Pagar"}),x.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Aes"})]})}),x.jsxs("tbody",{className:"divide-y divide-gray-200",children:[z.map(B=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:yI(B.data)}),x.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:B.nome_cliente||"-"}),x.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:B.descricao}),x.jsx("td",{className:"px-6 py-4 text-right",children:B.entrada>0?x.jsxs("span",{className:"text-sm font-bold text-green-600 flex items-center justify-end gap-1",children:[x.jsx(jh,{size:14}),"R$ ",B.entrada.toLocaleString("pt-BR",{minimumFractionDigits:2})]}):x.jsx("span",{className:"text-gray-300",children:"-"})}),x.jsx("td",{className:"px-6 py-4 text-right",children:B.saida>0?x.jsxs("span",{className:"text-sm font-bold text-red-600 flex items-center justify-end gap-1",children:[x.jsx(wb,{size:14}),"R$ ",B.saida.toLocaleString("pt-BR",{minimumFractionDigits:2})]}):x.jsx("span",{className:"text-gray-300",children:"-"})}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("button",{onClick:()=>k(B),title:"Marcar como pago",className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:x.jsx(pz,{size:16})}),x.jsx("button",{onClick:()=>R(B),className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:x.jsx(xo,{size:16})}),x.jsx("button",{onClick:()=>O(B.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:x.jsx(Sn,{size:16})})]})})]},B.id)),e.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:"Nenhuma conta cadastrada"})})]})]})})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:a?"Editar Conta":"Nova Conta"}),x.jsxs("form",{onSubmit:I,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),x.jsx("input",{type:"date",required:!0,value:_.data,onChange:B=>S({..._,data:B.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),x.jsx("input",{type:"text",value:_.nome_cliente,onChange:B=>S({..._,nome_cliente:B.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Acme Corp"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),x.jsx("input",{type:"text",required:!0,value:_.descricao,onChange:B=>S({..._,descricao:B.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Aluguel, Fornecedor"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"A Receber (R$)"}),x.jsx("input",{type:"number",step:"0.01",value:_.entrada,onChange:B=>S({..._,entrada:B.target.value}),className:"w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0,00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"A Pagar (R$)"}),x.jsx("input",{type:"number",step:"0.01",value:_.saida,onChange:B=>S({..._,saida:B.target.value}),className:"w-full px-4 py-2 border border-red-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0,00"})]})]}),x.jsx("p",{className:"text-xs text-gray-500",children:" Preencha apenas um dos campos (A Receber ou A Pagar)"}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),S({data:new Date().toISOString().split("T")[0],nome_cliente:"",descricao:"",entrada:"",saida:""})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),x.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:a?"Atualizar":"Salvar"})]})]})]})}),x.jsx(bo,{isOpen:u.isOpen,title:"Excluir Conta",message:"Tem certeza que deseja excluir esta conta? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",type:"danger",onConfirm:M,onCancel:()=>d({isOpen:!1,billId:null})}),x.jsx(bo,{isOpen:f,title:"Excluir Todas as Contas",message:" ATENO: Deseja excluir TODAS as contas a pagar e receber? Esta ao no pode ser desfeita e remover todos os registros permanentemente.",confirmText:"Excluir Tudo",cancelText:"Cancelar",type:"danger",onConfirm:async()=>{try{const{error:B}=await ke.from("contas_pagar_receber").delete().neq("id","0");if(B)throw B;t([])}catch{alert("Erro ao excluir todas as contas")}},onCancel:()=>h(!1)}),x.jsx(bo,{isOpen:m.isOpen,title:"Confirmar Pagamento",message:`Confirmar o pagamento de "${(ie=m.bill)==null?void 0:ie.descricao}"? Isso registrar a transao no Fluxo de Caixa e remover esta conta da lista.`,confirmText:"Confirmar Pagamento",cancelText:"Cancelar",type:"info",onConfirm:H,onCancel:()=>v({isOpen:!1,bill:null})})]})},lte=({forecasts:e,setForecasts:t})=>{const[n,r]=A.useState(!1),[i,a]=A.useState(null),[l,u]=A.useState(new Date().getFullYear()),[d,f]=A.useState({isOpen:!1,forecastId:null}),[h,m]=A.useState(!1),[v,_]=A.useState({description:"",amount:"",recorrente:!1,mes:new Date().toISOString().slice(0,7)}),[S,E]=A.useState(null),[T,C]=A.useState(""),P=G=>{a(G.id),_({description:G.description,amount:G.amount.toString(),recorrente:G.recorrente,mes:G.mes}),r(!0)},R=async G=>{G.preventDefault();const J={descrio:v.description,valor:parseFloat(v.amount),"recorrente?":v.recorrente?"sim":"nao",mes:v.mes};try{if(i){const{data:ne,error:$}=await ke.from("previsao_despesa").update(J).eq("id",i).select();if($)throw $;const Z={id:ne[0].id,description:ne[0].descrio,amount:ne[0].valor,recorrente:ne[0]["recorrente?"]==="sim",mes:ne[0].mes};t(F=>F.map(le=>le.id===i?Z:le))}else{const{data:ne,error:$}=await ke.from("previsao_despesa").insert([J]).select();if($)throw $;const Z={id:ne[0].id,description:ne[0].descrio,amount:ne[0].valor,recorrente:ne[0]["recorrente?"]==="sim",mes:ne[0].mes};t(F=>[Z,...F])}r(!1),a(null),_({description:"",amount:"",recorrente:!1,mes:new Date().toISOString().slice(0,7)})}catch(ne){console.error(" Erro ao salvar:",ne),alert(`Erro ao salvar: ${ne.message||"Erro desconhecido"}`)}},I=async G=>{f({isOpen:!0,forecastId:G})},O=async()=>{if(d.forecastId)try{const{error:G}=await ke.from("previsao_despesa").delete().eq("id",d.forecastId);if(G)throw G;t(J=>J.filter(ne=>ne.id!==d.forecastId))}catch{alert("Erro ao remover previso.")}},M=e.filter(G=>G.mes.startsWith(l.toString()));let k=M.map(G=>({description:G.description,id:G.id,amount:G.amount,recorrente:G.recorrente,month:parseInt(G.mes.split("-")[1])}));if(T){const G=T.toLowerCase();k=k.filter(J=>{const ne=J.description.toLowerCase(),Z=["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"][J.month-1];return ne.includes(G)||Z.includes(G)})}k.sort((G,J)=>G.month-J.month||G.description.localeCompare(J.description));const H=Array(12).fill(0).map((G,J)=>{const ne=J+1;return M.filter($=>parseInt($.mes.split("-")[1])===ne).reduce(($,Z)=>$+Z.amount,0)}),z=H.reduce((G,J)=>G+J,0),ie=[...new Set(e.map(G=>parseInt(G.mes.split("-")[0])))].sort();ie.length===0&&ie.push(new Date().getFullYear());const B=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],L=(G,J)=>{const ne=G.currentTarget.getBoundingClientRect();E({id:J,x:ne.left+window.scrollX,y:ne.top+window.scrollY})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-black text-slate-900 flex items-center gap-3 tracking-tight",children:[x.jsx("div",{className:"p-2 bg-indigo-100 rounded-xl",children:x.jsx(fz,{className:"text-indigo-600",size:24})}),"PREVISO DE GASTOS"]}),x.jsx("p",{className:"text-slate-500 text-sm mt-1 font-medium",children:"Gesto e Planejamento do Resultado Anual (DRE)"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto",children:[x.jsxs("div",{className:"relative flex-1 lg:w-80",children:[x.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),x.jsx("input",{type:"text",placeholder:"Buscar despesa ou ms...",value:T,onChange:G=>C(G.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all text-sm shadow-sm"})]}),x.jsx("div",{className:"flex items-center gap-2 bg-white border border-slate-200 p-1 rounded-xl shadow-sm",children:ie.map(G=>x.jsx("button",{onClick:()=>u(G),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${l===G?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:G},G))}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>m(!0),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all border border-transparent hover:border-red-100",title:"Limpar Ano",children:x.jsx(Sn,{size:20})}),x.jsxs("button",{onClick:()=>{a(null),_({description:"",amount:"",recorrente:!1,mes:`${l}-01`}),r(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all font-bold shadow-lg shadow-slate-200",children:[x.jsx(Aa,{size:18}),"Novo Lanamento"]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Previsto no Ano"}),x.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Mdia Mensal"}),x.jsxs("p",{className:"text-2xl font-black text-indigo-600",children:["R$ ",(z/12).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsx(tR,{className:"text-indigo-200",size:32})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Categorias Ativas"}),x.jsxs("p",{className:"text-2xl font-black text-slate-700",children:[new Set(k.map(G=>G.description)).size," ",x.jsx("span",{className:"text-sm font-bold text-slate-400",children:"tens"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 overflow-hidden shadow-xl shadow-slate-100/50",children:[x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-slate-50/50",children:[x.jsx("th",{className:"px-8 py-6 text-left font-black text-slate-400 sticky left-0 bg-slate-50 z-20 min-w-[280px] border-b border-slate-200 uppercase tracking-widest text-[9px]",children:"Categoria da Despesa"}),B.map((G,J)=>x.jsx("th",{className:"px-4 py-6 text-right font-black text-slate-400 min-w-[110px] border-b border-slate-200 uppercase tracking-widest text-[9px]",children:G},J)),x.jsx("th",{className:"px-8 py-6 text-right font-black text-slate-900 bg-slate-100/50 min-w-[140px] border-b border-slate-200 uppercase tracking-widest text-[9px]",children:"Total Anual"}),x.jsx("th",{className:"px-4 py-6 border-b border-slate-200 bg-slate-50"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-100",children:[k.length>0?k.map(G=>x.jsxs("tr",{className:"hover:bg-indigo-50/30 group transition-all duration-200",children:[x.jsx("td",{className:"px-8 py-4 font-bold text-slate-700 sticky left-0 bg-white group-hover:bg-slate-50/80 z-10 border-r border-slate-100",children:x.jsxs("div",{className:"flex items-center gap-2",children:[G.recorrente&&x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shadow-sm shadow-indigo-200",title:"Recorrente"}),G.description]})}),B.map((J,ne)=>{const $=G.month===ne+1;return x.jsx("td",{className:"px-2 py-4 text-right",children:$?x.jsx("div",{onClick:Z=>L(Z,G.id),className:`
                                                                    ${G.recorrente?"text-indigo-600 bg-indigo-50/50 border-indigo-100":"text-slate-600 bg-slate-50 border-slate-100"} 
                                                                    text-[12px] font-black px-3 py-2 rounded-xl transition-all cursor-pointer border hover:scale-105 hover:shadow-sm active:scale-95
                                                                `,children:G.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}):x.jsx("span",{className:"text-slate-200/50 font-black",children:"---"})},ne)}),x.jsx("td",{className:"px-8 py-4 text-right font-black text-slate-400 italic bg-slate-50/30",children:G.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}),x.jsx("td",{className:"px-4 py-4 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx("button",{onClick:()=>I(G.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:x.jsx(Sn,{size:16})})})]},G.id)):x.jsx("tr",{children:x.jsxs("td",{colSpan:15,className:"px-8 py-20 text-center text-slate-300 font-bold italic tracking-tight",children:["Nenhuma previso cadastrada para ",l]})}),x.jsxs("tr",{className:"bg-slate-900 font-black text-white",children:[x.jsx("td",{className:"px-8 py-6 sticky left-0 bg-slate-900 border-t border-slate-800 uppercase tracking-widest text-[10px]",children:"TOTAL DE SADAS PREVISTAS"}),H.map((G,J)=>x.jsx("td",{className:"px-4 py-6 text-right border-t border-slate-800 tabular-nums",children:G>0?G.toLocaleString("pt-BR",{minimumFractionDigits:2}):"-"},J)),x.jsxs("td",{className:"px-8 py-6 text-right text-indigo-400 text-base border-t border-slate-800 tabular-nums",children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsx("td",{className:"bg-slate-900 border-t border-slate-800"})]})]})]})}),x.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 flex items-center gap-6 border-t border-slate-100",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2.5 h-2.5 bg-indigo-500 rounded-full shadow-sm shadow-indigo-100"}),x.jsx("span",{className:"text-[9px] uppercase font-black text-slate-400 tracking-widest",children:"Recorrncia Mensal"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2.5 h-2.5 bg-slate-300 rounded-full shadow-sm"}),x.jsx("span",{className:"text-[9px] uppercase font-black text-slate-400 tracking-widest",children:"Gasto Eventual"})]}),x.jsxs("div",{className:"ml-auto flex items-center gap-4 text-[9px] uppercase font-black text-slate-400 tracking-widest",children:[x.jsxs("span",{children:[k.length," previses"]}),x.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),x.jsxs("span",{children:["DRE ",l]})]})]})]}),S&&x.jsx("div",{className:"fixed z-[100] bg-white rounded-xl shadow-2xl border border-gray-100 p-2 min-w-[140px] animate-in fade-in zoom-in duration-200",style:{left:`${S.x}px`,top:`${S.y-50}px`},children:x.jsxs("div",{className:"flex gap-1",children:[x.jsxs("button",{onClick:()=>{const G=e.find(J=>J.id===S.id);G&&P(G),E(null)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 hover:bg-slate-50 rounded-lg text-indigo-600 font-bold text-xs",children:[x.jsx(xo,{size:12})," Editar"]}),x.jsxs("button",{onClick:()=>{I(S.id),E(null)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 hover:bg-red-50 rounded-lg text-red-600 font-bold text-xs",children:[x.jsx(Sn,{size:12})," Excluir"]}),x.jsx("button",{onClick:()=>E(null),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-400",children:x.jsx(Oa,{size:12})})]})}),S&&x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>E(null)}),n&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:i?"Editar Previso":"Nova Previso"}),x.jsxs("form",{onSubmit:R,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),x.jsx("input",{type:"text",required:!0,value:v.description,onChange:G=>_({...v,description:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: Aluguel, Salrios, Energia"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:v.amount,onChange:G=>_({...v,amount:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0,00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ms de Referncia"}),x.jsx("input",{type:"month",required:!0,value:v.mes,onChange:G=>_({...v,mes:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),x.jsxs("div",{className:"flex items-center pt-2",children:[x.jsx("input",{type:"checkbox",id:"recorrente",checked:v.recorrente,onChange:G=>_({...v,recorrente:G.target.checked}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),x.jsx("label",{htmlFor:"recorrente",className:"ml-2 text-sm font-medium text-gray-700",children:"Despesa recorrente (aparece em azul)"})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>{r(!1),a(null),_({description:"",amount:"",recorrente:!1,mes:`${l}-01`})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),x.jsx("button",{type:"submit",className:"flex-1 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors",children:i?"Atualizar":"Salvar"})]})]})]})}),x.jsx(bo,{isOpen:d.isOpen,title:"Excluir Previso",message:"Tem certeza que deseja excluir esta previso de despesa? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",type:"danger",onConfirm:O,onCancel:()=>f({isOpen:!1,forecastId:null})}),x.jsx(bo,{isOpen:h,title:"Excluir Todas as Previses do Ano",message:` ATENO: Deseja excluir TODAS as previses do ano de ${l}? Esta ao no pode ser desfeita e remover todos os registros permanentemente.`,confirmText:"Excluir Tudo",cancelText:"Cancelar",type:"danger",onConfirm:async()=>{try{const{error:G}=await ke.from("previsao_despesa").delete().filter("mes","like",`${l}-%`);if(G)throw G;t(J=>J.filter(ne=>!ne.mes.startsWith(l.toString())))}catch{alert("Erro ao remover todas as previses.")}},onCancel:()=>m(!1)})]})},Cu=e=>{if(!e)return"";const t=e.split("T")[0],[n,r,i]=t.split("-");return`${i}/${r}/${n}`},ute=({contracts:e,setContracts:t,setBills:n,setTransactions:r})=>{const[i,a]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(!1),[h,m]=A.useState(null),[v,_]=A.useState(null),[S,E]=A.useState(null),[T,C]=A.useState(null),[P,R]=A.useState(1),[I,O]=A.useState({nome_cliente:"",servico:"",pago:"",receber:"",data_pagamento:"",inicio_contrato:"",final_contrato:"",parcela:""}),[M,k]=A.useState(""),H=(F,le)=>{if(!F||!le)return 1;const[he,j]=F.split("-").map(Number),[ee,de]=le.split("-").map(Number),fe=(ee-he)*12+(de-j);return Math.max(1,fe+1)},z=F=>{var le;C(F.id),O({nome_cliente:F.nome_cliente,servico:F.servico,pago:F.pago.toString(),receber:F.receber.toString(),data_pagamento:F.data_pagamento||"",inicio_contrato:F.inicio_contrato,final_contrato:F.final_contrato,parcela:((le=F.parcela)==null?void 0:le.toString())||""}),a(!0),E(null)},ie=async(F,le,he)=>{const j=he/le,[ee,de,fe]=F.inicio_contrato.split("-").map(Number),_e=[];for(let pe=0;pe<le;pe++){let ce=de+pe,tt=ee;for(;ce>12;)ce-=12,tt+=1;const te=`${tt}-${String(ce).padStart(2,"0")}-${String(fe).padStart(2,"0")}`;_e.push({data:te,nome_cliente:F["Nome cliente"],descricao:`${F.Servio} (${pe+1}/${le})`,entrada:j,sada:0})}try{const{data:pe,error:ce}=await ke.from("contas_pagar_receber").insert(_e).select();if(ce)throw ce;const tt=pe.map(te=>({id:te.id,data:te.data,nome_cliente:te.nome_cliente,descricao:te.descricao,entrada:te.entrada,saida:te.sada||0}));n(te=>[...tt,...te])}catch(pe){console.error("Erro ao criar contas a receber:",pe)}},B=async(F,le)=>{if(!(le<=0))try{const he=F.data_pagamento||new Date().toISOString().split("T")[0],{data:j,error:ee}=await ke.from("Fluxo de caixa").insert([{Data:he,Descrio:`${F["Nome cliente"]} - ${F.Servio}`,Valor:-le,tipo:-le>=0?"INCOME":"EXPENSE",Saldo:0,categoria_id:null,subcategoria_id:null}]).select();if(ee)throw ee;const de={id:j[0].id,date:j[0].Data,description:j[0].Descrio,amount:Math.abs(j[0].Valor),balance:j[0].Saldo||0,type:j[0].Valor>=0?"INCOME":"EXPENSE",categoryId:"",subCategoryId:""};r(fe=>[de,...fe])}catch(he){console.error("Erro ao criar entrada no fluxo de caixa:",he)}},L=async F=>{if(F.preventDefault(),(parseInt(I.parcela)||0)>P){alert(`O nmero de parcelas no pode ser maior que ${P} (baseado na durao do contrato de ${P} meses).`);return}const he={"Nome cliente":I.nome_cliente,Servio:I.servico,Pago:parseFloat(I.pago),Receber:parseFloat(I.receber),data_pagamento:I.data_pagamento||new Date().toISOString().split("T")[0],inicio_contrato:I.inicio_contrato,final_contrato:I.final_contrato,parcela:I.parcela?parseInt(I.parcela):null};try{if(T){const{data:j,error:ee}=await ke.from("Contratos").update(he).eq("id",T).select();if(ee)throw ee;const de={id:j[0].id,nome_cliente:j[0]["Nome cliente"],servico:j[0].Servio,pago:j[0].Pago,receber:j[0].Receber,data_pagamento:j[0].data_pagamento,inicio_contrato:j[0].inicio_contrato,final_contrato:j[0].final_contrato,parcela:j[0].parcela};t(_e=>_e.map(pe=>pe.id===T?de:pe));const fe=parseFloat(I.pago);fe>0&&await B(he,fe)}else{const{data:j,error:ee}=await ke.from("Contratos").insert([he]).select();if(ee)throw ee;const de={id:j[0].id,nome_cliente:j[0]["Nome cliente"],servico:j[0].Servio,pago:j[0].Pago,receber:j[0].Receber,data_pagamento:j[0].data_pagamento,inicio_contrato:j[0].inicio_contrato,final_contrato:j[0].final_contrato,parcela:j[0].parcela};t(ce=>[de,...ce]);const fe=parseInt(I.parcela)||0,_e=parseFloat(I.receber),pe=parseFloat(I.pago);fe>0&&_e>0&&await ie(he,fe,_e),pe>0&&await B(he,pe)}a(!1),C(null),O({nome_cliente:"",servico:"",pago:"",receber:"",data_pagamento:"",inicio_contrato:"",final_contrato:"",parcela:""})}catch(j){console.error("Erro ao salvar contrato:",j),alert(`Erro ao salvar: ${j.message||"Erro desconhecido"}`)}},G=F=>{m(F),f(!0),E(null)},J=async()=>{if(h)try{const F=`${h.nome_cliente} - ${h.servico}`;await ke.from("Fluxo de caixa").delete().eq("Descrio",F),await ke.from("contas_pagar_receber").delete().eq("nome_cliente",h.nome_cliente).eq("descricao",h.servico);const{error:le}=await ke.from("Contratos").delete().eq("id",h.id);if(le)throw le;t(he=>he.filter(j=>j.id!==h.id)),r(he=>he.filter(j=>j.description!==F)),n(he=>he.filter(j=>j.nome_cliente!==h.nome_cliente||j.descricao!==h.servico)),f(!1),m(null)}catch(F){console.error("Erro ao deletar:",F),alert("Erro ao remover contrato e dependncias.")}},ne=F=>{_(F),u(!0)},$=F=>F.pago>=F.receber?{label:"PAGO",class:"bg-green-50 text-green-600 border border-green-200"}:{label:"PENDENTE",class:"bg-yellow-50 text-yellow-600 border border-yellow-200"},Z=e.filter(F=>F.nome_cliente.toLowerCase().includes(M.toLowerCase())||F.servico.toLowerCase().includes(M.toLowerCase())||F.pago.toString().includes(M)||F.receber.toString().includes(M));return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contratos"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gerencie seus contratos e pagamentos"})]}),x.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[x.jsx(Aa,{size:16}),"Novo Contrato"]})]}),x.jsxs("div",{className:"relative",children:[x.jsx(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),x.jsx("input",{type:"text",placeholder:"Buscar por cliente, servio ou valor...",value:M,onChange:F=>k(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Z.length===0?x.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[x.jsx(Wy,{size:48,className:"mx-auto text-gray-300 mb-4"}),x.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum contrato encontrado"}),x.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Clique em "Novo Contrato" para adicionar um'})]}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(F=>{const le=$(F),he=F.pago/F.receber*100;return x.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-300 overflow-hidden group cursor-pointer relative",onClick:()=>ne(F),children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-bold text-lg truncate",children:F.nome_cliente}),x.jsx("p",{className:"text-blue-100 text-sm truncate",children:F.servico})]}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:j=>{j.stopPropagation(),E(S===F.id?null:F.id)},className:"p-1.5 hover:bg-blue-400/30 rounded-lg transition-colors",children:x.jsx(QP,{size:18})}),S===F.id&&x.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-30",onClick:j=>j.stopPropagation(),children:[x.jsxs("button",{onClick:j=>{j.stopPropagation(),ne(F)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 rounded-t-lg",children:[x.jsx(Wy,{size:14}),"Ver Detalhes"]}),x.jsxs("button",{onClick:j=>{j.stopPropagation(),z(F)},className:"w-full px-4 py-2 text-left text-sm text-blue-600 hover:bg-blue-50 flex items-center gap-2",children:[x.jsx(xo,{size:14}),"Editar"]}),x.jsxs("button",{onClick:j=>{j.stopPropagation(),G(F)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 rounded-b-lg",children:[x.jsx(Sn,{size:14}),"Excluir"]})]})]})]}),x.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium ${le.class} bg-white`,children:le.label})]}),x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-100",children:[x.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"Pago"}),x.jsxs("p",{className:"text-lg font-bold text-green-700",children:["R$ ",F.pago.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-100",children:[x.jsx("p",{className:"text-xs text-orange-600 font-medium mb-1",children:"A Receber"}),x.jsxs("p",{className:"text-lg font-bold text-orange-700",children:["R$ ",F.receber.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-1",children:[x.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Progresso"}),x.jsxs("span",{className:"text-xs text-gray-700 font-semibold",children:[Math.min(he,100).toFixed(0),"%"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:x.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(he,100)}%`}})})]}),x.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[x.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Perodo do Contrato"}),x.jsxs("p",{className:"text-sm text-gray-700 font-medium",children:[Cu(F.inicio_contrato)," - ",Cu(F.final_contrato)]})]}),F.parcela&&x.jsx("div",{className:"flex items-center gap-2 text-sm",children:x.jsxs("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-medium",children:[F.parcela,"x parcelas"]})})]}),x.jsx("div",{className:"bg-gray-50 px-4 py-2 border-t border-gray-100",children:x.jsx("p",{className:"text-xs text-gray-500 text-center group-hover:text-blue-600 transition-colors",children:"Clique para ver todos os detalhes"})})]},F.id)})}),i&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:T?"Editar Contrato":"Novo Contrato"}),x.jsx("button",{onClick:()=>{a(!1),C(null)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(Oa,{size:20})})]}),x.jsxs("form",{onSubmit:L,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Cliente"}),x.jsx("input",{type:"text",required:!0,value:I.nome_cliente,onChange:F=>O({...I,nome_cliente:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Joo Silva"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servio"}),x.jsx("input",{type:"text",required:!0,value:I.servico,onChange:F=>O({...I,servico:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Desenvolvimento Web"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Pago"}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:I.pago,onChange:F=>O({...I,pago:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0,00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a Receber"}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:I.receber,onChange:F=>O({...I,receber:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0,00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Pagamento"}),x.jsx("input",{type:"date",value:I.data_pagamento,onChange:F=>O({...I,data_pagamento:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Incio do Contrato"}),x.jsx("input",{type:"date",required:!0,value:I.inicio_contrato,onChange:F=>{const le={...I,inicio_contrato:F.target.value};O(le);const he=H(F.target.value,I.final_contrato);R(he)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fim do Contrato"}),x.jsx("input",{type:"date",required:!0,value:I.final_contrato,onChange:F=>{const le={...I,final_contrato:F.target.value};O(le);const he=H(I.inicio_contrato,F.target.value);R(he)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcelas (Mensais)"}),x.jsx("input",{type:"number",min:"1",max:P,value:I.parcela,onChange:F=>O({...I,parcela:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Mx: ${P}`}),x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" Mximo de ",P," parcela",P>1?"s":""," (baseado na durao do contrato)"]})]})]}),x.jsxs("div",{className:"flex gap-2 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>{a(!1),C(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),x.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:T?"Atualizar":"Salvar"})]})]})]})}),l&&v&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Detalhes do Contrato"}),x.jsx("button",{onClick:()=>u(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(Oa,{size:20})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Cliente"}),x.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v.nome_cliente})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Servio"}),x.jsx("p",{className:"text-lg text-gray-900",children:v.servico})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Pago"}),x.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["R$ ",v.pago.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"A Receber"}),x.jsxs("p",{className:"text-lg font-semibold text-orange-600",children:["R$ ",v.receber.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Perodo do Contrato"}),x.jsxs("p",{className:"text-lg text-gray-900",children:[Cu(v.inicio_contrato)," at ",Cu(v.final_contrato)]})]}),v.parcela&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Parcelas"}),x.jsxs("p",{className:"text-lg text-gray-900",children:[v.parcela,"x"]})]}),v.data_pagamento&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Pagamento"}),x.jsx("p",{className:"text-lg text-gray-900",children:Cu(v.data_pagamento)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),x.jsx("div",{className:"mt-1",children:x.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${$(v).class}`,children:$(v).label})})]})]}),x.jsx("button",{onClick:()=>u(!1),className:"w-full mt-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Fechar"})]})}),d&&h&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:x.jsx(Sn,{className:"text-red-600",size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Excluir Contrato"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Esta ao no pode ser desfeita"})]})]}),x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[x.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:" Ateno!"}),x.jsxs("p",{className:"text-sm text-red-700",children:["Ao excluir o contrato de ",x.jsx("strong",{children:h.nome_cliente}),", tambm sero removidos:"]}),x.jsxs("ul",{className:"text-sm text-red-700 mt-2 ml-4 space-y-1",children:[x.jsx("li",{children:" Todos os lanamentos no Fluxo de Caixa"}),x.jsx("li",{children:" Todas as Contas a Receber vinculadas"})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-6",children:[x.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Contrato:"}),x.jsx("p",{className:"text-sm font-semibold text-gray-900",children:h.nome_cliente}),x.jsx("p",{className:"text-sm text-gray-600",children:h.servico})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>{f(!1),m(null)},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancelar"}),x.jsxs("button",{onClick:J,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[x.jsx(Sn,{size:16}),"Excluir"]})]})]})})]})},cte=({categories:e,setCategories:t})=>{const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState(null),[h,m]=A.useState(new Set),[v,_]=A.useState({name:"",type:"INCOME",color:"#3b82f6"}),[S,E]=A.useState({name:""}),T=O=>{const M=new Set(h);M.has(O)?M.delete(O):M.add(O),m(M)},C=async O=>{O.preventDefault();try{if(l){const{data:M,error:k}=await ke.from("Categoria").update({Categoria:v.name,etiquetas:v.type==="INCOME"?"entrada":"sada",cor:v.color}).eq("id",l).select();if(k)throw k;t(H=>H.map(z=>z.id===l?{...z,name:v.name,type:v.type,color:v.color}:z))}else{const{data:M,error:k}=await ke.from("Categoria").insert([{Categoria:v.name,etiquetas:v.type==="INCOME"?"entrada":"sada",cor:v.color}]).select();if(k)throw k;const H={id:M[0].id,name:v.name,type:v.type,subCategories:[],color:v.color};t(z=>[...z,H])}r(!1),u(null),_({name:"",type:"INCOME",color:"#3b82f6"})}catch(M){console.error("Erro ao salvar categoria:",M),alert(`Erro: ${M.message||"Falha na conexo"}`)}},P=async O=>{if(O.preventDefault(),!!d)try{const{data:M,error:k}=await ke.from("Subcategoria").insert([{nome:S.name,categoria_id:d}]).select();if(k)throw k;const H={id:M[0].id,name:M[0].nome};t(z=>z.map(ie=>ie.id===d?{...ie,subCategories:[...ie.subCategories,H]}:ie)),a(!1),E({name:""})}catch(M){console.error("Erro ao salvar subcategoria:",M),alert(`Erro: ${M.message||"Falha ao salvar subcategoria"}`)}},R=async O=>{if(confirm("Deseja excluir esta categoria?"))try{const{error:M}=await ke.from("Categoria").delete().eq("id",O);if(M)throw M;t(k=>k.filter(H=>H.id!==O))}catch{alert("Erro ao deletar categoria")}},I=async(O,M)=>{if(console.log(" Tentando deletar subcategoria:",{categoryId:O,subId:M}),confirm("Deseja excluir esta subcategoria?")){console.log(" Confirmao aceita pelo usurio");try{console.log(" Enviando requisio DELETE para Supabase...");const{error:k}=await ke.from("Subcategoria").delete().eq("id",M);if(k)throw console.error(" Erro do Supabase:",k),k;console.log(" Subcategoria deletada do banco de dados"),t(H=>H.map(z=>z.id===O?{...z,subCategories:z.subCategories.filter(ie=>ie.id!==M)}:z)),console.log(" Estado local atualizado"),alert("Subcategoria excluda com sucesso!")}catch(k){console.error(" Erro ao deletar subcategoria:",k),alert(`Erro ao deletar subcategoria: ${k.message||"Erro desconhecido"}`)}}else console.log(" Usurio cancelou a excluso")};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categorias"}),x.jsxs("button",{onClick:()=>{u(null),_({name:"",type:"INCOME",color:"#3b82f6"}),r(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[x.jsx(Aa,{size:18}),"Nova Categoria"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[x.jsx("div",{className:"bg-green-600 px-5 py-3",children:x.jsx("h2",{className:"text-lg font-bold text-white",children:" Receitas"})}),x.jsxs("div",{className:"p-4 space-y-2",children:[e.filter(O=>O.type==="INCOME").map(O=>x.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[x.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[x.jsx("button",{onClick:()=>T(O.id),className:"text-gray-600 hover:text-gray-900",children:h.has(O.id)?x.jsx(BT,{size:18}):x.jsx(qT,{size:18})}),x.jsx("div",{className:"w-4 h-4 rounded-full shadow-inner border border-white",style:{backgroundColor:O.color||"#e2e8f0"}}),x.jsx("span",{className:"font-medium text-gray-900",children:O.name}),x.jsxs("span",{className:"text-xs text-gray-500",children:["(",O.subCategories.length,")"]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>{f(O.id),a(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",title:"Adicionar subcategoria",children:x.jsx(Aa,{size:16})}),x.jsx("button",{onClick:()=>{u(O.id),_({name:O.name,type:O.type,color:O.color||"#3b82f6"}),r(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:x.jsx(xo,{size:16})}),x.jsx("button",{onClick:()=>R(O.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:x.jsx(Sn,{size:16})})]})]}),h.has(O.id)&&O.subCategories.length>0&&x.jsx("div",{className:"bg-white p-3 pl-10 space-y-1 border-t border-gray-200",children:O.subCategories.map(M=>x.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-gray-50 rounded group",children:[x.jsxs("span",{className:"text-sm text-gray-700",children:[" ",M.name]}),x.jsx("button",{onClick:()=>I(O.id,M.id),className:"opacity-0 group-hover:opacity-100 text-red-600 hover:bg-red-50 p-1 rounded",children:x.jsx(Sn,{size:14})})]},M.id))})]},O.id)),e.filter(O=>O.type==="INCOME").length===0&&x.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"Nenhuma categoria de receita"})]})]}),x.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[x.jsx("div",{className:"bg-red-600 px-5 py-3",children:x.jsx("h2",{className:"text-lg font-bold text-white",children:" Despesas"})}),x.jsxs("div",{className:"p-4 space-y-2",children:[e.filter(O=>O.type==="EXPENSE").map(O=>x.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[x.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[x.jsx("button",{onClick:()=>T(O.id),className:"text-gray-600 hover:text-gray-900",children:h.has(O.id)?x.jsx(BT,{size:18}):x.jsx(qT,{size:18})}),x.jsx("div",{className:"w-4 h-4 rounded-full shadow-inner border border-white",style:{backgroundColor:O.color||"#e2e8f0"}}),x.jsx("span",{className:"font-medium text-gray-900",children:O.name}),x.jsxs("span",{className:"text-xs text-gray-500",children:["(",O.subCategories.length,")"]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>{f(O.id),a(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",title:"Adicionar subcategoria",children:x.jsx(Aa,{size:16})}),x.jsx("button",{onClick:()=>{u(O.id),_({name:O.name,type:O.type,color:O.color||"#3b82f6"}),r(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:x.jsx(xo,{size:16})}),x.jsx("button",{onClick:()=>R(O.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:x.jsx(Sn,{size:16})})]})]}),h.has(O.id)&&O.subCategories.length>0&&x.jsx("div",{className:"bg-white p-3 pl-10 space-y-1 border-t border-gray-200",children:O.subCategories.map(M=>x.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-gray-50 rounded group",children:[x.jsxs("span",{className:"text-sm text-gray-700",children:[" ",M.name]}),x.jsx("button",{onClick:()=>I(O.id,M.id),className:"opacity-0 group-hover:opacity-100 text-red-600 hover:bg-red-50 p-1 rounded",children:x.jsx(Sn,{size:14})})]},M.id))})]},O.id)),e.filter(O=>O.type==="EXPENSE").length===0&&x.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"Nenhuma categoria de despesa"})]})]})]}),n&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:l?"Editar Categoria":"Nova Categoria"}),x.jsxs("form",{onSubmit:C,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Categoria"}),x.jsx("input",{type:"text",required:!0,value:v.name,onChange:O=>_({...v,name:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Salrio, Aluguel"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),x.jsxs("select",{value:v.type,onChange:O=>_({...v,type:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"INCOME",children:"Receita"}),x.jsx("option",{value:"EXPENSE",children:"Despesa"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor no Grfico"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"color",value:v.color,onChange:O=>_({...v,color:O.target.value}),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer overflow-hidden p-0"}),x.jsx("input",{type:"text",value:v.color,onChange:O=>_({...v,color:O.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 uppercase font-mono",placeholder:"#FFFFFF"})]})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>{r(!1),u(null),_({name:"",type:"INCOME",color:"#3b82f6"})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),x.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:l?"Atualizar":"Salvar"})]})]})]})}),i&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nova Subcategoria"}),x.jsxs("form",{onSubmit:P,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Subcategoria"}),x.jsx("input",{type:"text",required:!0,value:S.name,onChange:O=>E({name:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Freelance, Aluguel Comercial"})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>{a(!1),E({name:""})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),x.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar"})]})]})]})})]})},dte=({setTransactions:e,categories:t,onComplete:n})=>{const[r,i]=A.useState([]),[a,l]=A.useState(null),[u,d]=A.useState("idle"),[f,h]=A.useState(""),m=A.useRef(null),v=T=>{var R;const C=(R=T.target.files)==null?void 0:R[0];if(!C)return;const P=new FileReader;P.onload=I=>{var z,ie;const M=((z=I.target)==null?void 0:z.result).split(`
`),k=[],H=M[0].toLowerCase().includes("data")?1:0;for(let B=H;B<M.length;B++){const L=M[B].trim();if(!L)continue;const G=L.split(/[,;]/);if(G.length<3)continue;const J=G[0].trim(),ne=G[1].trim();let $=G[2].trim();const Z=$.includes("-")||$.startsWith("("),F=$.includes("+");$=$.replace("R$","").replace(/\./g,"").replace(",",".").replace("+","").replace("-","").replace("(","").replace(")","");let le=parseFloat($)||0;Z?le=-Math.abs(le):F&&(le=Math.abs(le));const he=(ie=G[3])==null?void 0:ie.trim().replace("R$","").replace(/\./g,"").replace(",","."),j=parseFloat(he)||0;k.push({tempId:crypto.randomUUID(),date:_(J),description:ne,amount:Math.abs(le),balance:j,type:le>=0?"INCOME":"EXPENSE",categoryId:"",subCategoryId:""})}i(B=>[...B,...k]),d("idle")},P.readAsText(C),m.current&&(m.current.value="")},_=T=>{const C=T.split("/");return C.length===3?`${C[2]}-${C[1].padStart(2,"0")}-${C[0].padStart(2,"0")}`:T},S=T=>{i(C=>C.filter(P=>P.tempId!==T))},E=async()=>{d("importing"),h("Conectando ao Supabase e enviando dados...");try{console.log(" Dados staged antes de processar:",r.slice(0,2));const T=r.map(({tempId:I,type:O,...M})=>{console.log(" Processando data:",M.date,"tipo:",typeof M.date,"type:",O);let k;try{if(M.date.includes("T")?k=new Date(M.date):k=new Date(M.date+"T00:00:00"),isNaN(k.getTime()))throw new Error("Data invlida: "+M.date)}catch(z){console.error(" Erro ao processar data:",M.date,z),k=new Date}const H=O==="EXPENSE"?-Math.abs(M.amount):Math.abs(M.amount);return{Data:k.toISOString(),Descrio:M.description,Valor:H,Saldo:M.balance}});console.log(" Dados a serem inseridos:",T),console.log(" Exemplo do primeiro registro:",T[0]);const{data:C,error:P}=await ke.from("Fluxo de caixa").insert(T).select();if(P)throw P;const R=C.map(I=>({id:I.id,date:I.Data,description:I.Descrio,amount:I.Valor,balance:I.Saldo,type:I.Valor>=0?"INCOME":"EXPENSE",categoryId:"",subCategoryId:""}));e(I=>[...R,...I]),d("success"),h(`Sucesso! ${C.length} registros sincronizados na tabela "Fluxo de caixa".`),setTimeout(()=>{i([]),n()},2500)}catch(T){console.error("Erro na importao Supabase:",T),d("error"),h(`Erro ao sincronizar: ${T.message||"Verifique sua conexo"}`)}};return x.jsxs("div",{className:"space-y-6",children:[u!=="idle"&&x.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-in fade-in slide-in-from-top-4 duration-300 ${u==="importing"?"bg-indigo-50 border-indigo-100 text-indigo-700":u==="success"?"bg-emerald-50 border-emerald-100 text-emerald-700":"bg-rose-50 border-rose-100 text-rose-700"}`,children:[u==="importing"?x.jsx(Xs,{size:20,className:"animate-spin"}):u==="success"?x.jsx(Sb,{size:20}):x.jsx(yz,{size:20}),x.jsx("span",{className:"font-bold text-sm",children:f}),u==="error"&&x.jsx("button",{onClick:()=>d("idle"),className:"ml-auto text-rose-400 hover:text-rose-600",children:x.jsx(Oa,{size:16})})]}),x.jsxs("div",{className:"bg-white p-10 rounded-3xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center text-center transition-all hover:border-indigo-300 group",children:[x.jsx("div",{className:"p-5 bg-indigo-50 rounded-2xl text-indigo-600 mb-4 group-hover:scale-110 transition-transform",children:x.jsx(eR,{size:48})}),x.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Importar Fluxo de Caixa Cloud"}),x.jsxs("p",{className:"text-slate-500 max-w-sm mb-8 leading-relaxed",children:["Selecione seu CSV para mapear os dados para a tabela ",x.jsx("strong",{children:'"Fluxo de caixa"'})," no Supabase."]}),x.jsx("input",{type:"file",accept:".csv",onChange:v,ref:m,className:"hidden",id:"csv-upload"}),x.jsxs("label",{htmlFor:"csv-upload",className:"px-8 py-4 bg-slate-900 text-white font-bold rounded-2xl hover:bg-indigo-600 transition-all cursor-pointer shadow-xl shadow-slate-200 flex items-center gap-2",children:[x.jsx(GT,{size:20})," Selecionar CSV"]})]}),r.length>0&&x.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4 bg-slate-50/50",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Reviso Pr-Nuvem"}),x.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-1",children:[r.length," registros pendentes de sincronizao."]})]}),x.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[x.jsx("button",{disabled:u==="importing",onClick:()=>i([]),className:"flex-1 sm:flex-none px-6 py-3 text-slate-600 font-bold hover:bg-slate-200 rounded-xl transition-colors",children:"Descartar"}),x.jsx("button",{disabled:u==="importing"||u==="success",onClick:E,className:"flex-1 sm:flex-none px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 shadow-lg shadow-indigo-100 min-w-[200px]",children:u==="importing"?x.jsxs(x.Fragment,{children:[x.jsx(Xs,{size:20,className:"animate-spin"}),"Sincronizando..."]}):u==="success"?x.jsxs(x.Fragment,{children:[x.jsx(Sz,{size:20}),"Finalizado"]}):x.jsxs(x.Fragment,{children:[x.jsx(GT,{size:20}),"Sincronizar no Supabase"]})})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{className:"bg-slate-100/50 text-slate-500 text-[10px] font-black uppercase tracking-widest",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-4",children:"Data"}),x.jsx("th",{className:"px-6 py-4",children:"Descrio"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo (CSV)"}),x.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(T=>{var C;return x.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group/row",children:[x.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:new Date(T.date).toLocaleDateString("pt-BR")}),x.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800",children:T.description}),x.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${T.type==="INCOME"?"text-emerald-600":"text-rose-600"}`,children:["R$ ",T.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-400 text-right bg-slate-50/30",children:["R$ ",(C=T.balance)==null?void 0:C.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsx("button",{onClick:()=>S(T.tempId),className:"p-2 text-slate-400 hover:text-rose-600 rounded-lg",children:x.jsx(Sn,{size:16})})})]},T.tempId)})})]})})]})]})};var fte={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hte,pte;function mte(){return{geminiUrl:hte,vertexUrl:pte}}function gte(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const l=mte();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fi{}function ge(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];y(h,t.slice(a+1),n[f])}else for(const f of d)y(f,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];y(d[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function vte(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&a.length>u)for(let d=u;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}sb(e,i,a,0,l)}}function sb(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])sb(d,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);y(l,m,h)}for(const f of u)delete l[f]}}else{const l=e;a in l&&sb(l[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yte(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function bte(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],_te(l)),t}function xte(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],wte(l)),t}function _te(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Ste(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function wte(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Ete(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function Ste(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],Ite(n)),t}function Ete(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],Pte(n)),t}function Tte(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function Ate(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function Cte(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],Nte(l)),t}function Nte(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function Oj(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],Ote(l)),t}function Ote(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function Ite(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],S_(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function Pte(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],S_(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bI;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bI||(bI={}));var xI;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(xI||(xI={}));var _I;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(_I||(_I={}));var Ta;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ta||(Ta={}));var wI;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(wI||(wI={}));var SI;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(SI||(SI={}));var EI;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(EI||(EI={}));var TI;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(TI||(TI={}));var AI;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(AI||(AI={}));var CI;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(CI||(CI={}));var NI;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(NI||(NI={}));var OI;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(OI||(OI={}));var II;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(II||(II={}));var PI;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(PI||(PI={}));var RI;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(RI||(RI={}));var MI;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(MI||(MI={}));var DI;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(DI||(DI={}));var kI;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kI||(kI={}));var jI;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jI||(jI={}));var LI;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(LI||(LI={}));var UI;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(UI||(UI={}));var Ih;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Ih||(Ih={}));var $I;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($I||($I={}));var zI;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zI||(zI={}));var BI;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(BI||(BI={}));var lb;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lb||(lb={}));var qI;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qI||(qI={}));var GI;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(GI||(GI={}));var ub;(function(e){e.COLLECTION="COLLECTION"})(ub||(ub={}));var HI;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(HI||(HI={}));var FI;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(FI||(FI={}));var VI;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(VI||(VI={}));var KI;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(KI||(KI={}));var YI;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(YI||(YI={}));var JI;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(JI||(JI={}));var WI;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(WI||(WI={}));var XI;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(XI||(XI={}));var ZI;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZI||(ZI={}));var QI;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(QI||(QI={}));var eP;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(eP||(eP={}));var tP;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(tP||(tP={}));var nP;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(nP||(nP={}));var rP;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(rP||(rP={}));var iP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(iP||(iP={}));var aP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(aP||(aP={}));var oP;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(oP||(oP={}));var sP;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sP||(sP={}));var lP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(lP||(lP={}));var uP;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(uP||(uP={}));var cP;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(cP||(cP={}));var dP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dP||(dP={}));var fP;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fP||(fP={}));var hP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(hP||(hP={}));var pP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pP||(pP={}));var mP;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mP||(mP={}));var gP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(gP||(gP={}));var qs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(qs||(qs={}));class cb{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Nu{get text(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const v of(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[_,S]of Object.entries(v))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[v,_]of Object.entries(m))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,a,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,a,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class vP{}class yP{}class Rte{}class Mte{}class Dte{}class kte{}class bP{}class xP{}class _P{}class jte{}class Ph{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ph;let i;const a=t;return n?i=xte(a):i=bte(a),Object.assign(r,i),r}}class wP{}class SP{}class EP{}class TP{}class Lte{}class Ute{}class $te{}class E_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new E_,a=Cte(t);return Object.assign(r,a),r}}class zte{}class Bte{}class qte{}class Gte{}class AP{}class Hte{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Fte{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class T_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new T_,a=Oj(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ij(e,t){const n=Ze(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Pj(e){return Array.isArray(e)?e.map(t=>Rh(t)):[Rh(e)]}function Rh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Rj(e){const t=Rh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Mj(e){const t=Rh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function CP(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Dj(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>CP(t)):[CP(e)]}function db(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function NP(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function OP(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Tn(e){if(e==null)throw new Error("ContentUnion is required");return db(e)?e:{role:"user",parts:Dj(e)}}function A_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Tn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Tn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Tn(n)):[Tn(t)]}function _r(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(NP(e)||OP(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Tn(e)]}const t=[],n=[],r=db(e[0]);for(const i of e){const a=db(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(NP(i)||OP(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:Dj(n)}),t}function Vte(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ta).includes(n[0].toUpperCase())?n[0].toUpperCase():Ta.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ta).includes(r.toUpperCase())?r.toUpperCase():Ta.TYPE_UNSPECIFIED})}}function Js(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&Vte(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ta).includes(u.toUpperCase())?u.toUpperCase():Ta.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Js(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Js(f))}t[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=Js(h);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function C_(e){return Js(e)}function N_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function O_(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function xl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Js(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Js(t.response));return e}function _l(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Kte(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Vi(e,t){if(typeof t!="string")throw new Error("name must be a string");return Kte(e,t,"cachedContents")}function kj(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Da(e){return S_(e)}function Yte(e){return e!=null&&typeof e=="object"&&"name"in e}function Jte(e){return e!=null&&typeof e=="object"&&"video"in e}function Wte(e){return e!=null&&typeof e=="object"&&"uri"in e}function jj(e){var t;let n;if(Yte(e)&&(n=e.name),!(Wte(e)&&(n=e.uri,n===void 0))&&!(Jte(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Lj(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Uj(e){for(const t of["models","tunedModels","publisherModels"])if(Xte(e,t))return e[t];return[]}function Xte(e,t){return e!==null&&typeof e=="object"&&t in e}function Zte(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Qte(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=Zte(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function $j(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ene(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function zj(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function wl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Bj(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tne(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>kne(l))),y(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function nne(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function rne(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function If(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&y(t,["state"],Bj(i));const a=g(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const d=g(e,["metadata","model"]);d!=null&&y(t,["model"],d);const f=g(e,["metadata","output"]);return f!=null&&y(t,["dest"],tne(zj(f))),t}function fb(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["state"]);i!=null&&y(t,["state"],Bj(i));const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(t,["startTime"],u);const d=g(e,["endTime"]);d!=null&&y(t,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(t,["updateTime"],f);const h=g(e,["model"]);h!=null&&y(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],ine(m));const v=g(e,["outputConfig"]);v!=null&&y(t,["dest"],nne(zj(v)));const _=g(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function ine(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function ane(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Dne(e,l))),y(n,["requests","requests"],a)}return n}function one(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function sne(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function lne(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],wl(e,r)),n}function une(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],wl(e,r)),n}function cne(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],dne(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const d=g(e,["index"]);d!=null&&y(t,["index"],d);const f=g(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function dne(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function qj(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>qne(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function fne(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function hne(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],rne(ene(i))),n}function IP(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ze(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],ane(e,$j(e,i)));const a=g(t,["config"]);return a!=null&&fne(a,n),n}function pne(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],Ze(e,r));const i=g(t,["src"]);i!=null&&y(n,["inputConfig"],one($j(e,i)));const a=g(t,["config"]);return a!=null&&hne(a,n),n}function mne(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function gne(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ze(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],Sne(e,i));const a=g(t,["config"]);return a!=null&&mne(a,n),n}function vne(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],wl(e,r)),n}function yne(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],wl(e,r)),n}function bne(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function xne(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function _ne(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=A_(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(y(n,["_self"],wne(i,n)),vte(n,{"requests[].*":"requests[].request.*"})),n}function wne(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Sne(e,t){const n={},r=g(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],_ne(e,i)),n}function Ene(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Tne(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ane(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&y(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Cne(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],qj(Tn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=g(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=g(t,["seed"]);E!=null&&y(r,["seed"],E);const T=g(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=g(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],C_(C));const P=g(t,["responseJsonSchema"]);if(P!=null&&y(r,["responseJsonSchema"],P),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let G=R;Array.isArray(G)&&(G=G.map(J=>Gne(J))),y(n,["safetySettings"],G)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let G=_l(I);Array.isArray(G)&&(G=G.map(J=>Fne(xl(J)))),y(n,["tools"],G)}const O=g(t,["toolConfig"]);if(n!==void 0&&O!=null&&y(n,["toolConfig"],Hne(O)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(t,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],Vi(e,M));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const H=g(t,["mediaResolution"]);H!=null&&y(r,["mediaResolution"],H);const z=g(t,["speechConfig"]);if(z!=null&&y(r,["speechConfig"],N_(z)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=g(t,["thinkingConfig"]);ie!=null&&y(r,["thinkingConfig"],ie);const B=g(t,["imageConfig"]);B!=null&&y(r,["imageConfig"],Mne(B));const L=g(t,["enableEnhancedCivicAnswers"]);if(L!=null&&y(r,["enableEnhancedCivicAnswers"],L),g(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Nne(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>cne(f))),y(t,["candidates"],d)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function One(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],wl(e,r)),n}function Ine(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],wl(e,r)),n}function Pne(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Rne(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function Mne(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Dne(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["request","model"],Ze(e,r));const i=g(t,["contents"]);if(i!=null){let u=_r(i);Array.isArray(u)&&(u=u.map(d=>qj(d))),y(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],Cne(e,l,g(n,["request"],{}))),n}function kne(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],Nne(n));const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["error"]);return i!=null&&y(t,["error"],i),t}function jne(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Lne(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function Une(e){const t={},n=g(e,["config"]);return n!=null&&jne(n,t),t}function $ne(e){const t={},n=g(e,["config"]);return n!=null&&Lne(n,t),t}function zne(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>If(l))),y(t,["batchJobs"],a)}return t}function Bne(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>fb(l))),y(t,["batchJobs"],a)}return t}function qne(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],Ene(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],Tne(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],sne(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function Gne(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function Hne(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],Ane(r)),t}function Fne(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],Pne(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],Rne(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ji;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ji||(ji={}));class Po{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vne extends Fi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(ji.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=IP(this.apiClient,t),r=n._url,i=ge("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=v,m.request=_}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=pne(this.apiClient,t);return u=ge("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>fb(h))}else{const f=IP(this.apiClient,t);return u=ge("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>If(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gne(this.apiClient,t);return a=ge("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>If(d))}}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Ine(this.apiClient,t);return u=ge("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>fb(h))}else{const f=One(this.apiClient,t);return u=ge("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>If(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const d=une(this.apiClient,t);l=ge("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=lne(this.apiClient,t);l=ge("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=$ne(t);return u=ge("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Bne(h),v=new AP;return Object.assign(v,m),v})}else{const f=Une(t);return u=ge("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=zne(h),v=new AP;return Object.assign(v,m),v})}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=yne(this.apiClient,t);return u=ge("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>xne(h))}else{const f=vne(this.apiClient,t);return u=ge("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>bne(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kne(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function PP(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gre(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function Yne(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=_r(l);Array.isArray(h)&&(h=h.map(m=>PP(m))),y(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],PP(Tn(u)));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>yre(m))),y(t,["tools"],h)}const f=g(e,["toolConfig"]);if(t!==void 0&&f!=null&&y(t,["toolConfig"],vre(f)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Jne(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=_r(l);Array.isArray(m)&&(m=m.map(v=>v)),y(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Tn(u));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>bre(v))),y(t,["tools"],m)}const f=g(e,["toolConfig"]);t!==void 0&&f!=null&&y(t,["toolConfig"],f);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function Wne(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],Ij(e,r));const i=g(t,["config"]);return i!=null&&Yne(i,n),n}function Xne(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],Ij(e,r));const i=g(t,["config"]);return i!=null&&Jne(i,n),n}function Zne(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Vi(e,r)),n}function Qne(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Vi(e,r)),n}function ere(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function tre(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function nre(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function rre(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ire(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&y(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function are(e){const t={},n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function ore(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Vi(e,r)),n}function sre(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Vi(e,r)),n}function lre(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function ure(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function cre(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function dre(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function fre(e){const t={},n=g(e,["config"]);return n!=null&&cre(n,t),t}function hre(e){const t={},n=g(e,["config"]);return n!=null&&dre(n,t),t}function pre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function mre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function gre(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],nre(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],rre(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],Kne(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function vre(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],ire(r)),t}function yre(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],lre(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],ure(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function bre(e){const t={},n=g(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&y(t,["codeExecution"],i);const a=g(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>are(v))),y(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function xre(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function _re(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function wre(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Vi(e,r));const i=g(t,["config"]);return i!=null&&xre(i,n),n}function Sre(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Vi(e,r));const i=g(t,["config"]);return i!=null&&_re(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ere extends Fi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(ji.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Xne(this.apiClient,t);return u=ge("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=Wne(this.apiClient,t);return u=ge("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=sre(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=ore(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Qne(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=tre(h),v=new EP;return Object.assign(v,m),v})}else{const f=Zne(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=ere(h),v=new EP;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Sre(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=wre(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=hre(t);return u=ge("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=mre(h),v=new TP;return Object.assign(v,m),v})}else{const f=fre(t);return u=ge("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=pre(h),v=new TP;return Object.assign(v,m),v})}}}function Mh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function RP(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(e){return this instanceof Pe?(this.v=e,this):new Pe(e)}function jr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(i[_]=function(E){return new Promise(function(T,C){a.push([_,E,T,C])>1||d(_,E)})},S&&(i[_]=S(i[_])))}function d(_,S){try{f(r[_](S))}catch(E){v(a[0][3],E)}}function f(_){_.value instanceof Pe?Promise.resolve(_.value.v).then(h,m):v(a[0][2],_)}function h(_){d("next",_)}function m(_){d("throw",_)}function v(_,S){_(S),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Lr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof RP=="function"?RP(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,d){l=e[a](l),i(u,d,l.done,l.value)})}}function i(a,l,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tre(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Gj(n)}function Gj(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Are(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function MP(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!Gj(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class Cre{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Nre(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Nre{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Are(a)}async sendMessage(t){var n;await this.sendPromise;const r=Tn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const d=await i,f=(l=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=f?[f]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Tn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?MP(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return jr(this,arguments,function*(){var i,a,l,u,d,f;const h=[];try{for(var m=!0,v=Lr(t),_;_=yield Pe(v.next()),i=_.done,!i;m=!0){u=_.value,m=!1;const S=u;if(Tre(S)){const E=(f=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Pe(S)}}catch(S){a={error:S}}finally{try{!m&&!i&&(l=v.return)&&(yield Pe(l.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...MP(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ac extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ac.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ore(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function Ire(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Pre(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],jj(n)),t}function Rre(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Mre(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],jj(n)),t}function Dre(e){const t={},n=g(e,["uris"]);return n!=null&&y(t,["uris"],n),t}function kre(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function jre(e){const t={},n=g(e,["config"]);return n!=null&&kre(n,t),t}function Lre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}function Ure(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $re extends Fi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(ji.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jre(t);return a=ge("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Lre(d),h=new zte;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ore(t);return a=ge("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Ire(d),h=new Bte;return Object.assign(h,f),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Mre(t);return a=ge("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pre(t);return a=ge("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Rre(d),h=new qte;return Object.assign(h,f),h})}}async registerFilesInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dre(t);return a=ge("files:register",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Ure(d),h=new Gte;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pf(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function zre(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>nie(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function Bre(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function qre(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Gre(e){const t={},n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Hre(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const d=g(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=g(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=g(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=g(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=g(e,["seed"]);C!=null&&y(t,["seed"],C);const P=g(e,["speechConfig"]);P!=null&&y(t,["speechConfig"],P);const R=g(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const O=g(e,["thinkingConfig"]);O!=null&&y(t,["thinkingConfig"],O);const M=g(e,["topK"]);M!=null&&y(t,["topK"],M);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Fre(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Vre(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function Kre(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],O_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],zre(Tn(S)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let M=_l(E);Array.isArray(M)&&(M=M.map(k=>iie(xl(k)))),y(t,["setup","tools"],M)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],rie(T));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const O=g(e,["proactivity"]);if(t!==void 0&&O!=null&&y(t,["setup","proactivity"],O),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Yre(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],Hre(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],O_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Tn(S));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let k=_l(E);Array.isArray(k)&&(k=k.map(H=>aie(xl(H)))),y(t,["setup","tools"],k)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],T);const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const O=g(e,["proactivity"]);t!==void 0&&O!=null&&y(t,["setup","proactivity"],O);const M=g(e,["explicitVadSignal"]);return t!==void 0&&M!=null&&y(t,["setup","explicitVadSignal"],M),n}function Jre(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],Ze(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],Kre(i,n)),n}function Wre(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],Ze(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],Yre(i,n)),n}function Xre(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function Zre(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function Qre(e){const t={},n=g(e,["media"]);if(n!=null){let f=Pj(n);Array.isArray(f)&&(f=f.map(h=>Pf(h))),y(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],Pf(Mj(r)));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],Pf(Rj(a)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function eie(e){const t={},n=g(e,["media"]);if(n!=null){let f=Pj(n);Array.isArray(f)&&(f=f.map(h=>h)),y(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],Mj(r));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],Rj(a));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function tie(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],oie(l));const u=g(e,["goAway"]);u!=null&&y(t,["goAway"],u);const d=g(e,["sessionResumptionUpdate"]);d!=null&&y(t,["sessionResumptionUpdate"],d);const f=g(e,["voiceActivityDetectionSignal"]);f!=null&&y(t,["voiceActivityDetectionSignal"],f);const h=g(e,["voiceActivity"]);return h!=null&&y(t,["voiceActivity"],sie(h)),t}function nie(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],Bre(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],qre(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],Pf(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function rie(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function iie(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],Fre(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],Vre(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function aie(e){const t={},n=g(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&y(t,["codeExecution"],i);const a=g(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>Gre(v))),y(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function oie(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const d=g(e,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["promptTokensDetails"],_)}const f=g(e,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["cacheTokensDetails"],_)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["responseTokensDetails"],_)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["toolUsePromptTokensDetails"],_)}const v=g(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function sie(e){const t={},n=g(e,["type"]);return n!=null&&y(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lie(e,t){const n={},r=g(e,["data"]);if(r!=null&&y(n,["data"],r),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function uie(e,t){const n={},r=g(e,["content"]);r!=null&&y(n,["content"],r);const i=g(e,["citationMetadata"]);i!=null&&y(n,["citationMetadata"],cie(i));const a=g(e,["tokenCount"]);a!=null&&y(n,["tokenCount"],a);const l=g(e,["finishReason"]);l!=null&&y(n,["finishReason"],l);const u=g(e,["avgLogprobs"]);u!=null&&y(n,["avgLogprobs"],u);const d=g(e,["groundingMetadata"]);d!=null&&y(n,["groundingMetadata"],d);const f=g(e,["index"]);f!=null&&y(n,["index"],f);const h=g(e,["logprobsResult"]);h!=null&&y(n,["logprobsResult"],h);const m=g(e,["safetyRatings"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),y(n,["safetyRatings"],_)}const v=g(e,["urlContextMetadata"]);return v!=null&&y(n,["urlContextMetadata"],v),n}function cie(e,t){const n={},r=g(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["citations"],i)}return n}function die(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let l=_r(a);Array.isArray(l)&&(l=l.map(u=>u)),y(r,["contents"],l)}return r}function fie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["tokensInfo"],a)}return n}function hie(e,t){const n={},r=g(e,["values"]);r!=null&&y(n,["values"],r);const i=g(e,["statistics"]);return i!=null&&y(n,["statistics"],pie(i)),n}function pie(e,t){const n={},r=g(e,["truncated"]);r!=null&&y(n,["truncated"],r);const i=g(e,["token_count"]);return i!=null&&y(n,["tokenCount"],i),n}function Rp(e,t){const n={},r=g(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Sae(l))),y(n,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(n,["role"],i),n}function mie(e,t){const n={},r=g(e,["controlType"]);r!=null&&y(n,["controlType"],r);const i=g(e,["enableControlImageComputation"]);return i!=null&&y(n,["computeControl"],i),n}function gie(e,t){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function vie(e,t,n){const r={},i=g(e,["systemInstruction"]);t!==void 0&&i!=null&&y(t,["systemInstruction"],Tn(i));const a=g(e,["tools"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Kj(d))),y(t,["tools"],u)}const l=g(e,["generationConfig"]);return t!==void 0&&l!=null&&y(t,["generationConfig"],lae(l)),r}function yie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(d=>Rp(d))),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&gie(l),r}function bie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(d=>d)),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&vie(l,r),r}function xie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["totalTokens"]);i!=null&&y(n,["totalTokens"],i);const a=g(e,["cachedContentTokenCount"]);return a!=null&&y(n,["cachedContentTokenCount"],a),n}function _ie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["totalTokens"]);return i!=null&&y(n,["totalTokens"],i),n}function wie(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],Ze(e,i)),r}function Sie(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],Ze(e,i)),r}function Eie(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Tie(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Aie(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&y(t,["parameters","sampleCount"],l);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);t!==void 0&&d!=null&&y(t,["parameters","guidanceScale"],d);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);t!==void 0&&m!=null&&y(t,["parameters","personGeneration"],m);const v=g(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const _=g(e,["includeRaiReason"]);t!==void 0&&_!=null&&y(t,["parameters","includeRaiReason"],_);const S=g(e,["language"]);t!==void 0&&S!=null&&y(t,["parameters","language"],S);const E=g(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const P=g(e,["labels"]);t!==void 0&&P!=null&&y(t,["labels"],P);const R=g(e,["editMode"]);t!==void 0&&R!=null&&y(t,["parameters","editMode"],R);const I=g(e,["baseSteps"]);return t!==void 0&&I!=null&&y(t,["parameters","editConfig","baseSteps"],I),r}function Cie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Oae(f))),y(r,["instances[0]","referenceImages"],d)}const u=g(t,["config"]);return u!=null&&Aie(u,r),r}function Nie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Mp(l))),y(n,["generatedImages"],a)}return n}function Oie(e,t,n){const r={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const l=g(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&y(t,["requests[]","outputDimensionality"],l),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Iie(e,t,n){const r={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["instances[]","task_type"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["instances[]","title"],a);const l=g(e,["outputDimensionality"]);t!==void 0&&l!=null&&y(t,["parameters","outputDimensionality"],l);const u=g(e,["mimeType"]);t!==void 0&&u!=null&&y(t,["instances[]","mimeType"],u);const d=g(e,["autoTruncate"]);return t!==void 0&&d!=null&&y(t,["parameters","autoTruncate"],d),r}function Pie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let d=A_(e,a);Array.isArray(d)&&(d=d.map(f=>f)),y(r,["requests[]","content"],d)}const l=g(t,["config"]);l!=null&&Oie(l,r);const u=g(t,["model"]);return u!==void 0&&y(r,["requests[]","model"],Ze(e,u)),r}function Rie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let u=A_(e,a);Array.isArray(u)&&(u=u.map(d=>d)),y(r,["instances[]","content"],u)}const l=g(t,["config"]);return l!=null&&Iie(l,r),r}function Mie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),y(n,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&y(n,["metadata"],a),n}function Die(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>hie(u))),y(n,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&y(n,["metadata"],a),n}function kie(e,t){const n={},r=g(e,["endpoint"]);r!=null&&y(n,["name"],r);const i=g(e,["deployedModelId"]);return i!=null&&y(n,["deployedModelId"],i),n}function jie(e,t){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&y(n,["fileUri"],r);const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Lie(e,t){const n={},r=g(e,["id"]);r!=null&&y(n,["id"],r);const i=g(e,["args"]);i!=null&&y(n,["args"],i);const a=g(e,["name"]);if(a!=null&&y(n,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Uie(e,t){const n={},r=g(e,["allowedFunctionNames"]);r!=null&&y(n,["allowedFunctionNames"],r);const i=g(e,["mode"]);if(i!=null&&y(n,["mode"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function $ie(e,t){const n={},r=g(e,["description"]);r!=null&&y(n,["description"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["parameters"]);a!=null&&y(n,["parameters"],a);const l=g(e,["parametersJsonSchema"]);l!=null&&y(n,["parametersJsonSchema"],l);const u=g(e,["response"]);u!=null&&y(n,["response"],u);const d=g(e,["responseJsonSchema"]);if(d!=null&&y(n,["responseJsonSchema"],d),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function zie(e,t,n,r){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],Rp(Tn(a)));const l=g(t,["temperature"]);l!=null&&y(i,["temperature"],l);const u=g(t,["topP"]);u!=null&&y(i,["topP"],u);const d=g(t,["topK"]);d!=null&&y(i,["topK"],d);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const m=g(t,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(i,["responseLogprobs"],v);const _=g(t,["logprobs"]);_!=null&&y(i,["logprobs"],_);const S=g(t,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const E=g(t,["frequencyPenalty"]);E!=null&&y(i,["frequencyPenalty"],E);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const C=g(t,["responseMimeType"]);C!=null&&y(i,["responseMimeType"],C);const P=g(t,["responseSchema"]);P!=null&&y(i,["responseSchema"],C_(P));const R=g(t,["responseJsonSchema"]);if(R!=null&&y(i,["responseJsonSchema"],R),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=g(t,["safetySettings"]);if(n!==void 0&&I!=null){let J=I;Array.isArray(J)&&(J=J.map(ne=>Iae(ne))),y(n,["safetySettings"],J)}const O=g(t,["tools"]);if(n!==void 0&&O!=null){let J=_l(O);Array.isArray(J)&&(J=J.map(ne=>Lae(xl(ne)))),y(n,["tools"],J)}const M=g(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],jae(M)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=g(t,["cachedContent"]);n!==void 0&&k!=null&&y(n,["cachedContent"],Vi(e,k));const H=g(t,["responseModalities"]);H!=null&&y(i,["responseModalities"],H);const z=g(t,["mediaResolution"]);z!=null&&y(i,["mediaResolution"],z);const ie=g(t,["speechConfig"]);if(ie!=null&&y(i,["speechConfig"],N_(ie)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(t,["thinkingConfig"]);B!=null&&y(i,["thinkingConfig"],B);const L=g(t,["imageConfig"]);L!=null&&y(i,["imageConfig"],hae(L));const G=g(t,["enableEnhancedCivicAnswers"]);if(G!=null&&y(i,["enableEnhancedCivicAnswers"],G),g(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function Bie(e,t,n,r){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],Tn(a));const l=g(t,["temperature"]);l!=null&&y(i,["temperature"],l);const u=g(t,["topP"]);u!=null&&y(i,["topP"],u);const d=g(t,["topK"]);d!=null&&y(i,["topK"],d);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const m=g(t,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(i,["responseLogprobs"],v);const _=g(t,["logprobs"]);_!=null&&y(i,["logprobs"],_);const S=g(t,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const E=g(t,["frequencyPenalty"]);E!=null&&y(i,["frequencyPenalty"],E);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const C=g(t,["responseMimeType"]);C!=null&&y(i,["responseMimeType"],C);const P=g(t,["responseSchema"]);P!=null&&y(i,["responseSchema"],C_(P));const R=g(t,["responseJsonSchema"]);R!=null&&y(i,["responseJsonSchema"],R);const I=g(t,["routingConfig"]);I!=null&&y(i,["routingConfig"],I);const O=g(t,["modelSelectionConfig"]);O!=null&&y(i,["modelConfig"],O);const M=g(t,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(le=>le)),y(n,["safetySettings"],F)}const k=g(t,["tools"]);if(n!==void 0&&k!=null){let F=_l(k);Array.isArray(F)&&(F=F.map(le=>Kj(xl(le)))),y(n,["tools"],F)}const H=g(t,["toolConfig"]);n!==void 0&&H!=null&&y(n,["toolConfig"],H);const z=g(t,["labels"]);n!==void 0&&z!=null&&y(n,["labels"],z);const ie=g(t,["cachedContent"]);n!==void 0&&ie!=null&&y(n,["cachedContent"],Vi(e,ie));const B=g(t,["responseModalities"]);B!=null&&y(i,["responseModalities"],B);const L=g(t,["mediaResolution"]);L!=null&&y(i,["mediaResolution"],L);const G=g(t,["speechConfig"]);G!=null&&y(i,["speechConfig"],N_(G));const J=g(t,["audioTimestamp"]);J!=null&&y(i,["audioTimestamp"],J);const ne=g(t,["thinkingConfig"]);ne!=null&&y(i,["thinkingConfig"],ne);const $=g(t,["imageConfig"]);if($!=null&&y(i,["imageConfig"],pae($)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Z=g(t,["modelArmorConfig"]);return n!==void 0&&Z!=null&&y(n,["modelArmorConfig"],Z),i}function DP(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(d=>Rp(d))),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&y(r,["generationConfig"],zie(e,l,r)),r}function kP(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(d=>d)),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&y(r,["generationConfig"],Bie(e,l,r)),r}function jP(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>uie(h))),y(n,["candidates"],f)}const a=g(e,["modelVersion"]);a!=null&&y(n,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(n,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&y(n,["responseId"],u);const d=g(e,["usageMetadata"]);return d!=null&&y(n,["usageMetadata"],d),n}function LP(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),y(n,["candidates"],h)}const a=g(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=g(e,["modelVersion"]);l!=null&&y(n,["modelVersion"],l);const u=g(e,["promptFeedback"]);u!=null&&y(n,["promptFeedback"],u);const d=g(e,["responseId"]);d!=null&&y(n,["responseId"],d);const f=g(e,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function qie(e,t,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=g(e,["guidanceScale"]);if(t!==void 0&&l!=null&&y(t,["parameters","guidanceScale"],l),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const f=g(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&y(t,["parameters","includeSafetyAttributes"],f);const h=g(e,["includeRaiReason"]);t!==void 0&&h!=null&&y(t,["parameters","includeRaiReason"],h);const m=g(e,["language"]);t!==void 0&&m!=null&&y(t,["parameters","language"],m);const v=g(e,["outputMimeType"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","mimeType"],v);const _=g(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&y(t,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=g(e,["imageSize"]);if(t!==void 0&&S!=null&&y(t,["parameters","sampleImageSize"],S),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Gie(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&y(t,["parameters","sampleCount"],l);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);t!==void 0&&d!=null&&y(t,["parameters","guidanceScale"],d);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);t!==void 0&&m!=null&&y(t,["parameters","personGeneration"],m);const v=g(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const _=g(e,["includeRaiReason"]);t!==void 0&&_!=null&&y(t,["parameters","includeRaiReason"],_);const S=g(e,["language"]);t!==void 0&&S!=null&&y(t,["parameters","language"],S);const E=g(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const P=g(e,["labels"]);t!==void 0&&P!=null&&y(t,["labels"],P);const R=g(e,["imageSize"]);t!==void 0&&R!=null&&y(t,["parameters","sampleImageSize"],R);const I=g(e,["enhancePrompt"]);return t!==void 0&&I!=null&&y(t,["parameters","enhancePrompt"],I),r}function Hie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&qie(l,r),r}function Fie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&Gie(l,r),r}function Vie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>iae(u))),y(n,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(n,["positivePromptSafetyAttributes"],Fj(a)),n}function Kie(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Mp(u))),y(n,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(n,["positivePromptSafetyAttributes"],Vj(a)),n}function Yie(e,t,n){const r={},i=g(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=g(e,["durationSeconds"]);if(t!==void 0&&a!=null&&y(t,["parameters","durationSeconds"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["resolution"]);t!==void 0&&u!=null&&y(t,["parameters","resolution"],u);const d=g(e,["personGeneration"]);if(t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(e,["negativePrompt"]);t!==void 0&&f!=null&&y(t,["parameters","negativePrompt"],f);const h=g(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&y(t,["parameters","enhancePrompt"],h),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=g(e,["lastFrame"]);t!==void 0&&m!=null&&y(t,["instances[0]","lastFrame"],Dp(m));const v=g(e,["referenceImages"]);if(t!==void 0&&v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>Wae(S))),y(t,["instances[0]","referenceImages"],_)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Jie(e,t,n){const r={},i=g(e,["numberOfVideos"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=g(e,["fps"]);t!==void 0&&l!=null&&y(t,["parameters","fps"],l);const u=g(e,["durationSeconds"]);t!==void 0&&u!=null&&y(t,["parameters","durationSeconds"],u);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=g(e,["aspectRatio"]);t!==void 0&&f!=null&&y(t,["parameters","aspectRatio"],f);const h=g(e,["resolution"]);t!==void 0&&h!=null&&y(t,["parameters","resolution"],h);const m=g(e,["personGeneration"]);t!==void 0&&m!=null&&y(t,["parameters","personGeneration"],m);const v=g(e,["pubsubTopic"]);t!==void 0&&v!=null&&y(t,["parameters","pubsubTopic"],v);const _=g(e,["negativePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","negativePrompt"],_);const S=g(e,["enhancePrompt"]);t!==void 0&&S!=null&&y(t,["parameters","enhancePrompt"],S);const E=g(e,["generateAudio"]);t!==void 0&&E!=null&&y(t,["parameters","generateAudio"],E);const T=g(e,["lastFrame"]);t!==void 0&&T!=null&&y(t,["instances[0]","lastFrame"],qr(T));const C=g(e,["referenceImages"]);if(t!==void 0&&C!=null){let I=C;Array.isArray(I)&&(I=I.map(O=>Xae(O))),y(t,["instances[0]","referenceImages"],I)}const P=g(e,["mask"]);t!==void 0&&P!=null&&y(t,["instances[0]","mask"],Jae(P));const R=g(e,["compressionQuality"]);return t!==void 0&&R!=null&&y(t,["parameters","compressionQuality"],R),r}function Wie(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["metadata"]);i!=null&&y(n,["metadata"],i);const a=g(e,["done"]);a!=null&&y(n,["done"],a);const l=g(e,["error"]);l!=null&&y(n,["error"],l);const u=g(e,["response","generateVideoResponse"]);return u!=null&&y(n,["response"],eae(u)),n}function Xie(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["metadata"]);i!=null&&y(n,["metadata"],i);const a=g(e,["done"]);a!=null&&y(n,["done"],a);const l=g(e,["error"]);l!=null&&y(n,["error"],l);const u=g(e,["response"]);return u!=null&&y(n,["response"],tae(u)),n}function Zie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&y(r,["instances[0]","image"],Dp(l));const u=g(t,["video"]);u!=null&&y(r,["instances[0]","video"],Yj(u));const d=g(t,["source"]);d!=null&&nae(d,r);const f=g(t,["config"]);return f!=null&&Yie(f,r),r}function Qie(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&y(r,["instances[0]","image"],qr(l));const u=g(t,["video"]);u!=null&&y(r,["instances[0]","video"],Jj(u));const d=g(t,["source"]);d!=null&&rae(d,r);const f=g(t,["config"]);return f!=null&&Jie(f,r),r}function eae(e,t){const n={},r=g(e,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>oae(u))),y(n,["generatedVideos"],l)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(n,["raiMediaFilteredReasons"],a),n}function tae(e,t){const n={},r=g(e,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>sae(u))),y(n,["generatedVideos"],l)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(n,["raiMediaFilteredReasons"],a),n}function nae(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Dp(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&y(t,["instances[0]","video"],Yj(l)),r}function rae(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],qr(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&y(t,["instances[0]","video"],Jj(l)),r}function iae(e,t){const n={},r=g(e,["_self"]);r!=null&&y(n,["image"],mae(r));const i=g(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const a=g(e,["_self"]);return a!=null&&y(n,["safetyAttributes"],Fj(a)),n}function Mp(e,t){const n={},r=g(e,["_self"]);r!=null&&y(n,["image"],Hj(r));const i=g(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const a=g(e,["_self"]);a!=null&&y(n,["safetyAttributes"],Vj(a));const l=g(e,["prompt"]);return l!=null&&y(n,["enhancedPrompt"],l),n}function aae(e,t){const n={},r=g(e,["_self"]);r!=null&&y(n,["mask"],Hj(r));const i=g(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["labels"],a)}return n}function oae(e,t){const n={},r=g(e,["video"]);return r!=null&&y(n,["video"],Kae(r)),n}function sae(e,t){const n={},r=g(e,["_self"]);return r!=null&&y(n,["video"],Yae(r)),n}function lae(e,t){const n={},r=g(e,["modelSelectionConfig"]);r!=null&&y(n,["modelConfig"],r);const i=g(e,["responseJsonSchema"]);i!=null&&y(n,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&y(n,["audioTimestamp"],a);const l=g(e,["candidateCount"]);l!=null&&y(n,["candidateCount"],l);const u=g(e,["enableAffectiveDialog"]);u!=null&&y(n,["enableAffectiveDialog"],u);const d=g(e,["frequencyPenalty"]);d!=null&&y(n,["frequencyPenalty"],d);const f=g(e,["logprobs"]);f!=null&&y(n,["logprobs"],f);const h=g(e,["maxOutputTokens"]);h!=null&&y(n,["maxOutputTokens"],h);const m=g(e,["mediaResolution"]);m!=null&&y(n,["mediaResolution"],m);const v=g(e,["presencePenalty"]);v!=null&&y(n,["presencePenalty"],v);const _=g(e,["responseLogprobs"]);_!=null&&y(n,["responseLogprobs"],_);const S=g(e,["responseMimeType"]);S!=null&&y(n,["responseMimeType"],S);const E=g(e,["responseModalities"]);E!=null&&y(n,["responseModalities"],E);const T=g(e,["responseSchema"]);T!=null&&y(n,["responseSchema"],T);const C=g(e,["routingConfig"]);C!=null&&y(n,["routingConfig"],C);const P=g(e,["seed"]);P!=null&&y(n,["seed"],P);const R=g(e,["speechConfig"]);R!=null&&y(n,["speechConfig"],R);const I=g(e,["stopSequences"]);I!=null&&y(n,["stopSequences"],I);const O=g(e,["temperature"]);O!=null&&y(n,["temperature"],O);const M=g(e,["thinkingConfig"]);M!=null&&y(n,["thinkingConfig"],M);const k=g(e,["topK"]);k!=null&&y(n,["topK"],k);const H=g(e,["topP"]);if(H!=null&&y(n,["topP"],H),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function uae(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],Ze(e,i)),r}function cae(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],Ze(e,i)),r}function dae(e,t){const n={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=g(e,["enableWidget"]);return r!=null&&y(n,["enableWidget"],r),n}function fae(e,t){const n={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=g(e,["timeRangeFilter"]);return r!=null&&y(n,["timeRangeFilter"],r),n}function hae(e,t){const n={},r=g(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const i=g(e,["imageSize"]);if(i!=null&&y(n,["imageSize"],i),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function pae(e,t){const n={},r=g(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const i=g(e,["imageSize"]);i!=null&&y(n,["imageSize"],i);const a=g(e,["personGeneration"]);a!=null&&y(n,["personGeneration"],a);const l=g(e,["outputMimeType"]);l!=null&&y(n,["imageOutputOptions","mimeType"],l);const u=g(e,["outputCompressionQuality"]);return u!=null&&y(n,["imageOutputOptions","compressionQuality"],u),n}function mae(e,t){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],Da(r));const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Hj(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(n,["imageBytes"],Da(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function Dp(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],Da(r));const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function qr(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=g(e,["imageBytes"]);i!=null&&y(n,["bytesBase64Encoded"],Da(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function gae(e,t,n,r){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const u=g(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const d=g(t,["queryBase"]);return n!==void 0&&d!=null&&y(n,["_url","models_url"],Lj(e,d)),i}function vae(e,t,n,r){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const u=g(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const d=g(t,["queryBase"]);return n!==void 0&&d!=null&&y(n,["_url","models_url"],Lj(e,d)),i}function yae(e,t,n){const r={},i=g(t,["config"]);return i!=null&&gae(e,i,r),r}function bae(e,t,n){const r={},i=g(t,["config"]);return i!=null&&vae(e,i,r),r}function xae(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let l=Uj(a);Array.isArray(l)&&(l=l.map(u=>hb(u))),y(n,["models"],l)}return n}function _ae(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let l=Uj(a);Array.isArray(l)&&(l=l.map(u=>pb(u))),y(n,["models"],l)}return n}function wae(e,t){const n={},r=g(e,["maskMode"]);r!=null&&y(n,["maskMode"],r);const i=g(e,["segmentationClasses"]);i!=null&&y(n,["maskClasses"],i);const a=g(e,["maskDilation"]);return a!=null&&y(n,["dilation"],a),n}function hb(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["displayName"]);i!=null&&y(n,["displayName"],i);const a=g(e,["description"]);a!=null&&y(n,["description"],a);const l=g(e,["version"]);l!=null&&y(n,["version"],l);const u=g(e,["_self"]);u!=null&&y(n,["tunedModelInfo"],Uae(u));const d=g(e,["inputTokenLimit"]);d!=null&&y(n,["inputTokenLimit"],d);const f=g(e,["outputTokenLimit"]);f!=null&&y(n,["outputTokenLimit"],f);const h=g(e,["supportedGenerationMethods"]);h!=null&&y(n,["supportedActions"],h);const m=g(e,["temperature"]);m!=null&&y(n,["temperature"],m);const v=g(e,["maxTemperature"]);v!=null&&y(n,["maxTemperature"],v);const _=g(e,["topP"]);_!=null&&y(n,["topP"],_);const S=g(e,["topK"]);S!=null&&y(n,["topK"],S);const E=g(e,["thinking"]);return E!=null&&y(n,["thinking"],E),n}function pb(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["displayName"]);i!=null&&y(n,["displayName"],i);const a=g(e,["description"]);a!=null&&y(n,["description"],a);const l=g(e,["versionId"]);l!=null&&y(n,["version"],l);const u=g(e,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>kie(_))),y(n,["endpoints"],v)}const d=g(e,["labels"]);d!=null&&y(n,["labels"],d);const f=g(e,["_self"]);f!=null&&y(n,["tunedModelInfo"],$ae(f));const h=g(e,["defaultCheckpointId"]);h!=null&&y(n,["defaultCheckpointId"],h);const m=g(e,["checkpoints"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>_)),y(n,["checkpoints"],v)}return n}function Sae(e,t){const n={},r=g(e,["mediaResolution"]);r!=null&&y(n,["mediaResolution"],r);const i=g(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(n,["executableCode"],a);const l=g(e,["fileData"]);l!=null&&y(n,["fileData"],jie(l));const u=g(e,["functionCall"]);u!=null&&y(n,["functionCall"],Lie(u));const d=g(e,["functionResponse"]);d!=null&&y(n,["functionResponse"],d);const f=g(e,["inlineData"]);f!=null&&y(n,["inlineData"],lie(f));const h=g(e,["text"]);h!=null&&y(n,["text"],h);const m=g(e,["thought"]);m!=null&&y(n,["thought"],m);const v=g(e,["thoughtSignature"]);v!=null&&y(n,["thoughtSignature"],v);const _=g(e,["videoMetadata"]);return _!=null&&y(n,["videoMetadata"],_),n}function Eae(e,t){const n={},r=g(e,["productImage"]);return r!=null&&y(n,["image"],qr(r)),n}function Tae(e,t,n){const r={},i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["baseSteps"]);t!==void 0&&a!=null&&y(t,["parameters","baseSteps"],a);const l=g(e,["outputGcsUri"]);t!==void 0&&l!=null&&y(t,["parameters","storageUri"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const f=g(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const h=g(e,["addWatermark"]);t!==void 0&&h!=null&&y(t,["parameters","addWatermark"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const v=g(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v);const _=g(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const S=g(e,["labels"]);return t!==void 0&&S!=null&&y(t,["labels"],S),r}function Aae(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["source"]);a!=null&&Nae(a,r);const l=g(t,["config"]);return l!=null&&Tae(l,r),r}function Cae(e,t){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Mp(a))),y(n,["generatedImages"],i)}return n}function Nae(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["personImage"]);t!==void 0&&a!=null&&y(t,["instances[0]","personImage","image"],qr(a));const l=g(e,["productImages"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Eae(d))),y(t,["instances[0]","productImages"],u)}return r}function Oae(e,t){const n={},r=g(e,["referenceImage"]);r!=null&&y(n,["referenceImage"],qr(r));const i=g(e,["referenceId"]);i!=null&&y(n,["referenceId"],i);const a=g(e,["referenceType"]);a!=null&&y(n,["referenceType"],a);const l=g(e,["maskImageConfig"]);l!=null&&y(n,["maskImageConfig"],wae(l));const u=g(e,["controlImageConfig"]);u!=null&&y(n,["controlImageConfig"],mie(u));const d=g(e,["styleImageConfig"]);d!=null&&y(n,["styleImageConfig"],d);const f=g(e,["subjectImageConfig"]);return f!=null&&y(n,["subjectImageConfig"],f),n}function Fj(e,t){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(n,["contentType"],a),n}function Vj(e,t){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(n,["contentType"],a),n}function Iae(e,t){const n={},r=g(e,["category"]);if(r!=null&&y(n,["category"],r),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&y(n,["threshold"],i),n}function Pae(e,t){const n={},r=g(e,["image"]);return r!=null&&y(n,["image"],qr(r)),n}function Rae(e,t,n){const r={},i=g(e,["mode"]);t!==void 0&&i!=null&&y(t,["parameters","mode"],i);const a=g(e,["maxPredictions"]);t!==void 0&&a!=null&&y(t,["parameters","maxPredictions"],a);const l=g(e,["confidenceThreshold"]);t!==void 0&&l!=null&&y(t,["parameters","confidenceThreshold"],l);const u=g(e,["maskDilation"]);t!==void 0&&u!=null&&y(t,["parameters","maskDilation"],u);const d=g(e,["binaryColorThreshold"]);t!==void 0&&d!=null&&y(t,["parameters","binaryColorThreshold"],d);const f=g(e,["labels"]);return t!==void 0&&f!=null&&y(t,["labels"],f),r}function Mae(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["source"]);a!=null&&kae(a,r);const l=g(t,["config"]);return l!=null&&Rae(l,r),r}function Dae(e,t){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>aae(a))),y(n,["generatedMasks"],i)}return n}function kae(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],qr(a));const l=g(e,["scribbleImage"]);return t!==void 0&&l!=null&&y(t,["instances[0]","scribble"],Pae(l)),r}function jae(e,t){const n={},r=g(e,["retrievalConfig"]);r!=null&&y(n,["retrievalConfig"],r);const i=g(e,["functionCallingConfig"]);return i!=null&&y(n,["functionCallingConfig"],Uie(i)),n}function Lae(e,t){const n={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["computerUse"]);r!=null&&y(n,["computerUse"],r);const i=g(e,["fileSearch"]);i!=null&&y(n,["fileSearch"],i);const a=g(e,["codeExecution"]);if(a!=null&&y(n,["codeExecution"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),y(n,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&y(n,["googleMaps"],dae(u));const d=g(e,["googleSearch"]);d!=null&&y(n,["googleSearch"],fae(d));const f=g(e,["googleSearchRetrieval"]);f!=null&&y(n,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&y(n,["urlContext"],h),n}function Kj(e,t){const n={},r=g(e,["retrieval"]);r!=null&&y(n,["retrieval"],r);const i=g(e,["computerUse"]);if(i!=null&&y(n,["computerUse"],i),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=g(e,["codeExecution"]);a!=null&&y(n,["codeExecution"],a);const l=g(e,["enterpriseWebSearch"]);l!=null&&y(n,["enterpriseWebSearch"],l);const u=g(e,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>$ie(_))),y(n,["functionDeclarations"],v)}const d=g(e,["googleMaps"]);d!=null&&y(n,["googleMaps"],d);const f=g(e,["googleSearch"]);f!=null&&y(n,["googleSearch"],f);const h=g(e,["googleSearchRetrieval"]);h!=null&&y(n,["googleSearchRetrieval"],h);const m=g(e,["urlContext"]);return m!=null&&y(n,["urlContext"],m),n}function Uae(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["createTime"]);i!=null&&y(n,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(n,["updateTime"],a),n}function $ae(e,t){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["createTime"]);i!=null&&y(n,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(n,["updateTime"],a),n}function zae(e,t,n){const r={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&y(t,["defaultCheckpointId"],l),r}function Bae(e,t,n){const r={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&y(t,["defaultCheckpointId"],l),r}function qae(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","name"],Ze(e,i));const a=g(t,["config"]);return a!=null&&zae(a,r),r}function Gae(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["config"]);return a!=null&&Bae(a,r),r}function Hae(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&y(t,["parameters","safetySetting"],a);const l=g(e,["personGeneration"]);t!==void 0&&l!=null&&y(t,["parameters","personGeneration"],l);const u=g(e,["includeRaiReason"]);t!==void 0&&u!=null&&y(t,["parameters","includeRaiReason"],u);const d=g(e,["outputMimeType"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","mimeType"],d);const f=g(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","compressionQuality"],f);const h=g(e,["enhanceInputImage"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],h);const m=g(e,["imagePreservationFactor"]);t!==void 0&&m!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],m);const v=g(e,["labels"]);t!==void 0&&v!=null&&y(t,["labels"],v);const _=g(e,["numberOfImages"]);t!==void 0&&_!=null&&y(t,["parameters","sampleCount"],_);const S=g(e,["mode"]);return t!==void 0&&S!=null&&y(t,["parameters","mode"],S),r}function Fae(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],Ze(e,i));const a=g(t,["image"]);a!=null&&y(r,["instances[0]","image"],qr(a));const l=g(t,["upscaleFactor"]);l!=null&&y(r,["parameters","upscaleConfig","upscaleFactor"],l);const u=g(t,["config"]);return u!=null&&Hae(u,r),r}function Vae(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Mp(l))),y(n,["generatedImages"],a)}return n}function Kae(e,t){const n={},r=g(e,["uri"]);r!=null&&y(n,["uri"],r);const i=g(e,["encodedVideo"]);i!=null&&y(n,["videoBytes"],Da(i));const a=g(e,["encoding"]);return a!=null&&y(n,["mimeType"],a),n}function Yae(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(n,["videoBytes"],Da(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function Jae(e,t){const n={},r=g(e,["image"]);r!=null&&y(n,["_self"],qr(r));const i=g(e,["maskMode"]);return i!=null&&y(n,["maskMode"],i),n}function Wae(e,t){const n={},r=g(e,["image"]);r!=null&&y(n,["image"],Dp(r));const i=g(e,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function Xae(e,t){const n={},r=g(e,["image"]);r!=null&&y(n,["image"],qr(r));const i=g(e,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function Yj(e,t){const n={},r=g(e,["uri"]);r!=null&&y(n,["uri"],r);const i=g(e,["videoBytes"]);i!=null&&y(n,["encodedVideo"],Da(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["encoding"],a),n}function Jj(e,t){const n={},r=g(e,["uri"]);r!=null&&y(n,["gcsUri"],r);const i=g(e,["videoBytes"]);i!=null&&y(n,["bytesBase64Encoded"],Da(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zae(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function Qae(e){const t={},n=g(e,["config"]);return n!=null&&Zae(n,t),t}function eoe(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function toe(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&eoe(r,t),t}function noe(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function roe(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function ioe(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],ooe(l)),t}function aoe(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&roe(i,t),t}function ooe(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function soe(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function loe(e){const t={},n=g(e,["config"]);return n!=null&&soe(n,t),t}function uoe(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function Wj(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),y(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function coe(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&Wj(r,t),t}function doe(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const foe="Content-Type",hoe="X-Server-Timeout",poe="User-Agent",mb="x-goog-api-client",moe="1.40.0",goe=`google-genai-sdk/${moe}`,voe="v1beta1",yoe="v1beta";class boe{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:voe}else{if(!this.clientOptions.apiKey)throw new ac({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yoe,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===ub.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&xoe(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await UP(i),new cb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await UP(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return jr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Pe(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,C=E.code,P=`got status: ${T}. ${JSON.stringify(S)}`;if(C>=400&&C<600)throw new ac({message:P,status:C})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let v=-1,_=0;for(;;){v=-1,_=0;for(const T of d){const C=l.indexOf(T);C!==-1&&(v===-1||C<v)&&(v=C,_=T.length)}if(v===-1)break;const S=l.substring(0,v);l=l.substring(v+_);const E=S.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Pe(new cb(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=goe+" "+this.clientOptions.userAgentExtra;return t[poe]=n,t[mb]=n,t[foe]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(hoe,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),h=ge("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&Wj(r,m);const v=await this.fetchUploadUrl(f,u,d,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function UP(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ac({message:i,status:n}):new Error(i)}}function xoe(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _oe="mcp_used/unknown";let woe=!1;function Xj(e){for(const t of e)if(Soe(t)||typeof t=="object"&&"inputSchema"in t)return!0;return woe}function Zj(e){var t;const n=(t=e[mb])!==null&&t!==void 0?t:"";e[mb]=(n+` ${_oe}`).trimStart()}function Soe(e){return e!==null&&typeof e=="object"&&e instanceof I_}function Eoe(e){return jr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const l=yield Pe(n.listTools({cursor:i}));for(const u of l.tools)yield yield Pe(u),a++;if(!l.nextCursor)break;i=l.nextCursor}})}class I_{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new I_(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Lr(Eoe(h))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const m=i;l.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Qte(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Toe(e,t,n){const r=new Fte;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class Aoe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=Ooe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(R=>{f=R}),m=t.callbacks,v=function(){f({})},_=this.apiClient,S={onopen:v,onmessage:R=>{Toe(_,m.onmessage,R)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(R){}},E=this.webSocketFactory.create(d,Noe(l),S);E.connect(),await h;const P={setup:{model:Ze(this.apiClient,t.model)}};return E.send(JSON.stringify(P)),new Coe(E,this.apiClient)}}class Coe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Zre(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Xre(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qs.PLAY)}pause(){this.sendPlaybackControl(qs.PAUSE)}stop(){this.sendPlaybackControl(qs.STOP)}resetContext(){this.sendPlaybackControl(qs.RESET_CONTEXT)}close(){this.conn.close()}}function Noe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Ooe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ioe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Poe(e,t,n){const r=new Hte;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=tie(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class Roe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new Aoe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Xj(t.config.tools)&&Zj(m);const v=joe(m);if(this.apiClient.isVertexAI()){const z=this.apiClient.getProject(),ie=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),L=!!z&&!!ie||!!B;this.apiClient.getCustomBaseUrl()&&!L?h=d:(h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const z=this.apiClient.getApiKey();let ie="BidiGenerateContent",B="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",B="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ie}?${B}=${z}`}let _=()=>{};const S=new Promise(z=>{_=z}),E=t.callbacks,T=function(){var z;(z=E==null?void 0:E.onopen)===null||z===void 0||z.call(E),_({})},C=this.apiClient,P={onopen:T,onmessage:z=>{Poe(C,E.onmessage,z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(z){}},R=this.webSocketFactory.create(h,koe(v),P);R.connect(),await S;let I=Ze(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const z=this.apiClient.getProject(),ie=this.apiClient.getLocation();z&&ie&&(I=`projects/${z}/locations/${ie}/`+I)}let O={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ih.AUDIO]}:t.config.responseModalities=[Ih.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const z of M)if(this.isCallableTool(z)){const ie=z;k.push(await ie.tool())}else k.push(z);k.length>0&&(t.config.tools=k);const H={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?O=Wre(this.apiClient,H):O=Jre(this.apiClient,H),delete O.config,R.send(JSON.stringify(O)),new Doe(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Moe={turnComplete:!0};class Doe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_r(n.turns),t.isVertexAI()||(r=r.map(i=>Rp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(Ioe)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},Moe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eie(t)}:n={realtimeInput:Qre(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function koe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function joe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $P=10;function zP(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ws(l)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ws(e){return"callTool"in e&&typeof e.callTool=="function"}function Loe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ws(i)))!==null&&r!==void 0?r:!1}function BP(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ws(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function qP(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uoe extends Fi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Loe(n)||zP(n.config))return await this.generateContentInternal(d);const f=BP(n);if(f.length>0){const E=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const v=_r(d.contents),_=(a=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:$P;let S=0;for(;S<_&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ws(C)){const R=await C.callTool(h.functionCalls);T.push(...R)}S++,m={role:"user",parts:T},d.contents=_r(d.contents),d.contents.push(E),d.contents.push(m),qP(d.config)&&(v.push(E),v.push(m))}return qP(d.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),zP(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=BP(n);if(d.length>0){const m=d.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:l.push(d);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Po(ji.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async d=>Ws(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&Xj(t.config.tools)){const d=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Zj(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ws(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$P;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(f,h,m){return jr(this,arguments,function*(){for(var v,_,S,E,T,C;u<a;){l&&(u++,l=!1);const O=yield Pe(f.processParamsMaybeAddMcpUsage(m)),M=yield Pe(f.generateContentStreamInternal(O)),k=[],H=[];try{for(var P=!0,R=(_=void 0,Lr(M)),I;I=yield Pe(R.next()),v=I.done,!v;P=!0){E=I.value,P=!1;const z=E;if(yield yield Pe(z),z.candidates&&(!((T=z.candidates[0])===null||T===void 0)&&T.content)){H.push(z.candidates[0].content);for(const ie of(C=z.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<a&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ie.functionCall.name)){const B=yield Pe(h.get(ie.functionCall.name).callTool([ie.functionCall]));k.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(z){_={error:z}}finally{try{!P&&!v&&(S=R.return)&&(yield Pe(S.call(R)))}finally{if(_)throw _.error}}if(k.length>0){l=!0;const z=new Nu;z.candidates=[{content:{role:"user",parts:k}}],yield yield Pe(z);const ie=[];ie.push(...H),ie.push({role:"user",parts:k});const B=_r(m.contents).concat(ie);m.contents=B}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=kP(this.apiClient,t);return u=ge("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=LP(h),v=new Nu;return Object.assign(v,m),v})}else{const f=DP(this.apiClient,t);return u=ge("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=jP(h),v=new Nu;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=kP(this.apiClient,t);return u=ge("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return jr(this,arguments,function*(){var v,_,S,E;try{for(var T=!0,C=Lr(m),P;P=yield Pe(C.next()),v=P.done,!v;T=!0){E=P.value,T=!1;const R=E,I=LP(yield Pe(R.json()),t);I.sdkHttpResponse={headers:R.headers};const O=new Nu;Object.assign(O,I),yield yield Pe(O)}}catch(R){_={error:R}}finally{try{!T&&!v&&(S=C.return)&&(yield Pe(S.call(C)))}finally{if(_)throw _.error}}})})}else{const f=DP(this.apiClient,t);return u=ge("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return jr(this,arguments,function*(){var v,_,S,E;try{for(var T=!0,C=Lr(m),P;P=yield Pe(C.next()),v=P.done,!v;T=!0){E=P.value,T=!1;const R=E,I=jP(yield Pe(R.json()),t);I.sdkHttpResponse={headers:R.headers};const O=new Nu;Object.assign(O,I),yield yield Pe(O)}}catch(R){_={error:R}}finally{try{!T&&!v&&(S=C.return)&&(yield Pe(S.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Rie(this.apiClient,t);return u=ge("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Die(h),v=new vP;return Object.assign(v,m),v})}else{const f=Pie(this.apiClient,t);return u=ge("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Mie(h),v=new vP;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Fie(this.apiClient,t);return u=ge("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Kie(h),v=new yP;return Object.assign(v,m),v})}else{const f=Hie(this.apiClient,t);return u=ge("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Vie(h),v=new yP;return Object.assign(v,m),v})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Cie(this.apiClient,t);return a=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Nie(d),h=new Rte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Fae(this.apiClient,t);return a=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Vae(d),h=new Mte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Aae(this.apiClient,t);return a=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Cae(d),h=new Dte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Mae(this.apiClient,t);return a=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Dae(d),h=new kte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=cae(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>pb(h))}else{const f=uae(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>hb(h))}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=bae(this.apiClient,t);return u=ge("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=_ae(h),v=new bP;return Object.assign(v,m),v})}else{const f=yae(this.apiClient,t);return u=ge("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=xae(h),v=new bP;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Gae(this.apiClient,t);return u=ge("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>pb(h))}else{const f=qae(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>hb(h))}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Sie(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Tie(h),v=new xP;return Object.assign(v,m),v})}else{const f=wie(this.apiClient,t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Eie(h),v=new xP;return Object.assign(v,m),v})}}async countTokens(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=bie(this.apiClient,t);return u=ge("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=_ie(h),v=new _P;return Object.assign(v,m),v})}else{const f=yie(this.apiClient,t);return u=ge("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=xie(h),v=new _P;return Object.assign(v,m),v})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=die(this.apiClient,t);return a=ge("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=fie(d),h=new jte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Qie(this.apiClient,t);return u=ge("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=Xie(h),v=new Ph;return Object.assign(v,m),v})}else{const f=Zie(this.apiClient,t);return u=ge("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=Wie(h),v=new Ph;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $oe extends Fi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Ate(t);return u=ge("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=Tte(t);return u=ge("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=yte(t);return a=ge("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zoe(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Boe(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Woe(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function qoe(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],Joe(e,u));const d=g(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&y(n,["fieldMask"],d),r}function Goe(e,t){const n={},r=g(t,["config"]);return r!=null&&y(n,["config"],qoe(e,r,n)),n}function Hoe(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Foe(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Voe(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Koe(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function Yoe(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],O_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Boe(Tn(S)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let M=_l(E);Array.isArray(M)&&(M=M.map(k=>Zoe(xl(k)))),y(t,["setup","tools"],M)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],Xoe(T));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const O=g(e,["proactivity"]);if(t!==void 0&&O!=null&&y(t,["setup","proactivity"],O),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Joe(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],Ze(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],Yoe(i,n)),n}function Woe(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],Hoe(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],Foe(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],zoe(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function Xoe(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Zoe(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],Voe(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],Koe(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qoe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function ese(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=Qoe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class tse extends Fi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Goe(this.apiClient,t);a=ge("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=ese(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nse(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function rse(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&nse(r,t),t}function ise(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function ase(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function ose(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&ase(r,t),t}function sse(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lse extends Fi{constructor(t){super(),this.apiClient=t,this.list=async n=>new Po(ji.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ise(t);return a=ge("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rse(t);i=ge("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ose(t);return a=ge("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=sse(d),h=new Lte;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class use extends Fi{constructor(t,n=new lse(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Po(ji.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qae(t);return a=ge("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=noe(t);return a=ge("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=toe(t);i=ge("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=loe(t);return a=ge("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=uoe(d),h=new Ute;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=coe(t);return a=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=doe(d),h=new $te;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aoe(t);return a=ge("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=ioe(d),h=new E_;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qj=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Qj=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const cse=()=>Qj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gb(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const vb=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Er extends Error{}class Pn extends Er{constructor(t,n,r,i){super(`${Pn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new kp({message:r,cause:vb(n)});const a=n;return t===400?new tL(t,a,r,i):t===401?new nL(t,a,r,i):t===403?new rL(t,a,r,i):t===404?new iL(t,a,r,i):t===409?new aL(t,a,r,i):t===422?new oL(t,a,r,i):t===429?new sL(t,a,r,i):t>=500?new lL(t,a,r,i):new Pn(t,a,r,i)}}class yb extends Pn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class kp extends Pn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class eL extends kp{constructor({message:t}={}){super({message:t??"Request timed out."})}}class tL extends Pn{}class nL extends Pn{}class rL extends Pn{}class iL extends Pn{}class aL extends Pn{}class oL extends Pn{}class sL extends Pn{}class lL extends Pn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dse=/^[a-z][a-z0-9+.-]*:/i,fse=e=>dse.test(e);let bb=e=>(bb=Array.isArray,bb(e));const hse=bb;let pse=hse;const GP=pse;function mse(e){if(!e)return!0;for(const t in e)return!1;return!0}function gse(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const vse=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Er(`${e} must be an integer`);if(t<0)throw new Er(`${e} must be a positive integer`);return t},yse=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bse=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ls="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xse(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _se=()=>{var e,t,n,r,i;const a=xse();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":FP(Deno.build.os),"X-Stainless-Arch":HP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":FP((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":HP((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=wse();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wse(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${a}.${l}`}}}return null}const HP=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",FP=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let pf;const Sse=()=>pf??(pf=_se());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ese(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function uL(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Tse(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return uL({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function cL(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ase(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cse=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dL=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ky(e,t,n){return dL(),new File(e,t??"unknown_file",n)}function Nse(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Ose=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fL=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ise=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&fL(e),Pse=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Rse(e,t,n){if(dL(),e=await e,Ise(e))return e instanceof File?e:Ky([await e.arrayBuffer()],e.name);if(Pse(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ky(await xb(i),t,n)}const r=await xb(e);if(t||(t=Nse(e)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Ky(r,t,n)}async function xb(e){var t,n,r,i,a;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(fL(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(Ose(e))try{for(var u=!0,d=Lr(e),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;l.push(...await xb(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const h=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${Mse(e)}`)}return l}function Mse(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hL{constructor(t){this._client=t}}hL._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pL(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const VP=Object.freeze(Object.create(null)),Dse=(e=pL)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],l=n.reduce((h,m,v)=>{var _,S,E;/[?#]/.test(m)&&(i=!0);const T=r[v];let C=(i?encodeURIComponent:e)(""+T);return v!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((_=T.hasOwnProperty)!==null&&_!==void 0?_:VP))!==null&&S!==void 0?S:VP))===null||E===void 0?void 0:E.toString))&&(C=T+"",a.push({start:h.length+m.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+m+(v===r.length?"":C)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((v,_)=>{const S=" ".repeat(_.start-h),E="^".repeat(_.length);return h=_.start+_.length,v+S+E},"");throw new Er(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),mf=Dse(pL);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mL extends hL{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,a=Mh(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Er("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Er("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(mf`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(mf`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(mf`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const a=n??{},{api_version:l=this._client.apiVersion}=a,u=Mh(a,["api_version"]);return this._client.get(mf`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}mL._key=Object.freeze(["interactions"]);class gL extends mL{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kse(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let gf;function P_(e){let t;return(gf??(t=new globalThis.TextEncoder,gf=t.encode.bind(t)))(e)}let vf;function KP(e){let t;return(vf??(t=new globalThis.TextDecoder,vf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?P_(t):t;this.buffer=kse([this.buffer,n]);const r=[];let i;for(;(i=jse(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(KP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=KP(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}jp.NEWLINE_CHARS=new Set([`
`,"\r"]);jp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function jse(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Lse(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dh={off:0,error:200,warn:300,info:400,debug:500},YP=(e,t,n)=>{if(e){if(gse(Dh,e))return e;Cn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Dh))}`)}};function Du(){}function yf(e,t,n){return!t||Dh[e]>Dh[n]?Du:t[e].bind(t)}const Use={error:Du,warn:Du,info:Du,debug:Du};let JP=new WeakMap;function Cn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Use;const i=JP.get(n);if(i&&i[0]===r)return i[1];const a={error:yf("error",n,r),warn:yf("warn",n,r),info:yf("info",n,r),debug:yf("debug",n,r)};return JP.set(n,[r,a]),a}const oo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gs{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const a=r?Cn(r):console;function l(){return jr(this,arguments,function*(){var d,f,h,m;if(i)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,S=Lr($se(t,n)),E;E=yield Pe(S.next()),d=E.done,!d;_=!0){m=E.value,_=!1;const T=m;if(!v)if(T.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Pe(JSON.parse(T.data))}catch(C){throw a.error("Could not parse message into JSON:",T.data),a.error("From chunk:",T.raw),C}}}catch(T){f={error:T}}finally{try{!_&&!d&&(h=S.return)&&(yield Pe(h.call(S)))}finally{if(f)throw f.error}}v=!0}catch(T){if(gb(T))return yield Pe(void 0);throw T}finally{v||n.abort()}})}return new Gs(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return jr(this,arguments,function*(){var d,f,h,m;const v=new jp,_=cL(t);try{for(var S=!0,E=Lr(_),T;T=yield Pe(E.next()),d=T.done,!d;S=!0){m=T.value,S=!1;const C=m;for(const P of v.decode(C))yield yield Pe(P)}}catch(C){f={error:C}}finally{try{!S&&!d&&(h=E.return)&&(yield Pe(h.call(E)))}finally{if(f)throw f.error}}for(const C of v.flush())yield yield Pe(C)})}function l(){return jr(this,arguments,function*(){var d,f,h,m;if(i)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,S=Lr(a()),E;E=yield Pe(S.next()),d=E.done,!d;_=!0){m=E.value,_=!1;const T=m;v||T&&(yield yield Pe(JSON.parse(T)))}}catch(T){f={error:T}}finally{try{!_&&!d&&(h=S.return)&&(yield Pe(h.call(S)))}finally{if(f)throw f.error}}v=!0}catch(T){if(gb(T))return yield Pe(void 0);throw T}finally{v||n.abort()}})}return new Gs(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();t.push(l),n.push(l)}return a.shift()}});return[new Gs(()=>i(t),this.controller,this.client),new Gs(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return uL({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const l=P_(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function $se(e,t){return jr(this,arguments,function*(){var r,i,a,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Er("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Er("Attempted to iterate over a response with no body");const u=new Bse,d=new jp,f=cL(e.body);try{for(var h=!0,m=Lr(zse(f)),v;v=yield Pe(m.next()),r=v.done,!r;h=!0){l=v.value,h=!1;const _=l;for(const S of d.decode(_)){const E=u.decode(S);E&&(yield yield Pe(E))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(a=m.return)&&(yield Pe(a.call(m)))}finally{if(i)throw i.error}}for(const _ of d.flush()){const S=u.decode(_);S&&(yield yield Pe(S))}})}function zse(e){return jr(this,arguments,function*(){var n,r,i,a;let l=new Uint8Array;try{for(var u=!0,d=Lr(e),f;f=yield Pe(d.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?P_(h):h;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let _;for(;(_=Lse(l))!==-1;)yield yield Pe(l.slice(0,_)),l=l.slice(_)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=d.return)&&(yield Pe(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Pe(l))})}class Bse{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=qse(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function qse(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Gse(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,l=await(async()=>{var u;if(t.options.stream)return Cn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Gs.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Cn(e).debug(`[${r}] response parsed`,oo({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends Promise{constructor(t,n,r=Gse){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new R_(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vL=Symbol("brand.privateNullableHeaders");function*Hse(e){if(!e)return;if(vL in e){const{values:r,nulls:i}=e;yield*r.entries();for(const a of i)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():GP(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=GP(r[1])?r[1]:[r[1]];let l=!1;for(const u of a)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Ou=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[a,l]of Hse(r)){const u=a.toLowerCase();i.has(u)||(t.delete(a),i.add(u)),l===null?(t.delete(a),n.add(u)):(t.append(a,l),n.delete(u))}}return{[vL]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yy=e=>{var t,n,r,i,a,l;if(typeof globalThis.process<"u")return(r=(n=(t=fte)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yL;class Lp{constructor(t){var n,r,i,a,l,u,d,{baseURL:f=Yy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Yy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,v=Mh(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:m},v),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:Lp.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(a=YP(_.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:YP(Yy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=_.fetchOptions,this.maxRetries=(u=_.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=_.fetch)!==null&&d!==void 0?d:Ese(),this.encoder=Cse,this._options=_,this.apiKey=h,this.apiVersion=m,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Ou([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ou([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ou([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Er(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ls}`}defaultIdempotencyKey(){return`stainless-node-retry-${cse()}`}makeStatusError(t,n,r,i){return Pn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=fse(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return mse(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new R_(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,a,l;const u=await t,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:h,timeout:m}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:h,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Cn(this).debug(`[${v}] sending request`,oo({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new yb;const E=new AbortController,T=await this.fetchWithTimeout(h,f,m,E).catch(vb),C=Date.now();if(T instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new yb;const I=gb(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Cn(this).info(`[${v}] connection ${I?"timed out":"failed"} - ${R}`),Cn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (${R})`,oo({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),this.retryRequest(u,n,r??v);throw Cn(this).info(`[${v}] connection ${I?"timed out":"failed"} - error; no more retries left`),Cn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (error; no more retries left)`,oo({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),I?new eL:new kp({cause:T})}const P=`[${v}${_}] ${f.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-S}ms`;if(!T.ok){const R=await this.shouldRetry(T);if(n&&R){const z=`retrying, ${n} attempts remaining`;return await Ase(T.body),Cn(this).info(`${P} - ${z}`),Cn(this).debug(`[${v}] response error (${z})`,oo({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),this.retryRequest(u,n,r??v,T.headers)}const I=R?"error; no more retries left":"error; not retryable";Cn(this).info(`${P} - ${I}`);const O=await T.text().catch(z=>vb(z).message),M=yse(O),k=M?void 0:O;throw Cn(this).debug(`[${v}] response error (${I})`,oo({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:k,durationMs:Date.now()-S})),this.makeStatusError(T.status,M,k,T.headers)}return Cn(this).info(P),Cn(this).debug(`[${v}] response start`,oo({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),{response:T,options:u,controller:E,requestLogID:v,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const a=n||{},{signal:l,method:u}=a,d=Mh(a,["signal","method"]),f=i.abort.bind(i);l&&l.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),m=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),d);u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,v)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var a;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await bse(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,l=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,a;const l=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:h}=l,m=this.buildURL(d,f,h);"timeout"in l&&vse("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:_}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=Ou([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Sse()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Ou([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Tse(t)}:this.encoder({body:t,headers:r})}}Lp.DEFAULT_TIMEOUT=6e4;class an extends Lp{constructor(){super(...arguments),this.interactions=new gL(this)}}yL=an;an.GeminiNextGenAPIClient=yL;an.GeminiNextGenAPIClientError=Er;an.APIError=Pn;an.APIConnectionError=kp;an.APIConnectionTimeoutError=eL;an.APIUserAbortError=yb;an.NotFoundError=iL;an.ConflictError=aL;an.RateLimitError=sL;an.BadRequestError=tL;an.AuthenticationError=nL;an.InternalServerError=lL;an.PermissionDeniedError=rL;an.UnprocessableEntityError=oL;an.toFile=Rse;an.Interactions=gL;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fse(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Vse(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Kse(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Yse(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Jse(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(g(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(g(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const d=g(e,["learningRate"]);if(t!==void 0&&d!=null&&y(t,["tuningTask","hyperparameters","learningRate"],d),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(g(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(g(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(g(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(g(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function Wse(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const O=g(e,["validationDataset"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec"],Jy(O))}else if(i==="PREFERENCE_TUNING"){const O=g(e,["validationDataset"]);t!==void 0&&O!=null&&y(t,["preferenceOptimizationSpec"],Jy(O))}else if(i==="DISTILLATION"){const O=g(e,["validationDataset"]);t!==void 0&&O!=null&&y(t,["distillationSpec"],Jy(O))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const O=g(e,["epochCount"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],O)}else if(u==="PREFERENCE_TUNING"){const O=g(e,["epochCount"]);t!==void 0&&O!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],O)}else if(u==="DISTILLATION"){const O=g(e,["epochCount"]);t!==void 0&&O!=null&&y(t,["distillationSpec","hyperParameters","epochCount"],O)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const O=g(e,["learningRateMultiplier"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],O)}else if(d==="PREFERENCE_TUNING"){const O=g(e,["learningRateMultiplier"]);t!==void 0&&O!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],O)}else if(d==="DISTILLATION"){const O=g(e,["learningRateMultiplier"]);t!==void 0&&O!=null&&y(t,["distillationSpec","hyperParameters","learningRateMultiplier"],O)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const O=g(e,["exportLastCheckpointOnly"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],O)}else if(f==="PREFERENCE_TUNING"){const O=g(e,["exportLastCheckpointOnly"]);t!==void 0&&O!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],O)}else if(f==="DISTILLATION"){const O=g(e,["exportLastCheckpointOnly"]);t!==void 0&&O!=null&&y(t,["distillationSpec","exportLastCheckpointOnly"],O)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const O=g(e,["adapterSize"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],O)}else if(h==="PREFERENCE_TUNING"){const O=g(e,["adapterSize"]);t!==void 0&&O!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],O)}else if(h==="DISTILLATION"){const O=g(e,["adapterSize"]);t!==void 0&&O!=null&&y(t,["distillationSpec","hyperParameters","adapterSize"],O)}let m=g(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const O=g(e,["tuningMode"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","tuningMode"],O)}const v=g(e,["customBaseModel"]);t!==void 0&&v!=null&&y(t,["customBaseModel"],v);let _=g(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const O=g(e,["batchSize"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","hyperParameters","batchSize"],O)}let S=g(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const O=g(e,["learningRate"]);t!==void 0&&O!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRate"],O)}const E=g(e,["labels"]);t!==void 0&&E!=null&&y(t,["labels"],E);const T=g(e,["beta"]);t!==void 0&&T!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],T);const C=g(e,["baseTeacherModel"]);t!==void 0&&C!=null&&y(t,["distillationSpec","baseTeacherModel"],C);const P=g(e,["tunedTeacherModelSource"]);t!==void 0&&P!=null&&y(t,["distillationSpec","tunedTeacherModelSource"],P);const R=g(e,["sftLossWeightMultiplier"]);t!==void 0&&R!=null&&y(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],R);const I=g(e,["outputUri"]);return t!==void 0&&I!=null&&y(t,["outputUri"],I),r}function Xse(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&lle(a);const l=g(e,["config"]);return l!=null&&Jse(l,n),n}function Zse(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&ule(a,n,t);const l=g(e,["config"]);return l!=null&&Wse(l,n,t),n}function Qse(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function ele(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function tle(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function nle(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function rle(e,t){const n={},r=g(e,["config"]);return r!=null&&tle(r,n),n}function ile(e,t){const n={},r=g(e,["config"]);return r!=null&&nle(r,n),n}function ale(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>bL(u))),y(n,["tuningJobs"],l)}return n}function ole(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>_b(u))),y(n,["tuningJobs"],l)}return n}function sle(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["model"],r);const i=g(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function lle(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function ule(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["distillationSpec","promptDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(a==="DISTILLATION"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["distillationSpec","promptDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function bL(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],kj(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const d=g(e,["tuningTask","completeTime"]);d!=null&&y(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=g(e,["description"]);h!=null&&y(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(e,["_self"]);return v!=null&&y(n,["tunedModel"],sle(v)),n}function _b(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],kj(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(n,["startTime"],u);const d=g(e,["endTime"]);d!=null&&y(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=g(e,["error"]);h!=null&&y(n,["error"],h);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const v=g(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const _=g(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const S=g(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=g(e,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const T=g(e,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const C=g(e,["distillationSpec"]);C!=null&&y(n,["distillationSpec"],C);const P=g(e,["tuningDataStats"]);P!=null&&y(n,["tuningDataStats"],P);const R=g(e,["encryptionSpec"]);R!=null&&y(n,["encryptionSpec"],R);const I=g(e,["partnerModelTuningSpec"]);I!=null&&y(n,["partnerModelTuningSpec"],I);const O=g(e,["customBaseModel"]);O!=null&&y(n,["customBaseModel"],O);const M=g(e,["experiment"]);M!=null&&y(n,["experiment"],M);const k=g(e,["labels"]);k!=null&&y(n,["labels"],k);const H=g(e,["outputUri"]);H!=null&&y(n,["outputUri"],H);const z=g(e,["pipelineJob"]);z!=null&&y(n,["pipelineJob"],z);const ie=g(e,["serviceAccount"]);ie!=null&&y(n,["serviceAccount"],ie);const B=g(e,["tunedModelDisplayName"]);B!=null&&y(n,["tunedModelDisplayName"],B);const L=g(e,["veoTuningSpec"]);return L!=null&&y(n,["veoTuningSpec"],L),n}function cle(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const u=g(e,["error"]);return u!=null&&y(n,["error"],u),n}function Jy(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dle extends Fi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(ji.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:lb.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=ele(t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>_b(h))}else{const f=Qse(t);return u=ge("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>bL(h))}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=ile(t);return u=ge("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=ole(h),v=new wP;return Object.assign(v,m),v})}else{const f=rle(t);return u=ge("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=ale(h),v=new wP;return Object.assign(v,m),v})}}async cancel(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Vse(t);return u=ge("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Yse(h),v=new SP;return Object.assign(v,m),v})}else{const f=Fse(t);return u=ge("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Kse(h),v=new SP;return Object.assign(v,m),v})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Zse(t,t);return a=ge("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>_b(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xse(t);return a=ge("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>cle(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fle{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hle=1024*1024*8,ple=3,mle=1e3,gle=2,kh="x-goog-upload-status";async function vle(e,t,n){var r;const i=await xL(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[kh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function yle(e,t,n){var r;const i=await xL(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[kh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Oj(a),u=new T_;return Object.assign(u,l),u}async function xL(e,t,n){var r,i;let a=0,l=0,u=new cb(new Response),d="upload";for(a=e.size;l<a;){const f=Math.min(hle,a-l),h=e.slice(l,l+f);l+f>=a&&(d+=", finalize");let m=0,v=mle;for(;m<ple&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[kh]));)m++,await xle(v),v=v*gle;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[kh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function ble(e){return{size:e.size,type:e.type}}function xle(e){return new Promise(t=>setTimeout(t,e))}class _le{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vle(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await yle(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ble(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wle{create(t,n,r){return new Sle(t,n,r)}}class Sle{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WP="x-goog-api-key";class Ele{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(WP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(WP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tle="gl-node/";class Ale{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new an({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=gte(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Ele(this.apiKey);this.apiClient=new boe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Tle+"web",uploader:new _le,downloader:new fle}),this.models=new Uoe(this.apiClient),this.live=new Roe(this.apiClient,i,new wle),this.batches=new Vne(this.apiClient),this.chats=new Cre(this.models,this.apiClient),this.caches=new Ere(this.apiClient),this.files=new $re(this.apiClient),this.operations=new $oe(this.apiClient),this.authTokens=new tse(this.apiClient),this.tunings=new dle(this.apiClient),this.fileSearchStores=new use(this.apiClient)}}const Cle=async(e,t,n)=>{const r=new Ale({apiKey:void 0}),i=e.filter(h=>!h.description.includes("[INVESTIMENTO]")),a=i.filter(h=>h.type==="INCOME").reduce((h,m)=>h+m.amount,0),l=i.filter(h=>h.type==="EXPENSE").reduce((h,m)=>h+m.amount,0),u=n.length,d=t.reduce((h,m)=>h+m.amount,0),f=`
    Como um consultor financeiro snior para a empresa Even Digital, analise os seguintes dados financeiros e fornea insights rpidos (em portugus):
    - Receitas Totais: R$ ${a.toLocaleString("pt-BR")}
    - Despesas Totais: R$ ${l.toLocaleString("pt-BR")}
    - Saldo: R$ ${(a-l).toLocaleString("pt-BR")}
    - Investimentos: R$ ${d.toLocaleString("pt-BR")}
    - Contas Pendentes: ${u} lanamentos.

    Por favor, d 3 dicas prticas baseadas nesses nmeros para melhorar a sade financeira da empresa. Seja conciso e profissional.
  `;try{return(await r.models.generateContent({model:"gemini-3-flash-preview",contents:f})).text||"Anlise indisponvel no momento."}catch(h){throw console.error("AI Analysis Error:",h),h}},Nle=()=>{const[e,t]=A.useState("DASHBOARD"),[n,r]=A.useState(!0),[i,a]=A.useState(!0),[l,u]=A.useState(!1),[d,f]=A.useState(!0),[h,m]=A.useState([]),[v,_]=A.useState([]),[S,E]=A.useState([]),[T,C]=A.useState([]),[P,R]=A.useState([]),[I,O]=A.useState([]),[M,k]=A.useState(null),[H,z]=A.useState(!1);A.useEffect(()=>{(async()=>{a(!0);try{console.log(" Buscando dados do Supabase...");const[{data:J,error:ne},{data:$,error:Z},{data:F,error:le},{data:he,error:j},{data:ee,error:de},{data:fe,error:_e}]=await Promise.all([ke.from("Fluxo de caixa").select("*"),ke.from("investimento").select("*"),ke.from("contas_pagar_receber").select("*"),ke.from("previsao_despesa").select("*"),ke.from("Categoria").select("*"),ke.from("Contratos").select("*")]);if(console.log(" Resultado Fluxo de caixa:",{count:(J==null?void 0:J.length)||0,error:ne}),console.log(" Resultado Investimento:",{count:($==null?void 0:$.length)||0,error:Z}),console.log(" Resultado Previso despesa:",{count:(F==null?void 0:F.length)||0,error:le}),console.log(" Resultado Categoria:",{count:(ee==null?void 0:ee.length)||0,error:de}),J&&J.length>0){console.log(" Mapeando",J.length,"transaes"),console.log(" Exemplo de registro:",J[0]);const pe=J.map(ce=>({id:ce.id,date:ce.data||ce.Data,description:ce.descricao||ce.Descrio,amount:Math.abs(ce.valor||ce.Valor),balance:ce.saldo||ce.Saldo,type:ce.tipo||(ce.Valor>=0?"INCOME":"EXPENSE"),categoryId:ce.categoria_id||"",subCategoryId:ce.subcategoria_id||"",notas:ce.notas||"",tags:ce.tags||[]}));console.log(" Transaes mapeadas:",pe.length),m(pe)}else console.log(" Nenhuma transao encontrada"),m([]);if($&&$.length>0){console.log(" Mapeando",$.length,"investimentos"),console.log(" Exemplo de investimento:",$[0]);const pe=$.map(ce=>({id:ce.id,description:ce.descrio,amount:ce.entrada||ce.sada||0,type:ce.entrada?"INCOME":"EXPENSE",date_lancamento:ce.data_lancamento}));console.log(" Investimentos mapeados:",pe.length),_(pe)}else console.log(" Nenhum investimento encontrado"),_([]);if(F&&F.length>0){const pe=F.map(ce=>({id:ce.id,data:ce.data,descricao:ce.descricao,entrada:ce.entrada||0,saida:ce.sada||0}));E(pe)}else E([]);if(he&&he.length>0){const pe=he.map(ce=>({id:ce.id,description:ce.descrio,amount:ce.valor,recorrente:ce["recorrente?"]==="sim",mes:ce.mes}));C(pe)}else C([]);if(ee){console.log(" Dados brutos do Supabase (Categoria):",ee);const{data:pe,error:ce}=await ke.from("Subcategoria").select("*");console.log(" Subcategorias do Supabase:",pe);const tt=ee.map(te=>{let Ce="INCOME";te.etiquetas==="entrada"?Ce="INCOME":te.etiquetas==="sada"?Ce="EXPENSE":te.tipo?Ce=te.tipo:te.type&&(Ce=te.type);const Le=pe?pe.filter(ue=>String(ue.categoria_id)===String(te.id)).map(ue=>({id:ue.id,name:ue.nome||ue.name||"Sem nome"})):[];return{id:te.id,name:te.Categoria||te.nome||te.name||"Sem nome",type:Ce,subCategories:Le,color:te.cor}});console.log(" Categorias formatadas para o app:",tt),console.log(`Total: ${tt.length} categorias`),R(tt)}if(fe&&fe.length>0){const pe=fe.map(ce=>({id:ce.id,nome_cliente:ce["Nome cliente"],servico:ce.Servio,vencimento:ce.Vencimento,pago:ce.Pago,receber:ce.Receber,data_pagamento:ce.data_pagamento,inicio_contrato:ce.inicio_contrato,final_contrato:ce.final_contrato,parcela:ce.parcela||null}));O(pe)}else O([])}catch(J){console.error("Erro ao buscar dados do Supabase:",J)}finally{a(!1)}})()},[]);const ie=()=>{confirm("Deseja realmente sair?")&&(localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),window.location.reload())},B=async()=>{z(!0);try{const G=await Cle(h,v,S);k(G)}catch(G){console.error(G),k("Erro ao gerar anlise. Tente novamente mais tarde.")}finally{z(!1)}},L=()=>{if(i)return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[x.jsx(Xs,{className:"animate-spin mb-4",size:48}),x.jsx("p",{className:"font-medium text-lg",children:"Sincronizando com Supabase Cloud..."})]});switch(e){case"DASHBOARD":return x.jsx(qO,{transactions:h,investments:v,bills:S});case"TRANSACTIONS":return x.jsx(ite,{transactions:h,setTransactions:m,categories:P,setCategories:R});case"INVESTMENTS":return x.jsx(ote,{investments:v,setInvestments:_,setTransactions:m});case"BILLS":return x.jsx(ste,{bills:S,setBills:E,setTransactions:m});case"FORECAST":return x.jsx(lte,{forecasts:T,setForecasts:C});case"CONTRACTS":return x.jsx(ute,{contracts:I,setContracts:O,setBills:E,setTransactions:m});case"CATEGORIES":return x.jsx(cte,{categories:P,setCategories:R});case"IMPORT":return x.jsx(dte,{setTransactions:m,categories:P,onComplete:()=>t("TRANSACTIONS")});default:return x.jsx(qO,{transactions:h,investments:v,bills:S})}};return x.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[x.jsxs("aside",{className:`${n?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col shadow-lg`,children:[x.jsxs("div",{className:"p-6 flex items-center gap-3",children:[x.jsx("img",{src:"https://i.ibb.co/gZcFGqVt/Brand-03.png",alt:"Even Digital",className:"h-10 w-auto"}),n&&x.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"Digital"})]}),x.jsxs("nav",{className:"flex-1 mt-6",children:[x.jsx(ya,{icon:x.jsx(Mz,{size:20}),label:"Dashboard",active:e==="DASHBOARD",onClick:()=>t("DASHBOARD"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(jh,{size:20}),label:"Fluxo de Caixa",active:e==="TRANSACTIONS",onClick:()=>t("TRANSACTIONS"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(nR,{size:20}),label:"Investimentos",active:e==="INVESTMENTS",onClick:()=>t("INVESTMENTS"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(cz,{size:20}),label:"Contas",active:e==="BILLS",onClick:()=>t("BILLS"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(rR,{size:20}),label:"Previso de Gastos",active:e==="FORECAST",onClick:()=>t("FORECAST"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(Wy,{size:20}),label:"Contratos",active:e==="CONTRACTS",onClick:()=>t("CONTRACTS"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(Yz,{size:20}),label:"Categorias",active:e==="CATEGORIES",onClick:()=>t("CATEGORIES"),collapsed:!n}),x.jsx(ya,{icon:x.jsx(eR,{size:20}),label:"Importar CSV",active:e==="IMPORT",onClick:()=>t("IMPORT"),collapsed:!n})]}),x.jsxs("div",{className:"p-4",children:[x.jsxs("button",{onClick:B,disabled:H,className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium transition-all shadow-md hover:shadow-lg ${H?"opacity-50 cursor-not-allowed":""}`,children:[x.jsx(zT,{size:20}),n&&(H?"Analisando...":"IA Insights")]}),n&&x.jsxs("button",{onClick:ie,className:"w-full mt-3 flex items-center justify-center gap-2 py-3 rounded-xl bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-700 font-medium transition-all border border-red-200",children:[x.jsx($z,{size:18}),"Sair"]})]}),x.jsx("button",{onClick:()=>r(!n),className:"p-4 text-gray-400 hover:text-gray-700 flex justify-center border-t border-gray-200",children:n?x.jsx(Oa,{size:20}):x.jsx(Gz,{size:20})})]}),x.jsxs("main",{className:"flex-1 overflow-y-auto",children:[x.jsxs("header",{className:"bg-white h-16 border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-10",children:[x.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:e==="DASHBOARD"?"Viso Geral":e==="TRANSACTIONS"?"Fluxo de Caixa":e==="INVESTMENTS"?"Investimentos":e==="BILLS"?"Contas":e==="CATEGORIES"?"Categorias":"Importao"}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-slate-500",children:"Saldo Consolidado Cloud"}),x.jsxs("p",{className:"font-bold text-slate-900",children:["R$ ",h.filter(G=>!G.description.includes("[INVESTIMENTO]")).reduce((G,J)=>J.type==="INCOME"?G+J.amount:G-J.amount,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}),x.jsxs("div",{className:`p-8 ${e==="FORECAST"?"max-w-none":"max-w-7xl"} mx-auto`,children:[M&&x.jsxs("div",{className:"mb-8 p-6 bg-indigo-50 border border-indigo-100 rounded-xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-2",children:x.jsx("button",{onClick:()=>k(null),className:"text-indigo-400 hover:text-indigo-600",children:x.jsx(Oa,{size:18})})}),x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"p-3 bg-white rounded-full text-indigo-600 shadow-sm",children:x.jsx(zT,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-indigo-900 font-bold mb-1",children:"Anlise da Even AI"}),x.jsx("div",{className:"text-indigo-800 prose prose-indigo max-w-none whitespace-pre-line text-sm leading-relaxed",children:M})]})]})]}),L()]})]})]})},ya=({icon:e,label:t,active:n,onClick:r,collapsed:i})=>x.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-6 py-4 transition-colors ${n?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[x.jsx("div",{className:n?"text-blue-600":"text-gray-600",children:e}),!i&&x.jsx("span",{className:"font-medium text-sm",children:t})]}),Ole=({onLoginSuccess:e})=>{const[t,n]=A.useState(""),[r,i]=A.useState(""),[a,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(""),m=async v=>{v.preventDefault(),d(!0),h("");try{const{data:_,error:S}=await ke.from("Logins").select("*").eq("email",t).eq("senha",r).single();if(S||!_)throw new Error("Email ou senha incorretos");localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userEmail",t),e()}catch(_){h(_.message||"Erro ao fazer login")}finally{d(!1)}};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg",children:x.jsx(HT,{className:"text-white",size:32})}),x.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Even Digital"}),x.jsx("p",{className:"text-slate-500",children:"Gesto Financeira"})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Bem-vindo de volta"}),f&&x.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm flex items-center gap-2",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),f]}),x.jsxs("form",{onSubmit:m,className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-slate-700 text-sm font-medium mb-2",children:"Email"}),x.jsxs("div",{className:"relative",children:[x.jsx(Bz,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),x.jsx("input",{type:"email",required:!0,value:t,onChange:v=>n(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"seu@email.com"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-slate-700 text-sm font-medium mb-2",children:"Senha"}),x.jsxs("div",{className:"relative",children:[x.jsx(jz,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),x.jsx("input",{type:a?"text":"password",required:!0,value:r,onChange:v=>i(v.target.value),className:"w-full pl-12 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:""}),x.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:a?x.jsx(Cz,{size:20}):x.jsx(Oz,{size:20})})]})]}),x.jsx("button",{type:"submit",disabled:u,className:"w-full py-3.5 bg-blue-600 text-white rounded-xl font-semibold text-base hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2",children:u?x.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):x.jsxs(x.Fragment,{children:[x.jsx(HT,{size:20}),"Entrar"]})})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("a",{href:"#",className:"text-blue-600 text-sm font-medium hover:underline",children:"Esqueceu sua senha?"})})]}),x.jsx("p",{className:"text-center text-slate-400 text-sm mt-6",children:" 2026 Even Digital. Todos os direitos reservados."})]})})},Ile=()=>{const[e,t]=A.useState(!1),[n,r]=A.useState(!0);return A.useEffect(()=>{const i=localStorage.getItem("isLoggedIn")==="true";t(i),r(!1)},[]),n?x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-white border-t-transparent"}),x.jsx("p",{className:"text-white text-lg font-medium",children:"Carregando..."})]})}):e?x.jsx(Nle,{}):x.jsx(Ole,{onLoginSuccess:()=>t(!0)})},_L=document.getElementById("root");if(!_L)throw new Error("Could not find root element to mount to");const Ple=Z$.createRoot(_L);Ple.render(x.jsx(Uu.StrictMode,{children:x.jsx(Ile,{})}));
